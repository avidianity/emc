{"version":3,"sources":["shims.ts","Libraries/Event/Key.ts","Libraries/Event/Observer.ts","Libraries/Event/Bus.ts","Libraries/State.ts","boot.ts","routes.ts","hooks.ts","helpers.ts","Libraries/Service.ts","Services/admission.service.ts","Services/course.service.ts","Services/year.service.ts","Services/user.service.ts","Components/Admissions/Form.tsx","Components/Shared/Table.tsx","Components/Admissions/List.tsx","Components/Admissions/index.tsx","Components/ChangePassword.tsx","Components/Courses/Form.tsx","Components/Courses/List.tsx","Components/Courses/index.tsx","Components/Dashboard/Analytics.tsx","Components/Dashboard/Navbar.tsx","Components/Dashboard/Sidebar.tsx","Services/subject.service.ts","Components/Dashboard/Student/Enrollment.tsx","Components/Dashboard/Student/Grades.tsx","Components/Dashboard/Student/Profile.tsx","Services/log.service.ts","Components/Logs/List.tsx","Components/Logs/index.tsx","Services/mail.service.ts","Components/Mails/List.tsx","Components/Mails/index.tsx","Components/Registrars/Form.tsx","Components/Registrars/List.tsx","Components/Registrars/index.tsx","Services/requirement.service.ts","Components/Requirements/Form.tsx","Components/Requirements/List.tsx","Components/Requirements/index.tsx","Services/schedule.service.ts","Services/section.service.ts","Components/Schedules/Form.tsx","Components/Schedules/List.tsx","Components/Dashboard/Student/Schedules.tsx","Components/Schedules/index.tsx","Services/grade.service.ts","Components/Students/List.tsx","Components/Students/Subjects.tsx","Components/Students/index.tsx","Components/Subjects/Form.tsx","Components/Subjects/List.tsx","Components/Subjects/View.tsx","Components/Subjects/index.tsx","Components/Teachers/Form.tsx","Components/Teachers/List.tsx","Components/Teachers/index.tsx","Services/unit.service.ts","Components/Units/Form.tsx","Components/Units/List.tsx","Components/Units/index.tsx","Components/Users/List.tsx","Components/Users/index.tsx","Components/Years/Form.tsx","Components/Years/List.tsx","Components/Years/index.tsx","Views/Dashboard.tsx","Assets/landing.jpg","Views/Home.tsx","Views/Login/Form.tsx","Views/Login/Selection.tsx","Views/Login/index.tsx","Components/PreRegistration.tsx","Views/App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["Error","prototype","toJSON","alt","_this","this","Object","getOwnPropertyNames","forEach","key","stack","split","map","string","trim","filter","_","i","String","toNumber","parts","length","whole","match","join","decimals","Number","toString","characters","random","size","results","x","charAt","Math","floor","Array","first","last","HTMLElement","disable","mode","removeAttribute","setAttribute","Key","name","id","v4","Observer","callback","value","Bus","observers","handle","unshift","getName","getID","index","findIndex","observer","getKey","splice","execute","State","storage","bus","window","localStorage","data","getAll","setAll","getItem","JSON","parse","setItem","stringify","has","dispatch","listen","unlisten","instance","dayjs","extend","relativeTime","customParseFormat","toastr","options","escapeHtml","extendedTimeOut","$","jQuery","axios","defaults","baseURL","withCredentials","headers","common","get","catch","console","error","state","getInstance","token","interceptors","request","use","config","routes","useURL","useRouteMatch","path","useMode","useState","useNullable","useArray","useCurrentYear","useQuery","a","undefined","onSuccess","year","Asker","message","title","toBool","swal","text","buttons","icon","dangerMode","isBehind","student","admissions","find","admission","current","findSection","section","sections","outIf","condition","output","defaultValue","isArray","_isArray","ucfirst","array","toUpperCase","setValues","setter","networkHandle","authHandle","handleError","useHandle","response","errors","status","values","includes","setTimeout","clearTimeout","sentencify","isString","words","snakeCase","word","toLowerCase","Intl","NumberFormat","style","currency","Service","url","params","resolveURL","payload","post","put","delete","URLSearchParams","admissionService","courseService","yearService","userService","Form","props","processing","setProcessing","setMode","useForm","defaultValues","force","register","setValue","handleSubmit","reset","setID","history","useHistory","birthday","setBirthday","majorID","setMajorID","number","setNumber","course","setCourse","courses","fetch","years","fetchOne","toDate","major_id","goBack","submit","majors","requirements","year_id","create","update","success","save","log","useEffect","then","users","user","role","padStart","Date","getFullYear","className","onSubmit","htmlFor","type","disabled","start","end","readOnly","maxDate","onChange","dates","mask","e","target","open","description","major","onClick","Table","columns","loading","onRefresh","items","misc","setData","preventDefault","column","selector","row","accessor","sortable","pagination","fixedHeader","subHeader","subHeaderComponent","placeholder","item","keys","theme","List","isFetching","isError","refetch","active","deleteItem","danger","info","minWidth","push","done","id_number","uuid","last_name","first_name","middle_name","gender","code","requirement","actions","to","notice","Admissions","exact","component","route","ChangePassword","pattern","setMajors","test","cols","rows","course_id","short_name","Courses","Chart","registerables","Analytics","students","old","new","total","genders","males","females","graduates","enrollees","pending","subjects","Promise","all","charts","labels","datasets","label","admissions_count","backgroundColor","borderColor","borderWidth","scales","y","beginAtZero","ticks","precision","chart","destroy","Navbar","menu","setMenu","light","document","getElementById","dark","addClass","removeClass","bar","roleDisplay","hasClass","href","set","src","remove","Sidebar","setSection","useCurrentSection","roles","Admin","Registrar","Teacher","Student","height","width","semester","activeClassName","collapse","subjectService","Enrollment","print","setPrint","temp","selected","setSelected","enrolled","setEnrolled","subject","refetchUser","ref","createRef","selectAll","setSelectAll","allowed_units","fontSize","term","level","non","valid","display","checked","units","maxWidth","reduce","previous","next","Grades","setAdmissions","reverse","findGrade","grades","grade","subject_id","filterSubjects","previous_subjects","s","prev","Profile","format","logService","created_at","Logs","mailService","colors","Sent","Pending","Failed","modalRef","mail","sent","modal","html","body","tabIndex","Mails","registrar","age","Registrars","requirementService","Requirements","scheduleService","sectionService","setMajor","teacher","setTeacher","setYear","setTerm","day","start_time","end_time","setRows","refetchCourses","refetchUsers","refetchSubjects","refetchYears","refetchSections","refetchAll","schedules","schedule","teacher_id","section_id","enableTime","altFormat","altInput","times","Schedules","SchedulesStudent","gradeService","incrementModalRef","updatePaymentModalRef","registerGrade","registerUser","handleSubmitUser","resetUser","setValueUser","setStudent","addGradeModalRef","semesterStart","setSemesterStart","semesterEnd","setSemesterEnd","registrationStart","setRegistrationStart","registrationEnd","setRegistrationEnd","gradeStart","setGradeStart","gradeEnd","setGradeEnd","yearHandleSubmit","yearReset","determine","useCallback","location","pathname","setType","statuses","submitYear","semester_start","semester_end","registration_start","registration_end","grade_start","grade_end","evaluate","missing","failed","passed","submitGrade","student_id","submitUser","findAdmission","reincrement","payment_status","download","min","max","dateFormat","Subjects","useParams","check","now","isBefore","okay","isAfter","sub","Students","unit","refine","students_count","memoizedRefine","memoized","useMemo","raw","View","studentID","setStudentID","isLoading","setGrade","setSetGrade","gradeAmount","setGradeAmount","position","right","on","toggle","email","address","Teachers","unitService","Units","new_password","repeat_password","user_id","full_name","Users","setAsCurrent","registration","Years","Dashboard","localRoutes","Home","background","visibility","animationDelay","animationName","tries","setTries","block","isValid","add","Selection","Login","PreRegistration","pre_registration","m","urls","App","links","scripts","script","createElement","classList","defer","append","QueryClientProvider","client","QueryClient","link","Boolean","hostname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","unregister"],"mappings":"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","file":"static/js/main.d9218279.chunk.js","sourcesContent":["import { trim } from 'lodash';\r\n\r\nError.prototype.toJSON = function () {\r\n\tconst alt = {} as any;\r\n\r\n\tconst _this = this as any;\r\n\tObject.getOwnPropertyNames(_this).forEach(function (key) {\r\n\t\talt[key] = _this[key];\r\n\t}, _this);\r\n\r\n\tif ('stack' in alt) {\r\n\t\talt.stack = alt.stack\r\n\t\t\t.split(/\\r?\\n/)\r\n\t\t\t.map((string: string) => string.trim())\r\n\t\t\t.filter((_: any, i: number) => i !== 0);\r\n\t}\r\n\r\n\treturn alt;\r\n};\r\n\r\nString.prototype.toNumber = function () {\r\n\tconst parts = this.split('.');\r\n\tif (parts.length > 1) {\r\n\t\tconst whole = (parts[0].match(/\\d/g) || []).join('');\r\n\t\tconst decimals = (parts[1].match(/\\d/g) || []).join('');\r\n\t\treturn Number(`${whole}.${decimals}`) || 0;\r\n\t}\r\n\tconst match = this.match(/\\d/g);\r\n\tif (!match) {\r\n\t\treturn 0;\r\n\t}\r\n\treturn Number(match.join('')) || 0;\r\n};\r\n\r\nString.prototype.trim = function () {\r\n\treturn trim(this.toString());\r\n};\r\n\r\nconst characters = '1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM';\r\n\r\nString.random = (size = 40) => {\r\n\tlet results = '';\r\n\r\n\tfor (let x = 0; x < size; x++) {\r\n\t\tresults += characters.charAt(Math.floor(Math.random() * characters.length));\r\n\t}\r\n\r\n\treturn results;\r\n};\r\n\r\nArray.prototype.random = function () {\r\n\treturn this[Math.floor(Math.random() * this.length)];\r\n};\r\n\r\nArray.prototype.first = function () {\r\n\tif (this.length > 0) {\r\n\t\treturn this[0];\r\n\t}\r\n\treturn undefined;\r\n};\r\n\r\nArray.prototype.last = function () {\r\n\tif (this.length > 0) {\r\n\t\treturn this[this.length - 1];\r\n\t}\r\n\treturn undefined;\r\n};\r\n\r\nHTMLElement.prototype.disable = function (mode?: boolean) {\r\n\tif (mode === false) {\r\n\t\tthis.removeAttribute('disabled');\r\n\t} else {\r\n\t\tthis.setAttribute('disabled', 'disabled');\r\n\t}\r\n};\r\n\r\nexport {};\r\n","import { v4 } from 'uuid';\r\n\r\nexport class Key {\r\n\tprotected id: string;\r\n\tprotected name: string;\r\n\r\n\tconstructor(name: string) {\r\n\t\tthis.id = v4();\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tgetID() {\r\n\t\treturn this.id;\r\n\t}\r\n\r\n\tgetName() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\ttoString() {\r\n\t\treturn `'${this.id} - ${this.name}'`;\r\n\t}\r\n}\r\n","import { Key } from './Key';\r\n\r\nexport class Observer {\r\n\tprotected key: Key;\r\n\tprotected callback: Function;\r\n\r\n\tconstructor(key: Key, callback: Function) {\r\n\t\tthis.key = key;\r\n\t\tthis.callback = callback;\r\n\t}\r\n\r\n\texecute(value: any) {\r\n\t\tthis.callback(value);\r\n\t}\r\n\r\n\tgetKey() {\r\n\t\treturn this.key;\r\n\t}\r\n}\r\n","import { Key } from './Key';\r\nimport { Observer } from './Observer';\r\n\r\ntype Observers = {\r\n\t[key: string]: Observer[];\r\n};\r\n\r\nexport class Bus {\r\n\tprotected observers: Observers = {};\r\n\r\n\tlisten<T = any>(key: string, callback: (value: T) => void) {\r\n\t\tif (!(key in this.observers)) {\r\n\t\t\tthis.observers[key] = [];\r\n\t\t}\r\n\r\n\t\tconst handle = new Key(key);\r\n\t\tthis.observers[key].unshift(new Observer(handle, callback));\r\n\r\n\t\treturn handle;\r\n\t}\r\n\r\n\tunlisten(key: Key) {\r\n\t\tconst name = key.getName();\r\n\t\tconst id = key.getID();\r\n\r\n\t\tif (!(name in this.observers)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst index = this.observers[name].findIndex((observer) => observer.getKey().getID() === id);\r\n\r\n\t\tif (index >= 0) {\r\n\t\t\tthis.observers[name].splice(index, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tdispatch(name: string, value?: any) {\r\n\t\tif (!(name in this.observers)) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tthis.observers[name].forEach((observer) => observer.execute(value));\r\n\t\treturn this;\r\n\t}\r\n}\r\n","import { Bus } from './Event/Bus';\r\nimport { Key } from './Event/Key';\r\n\r\nexport type StorageItem = {\r\n\t[key: string]: any;\r\n};\r\n\r\nexport type ChangeEvent<T> = (value: T) => void;\r\n\r\nexport class State {\r\n\tprotected static instance = new State();\r\n\tprotected storage: Storage;\r\n\tprotected key = 'emc-state-key';\r\n\tprotected bus: Bus;\r\n\r\n\tconstructor(key?: string) {\r\n\t\tthis.storage = window.localStorage;\r\n\t\tthis.bus = new Bus();\r\n\t\tif (key) {\r\n\t\t\tthis.key = key;\r\n\t\t}\r\n\t\tconst data = this.getAll();\r\n\t\tthis.setAll({ ...data });\r\n\t}\r\n\r\n\tstatic getInstance() {\r\n\t\treturn this.instance;\r\n\t}\r\n\r\n\tclear() {\r\n\t\treturn this.setAll({});\r\n\t}\r\n\r\n\tprotected getAll(): StorageItem {\r\n\t\ttry {\r\n\t\t\tconst data = this.storage.getItem(this.key);\r\n\t\t\treturn data ? JSON.parse(data) : {};\r\n\t\t} catch (_) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t}\r\n\r\n\tprotected setAll(data: StorageItem) {\r\n\t\tthis.storage.setItem(this.key, JSON.stringify(data));\r\n\t\treturn this;\r\n\t}\r\n\r\n\thas(key: string) {\r\n\t\treturn key in this.getAll();\r\n\t}\r\n\r\n\tget<T = any>(key: string): T | null {\r\n\t\tif (!this.has(key)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn this.getAll()[key];\r\n\t}\r\n\r\n\tset(key: string, value: any) {\r\n\t\tconst data = this.getAll();\r\n\t\tdata[key] = value;\r\n\t\tthis.dispatch(key, value);\r\n\t\treturn this.setAll(data);\r\n\t}\r\n\r\n\tremove(key: string) {\r\n\t\tif (this.has(key)) {\r\n\t\t\tconst data = this.getAll();\r\n\t\t\tdelete data[key];\r\n\t\t\tthis.setAll(data);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tprotected dispatch<T>(key: string, value: T) {\r\n\t\tthis.bus.dispatch(key, value);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tlisten<T>(key: string, callback: ChangeEvent<T>) {\r\n\t\treturn this.bus.listen(key, callback);\r\n\t}\r\n\r\n\tunlisten(key: Key) {\r\n\t\tthis.bus.unlisten(key);\r\n\t\treturn this;\r\n\t}\r\n}\r\n","import toastr from 'toastr';\r\nimport 'toastr/build/toastr.css';\r\nimport axios from 'axios';\r\nimport './shims';\r\nimport $ from 'jquery';\r\nimport 'popper.js';\r\nimport 'bootstrap';\r\nimport 'datatables.net';\r\nimport 'datatables.net-bs4';\r\nimport { State } from './Libraries/State';\r\nimport 'flatpickr/dist/themes/material_blue.css';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\r\n\r\ndayjs.extend(relativeTime);\r\ndayjs.extend(customParseFormat);\r\n\r\ntoastr.options.escapeHtml = true;\r\ntoastr.options.extendedTimeOut = 2000;\r\n\r\nwindow.toastr = toastr;\r\nwindow.$ = $;\r\nwindow.jQuery = $;\r\n\r\nconst url = process.env.REACT_APP_SERVER_URL || '';\r\n\r\naxios.defaults.baseURL = `${url}/api`;\r\naxios.defaults.withCredentials = true;\r\naxios.defaults.headers.common['Accept'] = 'application/json';\r\n\r\naxios.get(`${url}/sanctum/csrf-cookie`).catch(console.error);\r\n\r\nconst state = State.getInstance();\r\n\r\nif (state.has('token')) {\r\n\tconst token = state.get('token');\r\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n}\r\n\r\nstate.listen<string>('token', (token) => {\r\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n});\r\n\r\naxios.interceptors.request.use((config) => {\r\n\tif (state.has('token')) {\r\n\t\tconfig.headers['Authorization'] = `Bearer ${state.get<string>('token')}`;\r\n\t}\r\n\r\n\treturn config;\r\n});\r\n","export const routes = {\r\n\tADMISSIONS: '/admissions',\r\n\tDASHBOARD: '/dashboard',\r\n\tHOME: '/',\r\n\tFORGOT_PASSWORD: '/forgot-password',\r\n\tCHANGE_PASSWORD: '/change-password',\r\n\tLOGIN: '/login',\r\n\tPREREGISTRATION: '/pre-registration',\r\n\tCOURSES: '/courses',\r\n\tSTUDENTS: '/students',\r\n\tTEACHERS: '/teachers',\r\n\tREGISTRARS: '/registrars',\r\n\tSCHEDULES: '/schedules',\r\n\tSUBJECTS: '/subjects',\r\n\tUSERS: '/users',\r\n\tMAILS: '/mails',\r\n\tYEARS: '/school-years',\r\n\tGRADES: '/grades',\r\n\tENROLLMENT: '/enrollment',\r\n\tPROFILE: '/profile',\r\n\tADMISSION_REQUIREMENTS: '/admission-requirements',\r\n\tLOGS: '/logs',\r\n\tUNITS: '/units',\r\n};\r\n","import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { SectionContract } from './Contracts/section.contract';\r\nimport { YearContract } from './Contracts/year.contract';\r\n\r\nexport function useURL() {\r\n\tconst match = useRouteMatch();\r\n\r\n\treturn (path: string) => `${match.path}${path}`;\r\n}\r\n\r\nexport function useMode() {\r\n\treturn useState<'Add' | 'Edit'>('Add');\r\n}\r\n\r\nexport function useNullable<T>(data?: T) {\r\n\treturn useState<T | null>(data || null);\r\n}\r\n\r\nexport function useArray<T>(data?: T[]) {\r\n\treturn useState<T[]>(data || []);\r\n}\r\n\r\nexport function useCurrentYear(options?: { onSuccess: (year?: YearContract) => void }) {\r\n\treturn useQuery(\r\n\t\t['years', 'current'],\r\n\t\tasync () => {\r\n\t\t\tconst { data } = await axios.get<YearContract | null>('/years/current');\r\n\t\t\tif (data) {\r\n\t\t\t\treturn data;\r\n\t\t\t}\r\n\r\n\t\t\treturn undefined;\r\n\t\t},\r\n\t\t{\r\n\t\t\tonSuccess(year) {\r\n\t\t\t\toptions?.onSuccess(year);\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n}\r\n\r\nexport function useCurrentSection() {\r\n\tconst [section, setSection] = useNullable<SectionContract>();\r\n\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/sections/current')\r\n\t\t\t.then((response) => setSection(response.data))\r\n\t\t\t.catch((error) => console.log(error.toJSON()));\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn section;\r\n}\r\n","import toastr from 'toastr';\r\nimport _, { isArray as _isArray, isString, trim } from 'lodash';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport swal from 'sweetalert';\r\nimport { UserContract } from './Contracts/user.contract';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport class Asker {\r\n\tstatic async notice(message: string, title?: string) {\r\n\t\treturn toBool(await swal({ title, text: message, buttons: ['Cancel', 'Confirm'], icon: 'warning' }));\r\n\t}\r\n\r\n\tstatic async danger(message: string, title?: string) {\r\n\t\treturn toBool(await swal({ title, text: message, buttons: ['Cancel', 'Confirm'], dangerMode: true, icon: 'warning' }));\r\n\t}\r\n\r\n\tstatic async save(message: string, title?: string) {\r\n\t\treturn toBool(await swal({ title, text: message, buttons: ['Cancel', 'Save'], icon: 'info' }));\r\n\t}\r\n\r\n\tstatic async okay(message: string, title?: string) {\r\n\t\treturn toBool(await swal({ title, text: message, icon: 'info' }));\r\n\t}\r\n}\r\n\r\nexport function isBehind(student: UserContract) {\r\n\treturn student.admissions?.find((admission) => admission.year?.current) === undefined;\r\n}\r\n\r\nexport function findSection(student: UserContract) {\r\n\tconst section = student.sections?.find((section) => section.year?.current);\r\n\tif (section) {\r\n\t\treturn section;\r\n\t}\r\n\treturn student.sections?.last();\r\n}\r\n\r\nexport function outIf<T>(condition: boolean, output: T, defaultValue: any = ''): T {\r\n\treturn condition ? output : (defaultValue as T);\r\n}\r\n\r\nexport function toBool(data: any) {\r\n\treturn data ? true : false;\r\n}\r\n\r\nexport function isArray<T>(value: any): value is T[] {\r\n\treturn _isArray<T>(value);\r\n}\r\n\r\nexport function toJSON(data: any) {\r\n\treturn trim(JSON.stringify(data));\r\n}\r\n\r\nexport function validURL(url: string) {\r\n\tlet valid = false;\r\n\tvar pattern = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!-/]))?/;\r\n\ttry {\r\n\t\tnew URL(url);\r\n\t\tvalid = true;\r\n\t} catch (_) {\r\n\t\tvalid = false;\r\n\t}\r\n\treturn !!pattern.test(url) && valid;\r\n}\r\n\r\nexport function ucfirst(string: string) {\r\n\tconst array = string.split('');\r\n\tarray[0] = array[0].toUpperCase();\r\n\treturn array.join('');\r\n}\r\n\r\nexport function ucwords(string: string) {\r\n\treturn string\r\n\t\t.split(' ')\r\n\t\t.map((word) => (word === 'Id' ? 'ID' : ucfirst(word)))\r\n\t\t.join(' ');\r\n}\r\n\r\nexport function setValues(setter: Function, data: any) {\r\n\tfor (const key in data) {\r\n\t\tsetter(key, data[key]);\r\n\t}\r\n}\r\n\r\nlet networkHandle: NodeJS.Timeout | null = null;\r\nlet authHandle: NodeJS.Timeout | null = null;\r\n\r\nexport function handleError(error: any, useHandle = true) {\r\n\tif (error) {\r\n\t\tif (error.response) {\r\n\t\t\tconst response = error.response;\r\n\t\t\tif (response.data.errors && response.status === 422) {\r\n\t\t\t\treturn Object.values<string[]>(response.data.errors).map((errors) => errors.map((error) => toastr.error(error)));\r\n\t\t\t}\r\n\t\t\tif (response.data.message) {\r\n\t\t\t\tif ([500, 400, 403, 404].includes(response.status)) {\r\n\t\t\t\t\treturn toastr.error(response.data.message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.status === 401) {\r\n\t\t\t\t\tif (authHandle === null) {\r\n\t\t\t\t\t\ttoastr.error('Authentication has expired. Please try logging in and try again.');\r\n\t\t\t\t\t\tauthHandle = setTimeout(() => {\r\n\t\t\t\t\t\t\tif (authHandle !== null) {\r\n\t\t\t\t\t\t\t\tclearTimeout(authHandle);\r\n\t\t\t\t\t\t\t\tauthHandle = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 5000);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isArray(response.data.message)) {\r\n\t\t\t\t\treturn response.data.message.forEach((message: string) =>\r\n\t\t\t\t\t\ttoastr.error(sentencify(message), undefined, { extendedTimeOut: 2000 })\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if (isString(response.data.message)) {\r\n\t\t\t\t\treturn toastr.error(sentencify(response.data.message));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (error.message) {\r\n\t\t\tif (error.message.includes('Network Error')) {\r\n\t\t\t\tif (networkHandle === null && useHandle) {\r\n\t\t\t\t\ttoastr.error('Unable to connect. Please check your internet connection or the server may be down.');\r\n\t\t\t\t\tnetworkHandle = setTimeout(() => {\r\n\t\t\t\t\t\tif (networkHandle !== null) {\r\n\t\t\t\t\t\t\tclearTimeout(networkHandle);\r\n\t\t\t\t\t\t\tnetworkHandle = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 5000);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn toastr.error(error.message);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\treturn toastr.error('Something went wrong, please try again later.', 'Oops!');\r\n\t}\r\n}\r\n\r\nexport function errorToStrings(error: any) {\r\n\tif (error) {\r\n\t\tif (error.response) {\r\n\t\t\tconst response = error.response;\r\n\t\t\tif (response.data.message) {\r\n\t\t\t\tif (isArray(response.data.message)) {\r\n\t\t\t\t\treturn (response.data.message as string[]).map((message) => sentencify(message));\r\n\t\t\t\t} else if (isString(response.data.message)) {\r\n\t\t\t\t\treturn [sentencify(response.data.message)];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (error.message) {\r\n\t\t\tif (isString(error.message)) {\r\n\t\t\t\tif (error.message.includes('Network Error')) {\r\n\t\t\t\t\treturn ['Unable to connect. Please check your internet connection or the server may be down.'];\r\n\t\t\t\t}\r\n\t\t\t\treturn [error.message as string];\r\n\t\t\t} else if (isArray(error.message)) {\r\n\t\t\t\treturn (error.message as string[]).map((message) => sentencify(message));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn ['Something went wrong, please try again later.'];\r\n}\r\n\r\nexport function groupBy<T, K extends keyof T>(data: Array<T>, key: K) {\r\n\tconst temp: { [key: string]: Array<T> } = {};\r\n\r\n\tdata.forEach((item) => {\r\n\t\tconst property: any = item[key];\r\n\t\tif (!(property in temp)) {\r\n\t\t\ttemp[property] = [];\r\n\t\t}\r\n\t\ttemp[property].push(item);\r\n\t});\r\n\treturn Object.keys(temp).map((key) => temp[key]);\r\n}\r\n\r\nexport function sentencify(words: string) {\r\n\treturn ucfirst(\r\n\t\t_.snakeCase(words)\r\n\t\t\t.split('_')\r\n\t\t\t.map((word) => (word.toLowerCase() === 'id' ? 'ID' : word))\r\n\t\t\t.join(' ')\r\n\t);\r\n}\r\n\r\nexport function fromNow(date: any) {\r\n\treturn dayjs(date).fromNow();\r\n}\r\n\r\nexport function makeMask<T extends Function>(callable: T, callback: Function) {\r\n\treturn ((data: any) => {\r\n\t\treturn callable(callback(data));\r\n\t}) as unknown as T;\r\n}\r\n\r\nexport function except<T, K extends keyof T>(data: T, keys: Array<K>) {\r\n\tconst copy = {} as T;\r\n\r\n\tfor (const key in data) {\r\n\t\tcopy[key] = data[key];\r\n\t}\r\n\r\n\tfor (const key of keys) {\r\n\t\tif (key in copy) {\r\n\t\t\tdelete copy[key];\r\n\t\t}\r\n\t}\r\n\treturn copy;\r\n}\r\n\r\nexport function exceptMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\r\n\treturn [...data].map((item) => except(item, keys));\r\n}\r\n\r\nexport function has<T>(keys: Array<T>, data: T) {\r\n\treturn keys.includes(data);\r\n}\r\n\r\nexport function only<T, K extends keyof T>(data: T, keys: Array<K>) {\r\n\tconst result = {} as T;\r\n\t(result as any)['id'] = (data as any)['id'];\r\n\tfor (const key of keys) {\r\n\t\tresult[key] = data[key];\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport function onlyMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\r\n\treturn [...data].map((item) => only(item, keys));\r\n}\r\n\r\nconst formatter = new Intl.NumberFormat('en-PH', {\r\n\tstyle: 'currency',\r\n\tcurrency: 'PHP',\r\n});\r\n\r\nexport function formatCurrency(value: number) {\r\n\treturn formatter.format(value).replace(/\\D00(?=\\D*$)/, '');\r\n}\r\n","import axios from 'axios';\r\n\r\ntype FreeObject = {\r\n\t[key: string]: any;\r\n};\r\n\r\nexport class Service<T> {\r\n\tprotected url: string;\r\n\r\n\tconstructor(url: string) {\r\n\t\tthis.url = url;\r\n\t}\r\n\r\n\tasync fetch(params?: FreeObject) {\r\n\t\tconst { data } = await axios.get<T[]>(this.resolveURL(params));\r\n\t\treturn data;\r\n\t}\r\n\r\n\tasync fetchOne(id: any, params?: FreeObject) {\r\n\t\tconst { data } = await axios.get<T>(`${this.resolveURL(params)}/${id}`);\r\n\t\treturn data;\r\n\t}\r\n\r\n\tasync create(payload: T, params?: FreeObject) {\r\n\t\tconst { data } = await axios.post(`${this.resolveURL(params)}`, payload);\r\n\t\treturn data;\r\n\t}\r\n\r\n\tasync update(id: any, payload: Partial<T>, params?: FreeObject) {\r\n\t\tconst { data } = await axios.put(`${this.resolveURL(params)}/${id}`, payload);\r\n\t\treturn data;\r\n\t}\r\n\r\n\tasync delete(id: any, params?: FreeObject) {\r\n\t\tawait axios.delete(`${this.resolveURL(params)}/${id}`);\r\n\t}\r\n\r\n\tprotected resolveURL(params?: FreeObject) {\r\n\t\treturn `${this.url}${params ? `?${new URLSearchParams(params).toString()}` : ''}`;\r\n\t}\r\n}\r\n","import { AdmissionContract } from '../Contracts/admission.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class AdmissionService extends Service<AdmissionContract> {}\r\n\r\nexport const admissionService = new AdmissionService('/admissions');\r\n","import { CourseContract } from '../Contracts/course.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class CourseService extends Service<CourseContract> {}\r\n\r\nexport const courseService = new CourseService('/courses');\r\n","import { YearContract } from '../Contracts/year.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class YearService extends Service<YearContract> {}\r\n\r\nexport const yearService = new YearService('/years');\r\n","import { UserContract } from '../Contracts/user.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class UserService extends Service<UserContract> {}\r\n\r\nexport const userService = new UserService('/users');\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { Asker, handleError, setValues } from '../../helpers';\r\nimport { useMode, useNullable } from '../../hooks';\r\nimport { admissionService } from '../../Services/admission.service';\r\nimport Flatpickr from 'react-flatpickr';\r\nimport dayjs from 'dayjs';\r\nimport { useQuery } from 'react-query';\r\nimport { courseService } from '../../Services/course.service';\r\nimport { yearService } from '../../Services/year.service';\r\nimport { userService } from '../../Services/user.service';\r\nimport { CourseContract } from '../../Contracts/course.contract';\r\nimport InputMask from 'react-input-mask';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tcourse_id: number;\r\n\tlevel: string;\r\n\tstatus: string;\r\n\tterm: string;\r\n\tstudent_id: number;\r\n\tyear_id: number;\r\n\tmajor_id?: number;\r\n\trequirements: string[];\r\n\tstudent: {\r\n\t\tuuid: string;\r\n\t\tfirst_name: string;\r\n\t\tlast_name: string;\r\n\t\tmiddle_name?: string;\r\n\t\tgender?: string;\r\n\t\taddress?: string;\r\n\t\tplace_of_birth?: string;\r\n\t\tbirthday?: string;\r\n\t\trole: string;\r\n\t\temail: string;\r\n\t\tnumber: string;\r\n\t\tactive: boolean;\r\n\t\tpassword: string;\r\n\t\tfathers_name?: string;\r\n\t\tmothers_name?: string;\r\n\t\tfathers_occupation?: string;\r\n\t\tmothers_occupation?: string;\r\n\t\ttype: string;\r\n\t\tenrolled: boolean;\r\n\t\tpayment_status: 'Not Paid' | 'Fully Paid' | 'Partially Paid';\r\n\t};\r\n\tforce: boolean;\r\n\tdone: boolean;\r\n};\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useMode();\r\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\r\n\t\tdefaultValues: {\r\n\t\t\tforce: false,\r\n\t\t},\r\n\t});\r\n\tconst [id, setID] = useState(-1);\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch<{ id: string }>();\r\n\tconst [birthday, setBirthday] = useNullable<Date>();\r\n\tconst [majorID, setMajorID] = useNullable<number>();\r\n\tconst [number, setNumber] = useState('');\r\n\tconst [course, setCourse] = useNullable<CourseContract>();\r\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\r\n\tconst { data: years } = useQuery('years', () => yearService.fetch());\r\n\r\n\tconst fetch = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tconst data = await admissionService.fetchOne(id);\r\n\t\t\tsetID(data.id!);\r\n\t\t\tsetValues(setValue, data);\r\n\t\t\tsetBirthday(dayjs(data.student?.birthday).toDate());\r\n\t\t\tif (data.student) {\r\n\t\t\t\tfor (const key in data.student) {\r\n\t\t\t\t\tsetValue(`student.${key}` as any, (data.student as any)[key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetCourse(data.course!);\r\n\t\t\tif (data.major_id) {\r\n\t\t\t\tsetMajorID(data.major_id);\r\n\t\t\t}\r\n\t\t\tsetNumber(data.student?.number!);\r\n\t\t\tsetMode('Edit');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tif ((course?.majors?.length || 0) > 0 && !majorID) {\r\n\t\t\treturn toastr.error('Please pick a major.');\r\n\t\t}\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tif (majorID) {\r\n\t\t\t\tdata.major_id = majorID;\r\n\t\t\t}\r\n\t\t\tdata.requirements = [];\r\n\t\t\tdata.student.number = number;\r\n\t\t\tdata.student.birthday = birthday?.toJSON();\r\n\t\t\tdata.year_id = years?.find((year) => year.current)?.id!;\r\n\t\t\tawait (mode === 'Add' ? admissionService.create(data) : admissionService.update(id, data));\r\n\t\t\ttoastr.success('Admission has been saved successfully.');\r\n\t\t\tsetBirthday(null);\r\n\t\t\treset();\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response?.status === 409) {\r\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\r\n\t\t\t\t\tdata.force = true;\r\n\t\t\t\t\tawait submit(data);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('haha');\r\n\t\t\t\thandleError(error);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (match.path.includes('edit')) {\r\n\t\t\tfetch(match.params.id);\r\n\t\t} else {\r\n\t\t\tuserService.fetch().then((users) => {\r\n\t\t\t\tsetValue(\r\n\t\t\t\t\t'student.uuid',\r\n\t\t\t\t\t`student-${`${users.filter((user) => user.role === 'Student').length + 1}`.padStart(\r\n\t\t\t\t\t\t5,\r\n\t\t\t\t\t\t'0'\r\n\t\t\t\t\t)}-${new Date().getFullYear()}`\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h5 className='card-title'>{mode} Admission</h5>\r\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t<div className='form-row'>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='first_name'>First Name</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('student.first_name')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='first_name'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='year_id'>School Year</label>\r\n\t\t\t\t\t\t\t\t<select id='year_id' className='form-control' disabled>\r\n\t\t\t\t\t\t\t\t\t{years\r\n\t\t\t\t\t\t\t\t\t\t?.filter((year) => year.current)\r\n\t\t\t\t\t\t\t\t\t\t.map((year, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={year.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{year.start} - {year.end}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='middle_name'>Middle Name</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('student.middle_name')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='middle_name'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='uuid'>Student Number</label>\r\n\t\t\t\t\t\t\t\t<input {...register('student.uuid')} type='text' id='uuid' className='form-control' readOnly />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='last_name'>Last Name</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('student.last_name')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='last_name'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='address'>Address</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('student.address')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='address'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='gender'>Gender</label>\r\n\t\t\t\t\t\t\t\t<select {...register('student.gender')} id='gender' className='form-control' disabled={processing}>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='Male'>Male</option>\r\n\t\t\t\t\t\t\t\t\t<option value='Female'>Female</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email Address</label>\r\n\t\t\t\t\t\t\t\t<input {...register('student.email')} type='email' id='email' className='form-control' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='birthday'>Birthday</label>\r\n\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\tvalue={birthday || undefined}\r\n\t\t\t\t\t\t\t\t\tid='birthday'\r\n\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\tmaxDate: dayjs()\r\n\t\t\t\t\t\t\t\t\t\t\t.year(new Date().getFullYear() - 15)\r\n\t\t\t\t\t\t\t\t\t\t\t.toDate(),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetBirthday(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='number'>Phone Number</label>\r\n\t\t\t\t\t\t\t\t<InputMask\r\n\t\t\t\t\t\t\t\t\tmask='0\\999-999-9999'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='number'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={number}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t\t\t\t<i className='ml-auto'>Student user account credentials will be sent via email.</i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='fathers_name'>Name of Father</label>\r\n\t\t\t\t\t\t\t\t<input {...register('student.fathers_name')} type='text' id='fathers_name' className='form-control' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='mothers_name'>Name of Mother</label>\r\n\t\t\t\t\t\t\t\t<input {...register('student.mothers_name')} type='text' id='mothers_name' className='form-control' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='fathers_occupation'>Occupation of Father</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('student.fathers_occupation')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='fathers_occupation'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='mothers_occupation'>Occupation of Mother</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('student.mothers_occupation')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='mothers_occupation'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='course_id'>Course</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t{...register('course_id')}\r\n\t\t\t\t\t\t\t\t\tid='course_id'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\r\n\t\t\t\t\t\t\t\t\t\tif (course) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(course);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(null);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t{courses\r\n\t\t\t\t\t\t\t\t\t\t?.filter((course) => course.open)\r\n\t\t\t\t\t\t\t\t\t\t.map((course, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{course.description}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{course && course.majors && course.majors.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='major_id'>Major</label>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tid='major_id'\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetMajorID(e.target.value.toNumber());\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tvalue={`${majorID}`}>\r\n\t\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t\t{course.majors.map((major, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{major.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='term'>Term</label>\r\n\t\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...register('term')}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\t\t\t\tid='1st-semester'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='1st Semester'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='1st-semester'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t1st Semester\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...register('term')}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\t\t\t\tid='2nd-semester'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='2nd Semester'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='2nd-semester'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t2nd Semester\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...register('term')}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\t\t\t\tid='summer'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='Summer'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='summer'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSummer\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='level'>Year Level</label>\r\n\t\t\t\t\t\t\t\t<select {...register('level')} id='level' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='1st'>1st</option>\r\n\t\t\t\t\t\t\t\t\t<option value='2nd'>2nd</option>\r\n\t\t\t\t\t\t\t\t\t<option value='3rd'>3rd</option>\r\n\t\t\t\t\t\t\t\t\t<option value='4th'>4th</option>\r\n\t\t\t\t\t\t\t\t\t<option value='5th'>5th</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='status'>Student Status</label>\r\n\t\t\t\t\t\t\t\t<select {...register('status')} id='status' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='Regular'>Regular</option>\r\n\t\t\t\t\t\t\t\t\t<option value='Irregular'>Irregular</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group d-flex'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\r\n\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import React, { FC, useEffect } from 'react';\r\nimport Datatable from 'react-data-table-component';\r\nimport { useState } from 'react';\r\nimport { State } from '../../Libraries/State';\r\nimport { outIf } from '../../helpers';\r\n\r\nexport type TableProps = {\r\n\ttitle: string;\r\n\tcolumns: { title: string; accessor: string; minWidth?: string }[];\r\n\tbuttons?: any;\r\n\tloading: boolean;\r\n\tonRefresh: () => void;\r\n\titems: any[];\r\n\tmisc?: any;\r\n};\r\n\r\nconst Table: FC<TableProps> = ({ columns, title, buttons, loading, onRefresh, items, misc }) => {\r\n\tconst state = State.getInstance();\r\n\tconst [mode, setMode] = useState(state.get<string>('mode') || 'dark');\r\n\tconst [data, setData] = useState(items);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetData(items);\r\n\t}, [items]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst key = state.listen<string>('mode', (mode) => setMode(mode));\r\n\r\n\t\treturn () => {\r\n\t\t\tstate.unlisten(key);\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card shadow'>\r\n\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t<div className='container-fluid'>\r\n\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t<div className='col-12 d-flex align-items-center'>\r\n\t\t\t\t\t\t\t\t<h4 className='card-title mb-0'>{title}</h4>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm ml-auto'\r\n\t\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tonRefresh();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\ttitle='Refresh'>\r\n\t\t\t\t\t\t\t\t\t<i className={`fas fa-sync-alt ${outIf(loading, 'fa-spin')}`}></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t{buttons}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{misc ? <div className='col-12'>{misc}</div> : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`card-body table-responsive`}>\r\n\t\t\t\t\t<Datatable\r\n\t\t\t\t\t\tcolumns={columns.map((column) => ({\r\n\t\t\t\t\t\t\tname: column.title,\r\n\t\t\t\t\t\t\tselector: ((row: any) => row[column.accessor]) as any,\r\n\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t...column,\r\n\t\t\t\t\t\t}))}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\tpagination\r\n\t\t\t\t\t\tfixedHeader\r\n\t\t\t\t\t\tsubHeader\r\n\t\t\t\t\t\tsubHeaderComponent={\r\n\t\t\t\t\t\t\t<div className='d-flex align-items-center'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Search'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst text = e.target.value;\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (text.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetData(\r\n\t\t\t\t\t\t\t\t\t\t\t\titems.filter((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (const key of Object.keys(item)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst value = item[key];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (value && value.toString().includes(text)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetData(items);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttheme={mode === 'dark' ? 'dark' : 'default'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Table;\r\n","import React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError, Asker } from '../../helpers';\r\nimport { useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { admissionService } from '../../Services/admission.service';\r\nimport { userService } from '../../Services/user.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('admissions', () => admissionService.fetch());\r\n\r\n\tconst url = useURL();\r\n\r\n\tconst update = async (student: UserContract) => {\r\n\t\ttry {\r\n\t\t\tawait userService.update(student.id, { active: !student.active });\r\n\t\t\ttoastr.success(`Student ${student.active ? 'disabled' : 'enabled'} successfully.`);\r\n\t\t\trefetch();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Admission?')) {\r\n\t\t\t\tawait admissionService.delete(id);\r\n\t\t\t\ttoastr.info('Admission has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Student ID Number',\r\n\t\t\taccessor: 'id_number',\r\n\t\t\tminWidth: '160px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Student',\r\n\t\t\taccessor: 'student',\r\n\t\t\tminWidth: '250px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Gender',\r\n\t\t\taccessor: 'gender',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Course',\r\n\t\t\taccessor: 'course',\r\n\t\t\tminWidth: '350px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Year Level',\r\n\t\t\taccessor: 'level',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Semester',\r\n\t\t\taccessor: 'term',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Requirements',\r\n\t\t\taccessor: 'requirements',\r\n\t\t\tminWidth: '200px',\r\n\t\t},\r\n\t];\r\n\r\n\tif (user?.role === 'Registrar') {\r\n\t\tcolumns.push({\r\n\t\t\ttitle: 'Actions',\r\n\t\t\taccessor: 'actions',\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tonRefresh={() => refetch()}\r\n\t\t\ttitle='Admissions'\r\n\t\t\tloading={loading}\r\n\t\t\titems={\r\n\t\t\t\titems\r\n\t\t\t\t\t?.filter((admission) => !admission.student?.active && !admission.done)\r\n\t\t\t\t\t.map((admission) => ({\r\n\t\t\t\t\t\t...admission,\r\n\t\t\t\t\t\tid_number: admission.student?.uuid,\r\n\t\t\t\t\t\tstudent: `${admission.student?.last_name}, ${admission.student?.first_name} ${\r\n\t\t\t\t\t\t\tadmission.student?.middle_name || ''\r\n\t\t\t\t\t\t}`,\r\n\t\t\t\t\t\tgender: admission.student?.gender,\r\n\t\t\t\t\t\tcourse: `${admission.course?.code}${admission.major ? ` - Major in ${admission.major.name}` : ''}`,\r\n\t\t\t\t\t\trequirements: admission.requirements?.map((requirement, index) => (\r\n\t\t\t\t\t\t\t<span className='d-block' key={index}>\r\n\t\t\t\t\t\t\t\t{requirement}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t)),\r\n\t\t\t\t\t\tactions:\r\n\t\t\t\t\t\t\tuser?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t\t<div style={{ minWidth: '350px' }}>\r\n\t\t\t\t\t\t\t\t\t<Link to={url(`${admission.id}/edit`)} className='btn btn-warning btn-sm mx-1' title='Edit'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-${admission.student?.active ? 'danger' : 'info'} btn-sm mx-1`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.notice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t`Are you sure you want to ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tadmission.student?.active ? 'unconfirm' : 'confirm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} this student?`\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tupdate(admission.student!);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttitle={admission.student?.active ? 'Unconfirm' : 'Confirm'}>\r\n\t\t\t\t\t\t\t\t\t\t<i className={`fas fa-user-${admission.student?.active ? 'times' : 'check'}`}></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(admission.id);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null,\r\n\t\t\t\t\t})) || []\r\n\t\t\t}\r\n\t\t\tcolumns={columns}\r\n\t\t\tbuttons={\r\n\t\t\t\t<>\r\n\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport Form from './Form';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Admissions: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/add'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/edit'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Admissions;\r\n","import axios from 'axios';\r\nimport React, { FC, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { handleError } from '../helpers';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\told_password: string;\r\n\tnew_password: string;\r\n};\r\n\r\nconst ChangePassword: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst { register, handleSubmit } = useForm<Inputs>();\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.post('/auth/change-password', data);\r\n\t\t\ttoastr.success('Password changed successfully.');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid d-flex'>\r\n\t\t\t<div className='mx-auto'>\r\n\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label htmlFor='old_password'>Old Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t{...register('old_password')}\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tid='old_password'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<label htmlFor='new_password'>New Password</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t{...register('new_password')}\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tid='new_password'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\tpattern='^(?=\\P{Ll}*\\p{Ll})(?=\\P{Lu}*\\p{Lu})(?=\\P{N}*\\p{N})(?=[\\p{L}\\p{N}]*[^\\p{L}\\p{N}])[\\s\\S]{8,}$'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<small className='form-text text-muted'>\r\n\t\t\t\t\t\t\tPassword must contain atleast uppercase and lowercase letters, numbers and special characters.\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm' disabled={processing}>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { CourseContract } from '../../Contracts/course.contract';\r\nimport { MajorContract } from '../../Contracts/major.contract';\r\nimport { Asker, handleError, setValues } from '../../helpers';\r\nimport { useArray, useMode } from '../../hooks';\r\nimport { courseService } from '../../Services/course.service';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = CourseContract & { force: boolean };\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useMode();\r\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\r\n\t\tdefaultValues: {\r\n\t\t\tforce: false,\r\n\t\t},\r\n\t});\r\n\tconst [id, setID] = useState(-1);\r\n\tconst [majors, setMajors] = useArray<MajorContract>();\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch<{ id: string }>();\r\n\r\n\tconst fetch = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tconst data = await courseService.fetchOne(id);\r\n\t\t\tsetID(data.id!);\r\n\t\t\tsetValues(setValue, data);\r\n\t\t\tsetMajors(data.majors!);\r\n\t\t\tsetMode('Edit');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tconst formats = [/[A-Z]{4}/g, /[A-Z]{4} - [A-Z]{1,}/g];\r\n\t\tfor (const format of formats) {\r\n\t\t\tif (format.test(data.code)) {\r\n\t\t\t\tsetProcessing(true);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdata.majors = majors;\r\n\t\t\t\t\tawait (mode === 'Add' ? courseService.create(data) : courseService.update(id, data));\r\n\t\t\t\t\ttoastr.success('Course has been saved successfully.');\r\n\t\t\t\t\tsetMajors([]);\r\n\t\t\t\t\treturn reset();\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tif (error.response?.status === 409) {\r\n\t\t\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\r\n\t\t\t\t\t\t\tdata.force = true;\r\n\t\t\t\t\t\t\tawait submit(data);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thandleError(error);\r\n\t\t\t\t\t}\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tsetProcessing(false);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn toastr.error('Course Code does not follow correct format.');\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (match.path.includes('edit')) {\r\n\t\t\tfetch(match.params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h5 className='card-title'>{mode} Course</h5>\r\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label htmlFor='code'>Course Code</label>\r\n\t\t\t\t\t\t\t<input {...register('code')} type='text' id='code' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t\t<small className='form-text text-muted'>\r\n\t\t\t\t\t\t\t\tCourse code may not be editable in the future, be careful on your entry.\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label htmlFor='description'>Course Description</label>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t{...register('description')}\r\n\t\t\t\t\t\t\t\tid='description'\r\n\t\t\t\t\t\t\t\tcols={30}\r\n\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tdisabled={processing}></textarea>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('open')}\r\n\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\tid='open'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='open'>\r\n\t\t\t\t\t\t\t\t\tOpen for Enrollment\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<h4>Majors</h4>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tmajors.push({ name: '', course_id: 0, short_name: '' });\r\n\t\t\t\t\t\t\t\t\tsetMajors([...majors]);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<small className='my-3 form-text text-muted'>\r\n\t\t\t\t\t\t\t\tExample: <br />\r\n\t\t\t\t\t\t\t\tName: 'Mathematics'\r\n\t\t\t\t\t\t\t\t<br /> Short Name: 'M'\r\n\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t{majors.map((major, index) => (\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 col-xl-3 p-2' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='p-2 border rounded'>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mb-2'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmajors.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetMajors([...majors]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='my-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className='mb-0'>Major {index + 1}</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor={`name-${index}`}>Name</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={`name-${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmajor.name = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmajors.splice(index, 1, major);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMajors([...majors]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={major.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor={`short-name-${index}`}>Short Name</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={`short-name-${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmajor.short_name = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmajors.splice(index, 1, major);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMajors([...majors]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={major.short_name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group d-flex'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\r\n\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError, Asker } from '../../helpers';\r\nimport { useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { courseService } from '../../Services/course.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('courses', () => courseService.fetch());\r\n\r\n\tconst url = useURL();\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Course?')) {\r\n\t\t\t\tawait courseService.delete(id);\r\n\t\t\t\ttoastr.info('Course has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Course Code',\r\n\t\t\taccessor: 'code',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Course Description',\r\n\t\t\taccessor: 'description',\r\n\t\t\tminWidth: '350px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Majors',\r\n\t\t\taccessor: 'majors',\r\n\t\t\tminWidth: '250px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Status',\r\n\t\t\taccessor: 'open',\r\n\t\t\tminWidth: '150px',\r\n\t\t},\r\n\t];\r\n\r\n\tif (user?.role === 'Registrar') {\r\n\t\tcolumns.push({\r\n\t\t\ttitle: 'Actions',\r\n\t\t\taccessor: 'actions',\r\n\t\t\tminWidth: '150px',\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tonRefresh={() => refetch()}\r\n\t\t\ttitle='Courses'\r\n\t\t\tloading={loading}\r\n\t\t\titems={\r\n\t\t\t\titems?.map((course) => ({\r\n\t\t\t\t\t...course,\r\n\t\t\t\t\topen: course.open ? (\r\n\t\t\t\t\t\t<span className='badge badge-success'>Open for Enrollment</span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<span className='badge badge-danger'>Not Open for Enrollment</span>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tmajors: course.majors?.map((major, index) => (\r\n\t\t\t\t\t\t<span className='d-block' key={index}>\r\n\t\t\t\t\t\t\t{major.name}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t)),\r\n\t\t\t\t\tactions:\r\n\t\t\t\t\t\tuser?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Link to={url(`${course.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tdeleteItem(course.id);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : null,\r\n\t\t\t\t})) || []\r\n\t\t\t}\r\n\t\t\tcolumns={columns}\r\n\t\t\tbuttons={\r\n\t\t\t\t<>\r\n\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport Form from './Form';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Courses: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/add'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/edit'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Courses;\r\n","import axios from 'axios';\r\nimport React, { FC, useEffect, useState } from 'react';\r\nimport { CourseContract } from '../../Contracts/course.contract';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { outIf } from '../../helpers';\r\nimport { State } from '../../Libraries/State';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport { SubjectContract } from '../../Contracts/subject.contract';\r\nChart.register(...registerables);\r\n\r\ntype Props = {};\r\n\r\nconst Analytics: FC<Props> = (props) => {\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\tconst [data, setData] = useState({\r\n\t\tstudents: {\r\n\t\t\told: 0,\r\n\t\t\tnew: 0,\r\n\t\t\ttotal: 0,\r\n\t\t},\r\n\t\tcourses: [] as CourseContract[],\r\n\t\tgenders: {\r\n\t\t\tmales: 0,\r\n\t\t\tfemales: 0,\r\n\t\t},\r\n\t\tgraduates: 0,\r\n\t\tenrollees: {\r\n\t\t\tpending: 0,\r\n\t\t},\r\n\t\tsubjects: [] as SubjectContract[],\r\n\t});\r\n\r\n\tconst fetch = async () => {\r\n\t\ttry {\r\n\t\t\tconst [students, courses, genders, graduates, enrollees, subjects] = await Promise.all([\r\n\t\t\t\taxios.get<{ old: number; new: number; total: number }>('/analytics/students').then((response) => response.data),\r\n\t\t\t\taxios.get<CourseContract[]>('/analytics/courses').then((response) => response.data),\r\n\t\t\t\taxios.get<{ males: number; females: number }>('/analytics/genders').then((response) => response.data),\r\n\t\t\t\taxios.get<number>('/analytics/graduates').then((response) => response.data),\r\n\t\t\t\taxios.get<{ pending: number }>('/analytics/enrollees').then((response) => response.data),\r\n\t\t\t\taxios.get<SubjectContract[]>('/analytics/subjects').then((response) => response.data),\r\n\t\t\t]);\r\n\t\t\tsetData({\r\n\t\t\t\tstudents,\r\n\t\t\t\tcourses,\r\n\t\t\t\tsubjects,\r\n\t\t\t\tgenders,\r\n\t\t\t\tgraduates,\r\n\t\t\t\tenrollees,\r\n\t\t\t});\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcourses,\r\n\t\t\t\tsubjects,\r\n\t\t\t};\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t\treturn {\r\n\t\t\t\tcourses: [],\r\n\t\t\t\tsubjects: [],\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst charts: Chart<any>[] = [];\r\n\r\n\t\tfetch().then(({ courses }) => {\r\n\t\t\ttry {\r\n\t\t\t\tcharts.push(\r\n\t\t\t\t\tnew Chart($('#course') as any, {\r\n\t\t\t\t\t\ttype: 'bar',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tlabels: courses.map((course) => course.code),\r\n\t\t\t\t\t\t\tdatasets: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tlabel: '# of Students',\r\n\t\t\t\t\t\t\t\t\tdata: courses.map((course) => course.admissions_count),\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: [\r\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tborderColor: [\r\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tborderWidth: 1,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\tscales: {\r\n\t\t\t\t\t\t\t\ty: {\r\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t\t\t\t\t\tticks: {\r\n\t\t\t\t\t\t\t\t\t\tprecision: 0,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log('chartjs', error);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\tcharts.forEach((chart) => chart.destroy());\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={`container-fluid ${outIf(user?.role === 'Student', 'd-none')}`}>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className={`col-12 col-md-${user?.role === 'Registrar' ? '3' : '6'}`}>\r\n\t\t\t\t\t<div className='card bg-dark text-white shadow'>\r\n\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t<div className='row align-items-center'>\r\n\t\t\t\t\t\t\t\t<div className='col-3 text-center'>\r\n\t\t\t\t\t\t\t\t\t<span className='circle circle-sm'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fe fe-16 fe-users mb-0'></i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col pr-0'>\r\n\t\t\t\t\t\t\t\t\t<p className='small mb-0'>Male Students</p>\r\n\t\t\t\t\t\t\t\t\t<span className='text-white h3 mb-0' id='male-students'>\r\n\t\t\t\t\t\t\t\t\t\t{data.genders.males}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`col-12 col-md-${user?.role === 'Registrar' ? '3' : '6'}`}>\r\n\t\t\t\t\t<div className='card bg-dark text-white shadow'>\r\n\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t<div className='row align-items-center'>\r\n\t\t\t\t\t\t\t\t<div className='col-3 text-center'>\r\n\t\t\t\t\t\t\t\t\t<span className='circle circle-sm'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fe fe-16 fe-users mb-0'></i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col pr-0'>\r\n\t\t\t\t\t\t\t\t\t<p className='small mb-0'>Female Students</p>\r\n\t\t\t\t\t\t\t\t\t<span className='text-white h3 mb-0' id='female-students'>\r\n\t\t\t\t\t\t\t\t\t\t{data.genders.females}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className='col-12 col-md-3'>\r\n\t\t\t\t\t\t\t<div className='card bg-dark text-white shadow'>\r\n\t\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t\t<div className='row align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-3 text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='circle circle-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-16 fe-users mb-0'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col pr-0'>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='small mb-0'>Pending Enrollees</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='text-white h3 mb-0' id='pending-enrollees'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{data.enrollees.pending}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col-12 col-md-3'>\r\n\t\t\t\t\t\t\t<div className='card bg-dark text-white shadow'>\r\n\t\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t\t<div className='row align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-3 text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='circle circle-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-16 fe-users mb-0'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col pr-0'>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='small mb-0'>Total Students</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='text-white h3 mb-0' id='total-students'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{data.students.total}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<hr className='mt-5' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<div className='card shadow'>\r\n\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t<h4 className='card-title'>Students per Course</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t<canvas id='course'></canvas>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Analytics;\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { Asker, outIf } from '../../helpers';\r\nimport { State } from '../../Libraries/State';\r\nimport { routes } from '../../routes';\r\n\r\ntype Props = {};\r\n\r\nconst Navbar: FC<Props> = (props) => {\r\n\tconst state = State.getInstance();\r\n\tconst [mode, setMode] = useState(state.get<string>('mode') || 'dark');\r\n\tconst [menu, setMenu] = useState(false);\r\n\tconst history = useHistory();\r\n\r\n\tconst light = document.getElementById('lightTheme')!;\r\n\tconst dark = document.getElementById('darkTheme')!;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (mode === 'dark') {\r\n\t\t\t$('.vertical').addClass('dark');\r\n\t\t\tlight.disable(true);\r\n\t\t\tdark.disable(false);\r\n\t\t} else {\r\n\t\t\t$('.vertical').removeClass('dark');\r\n\t\t\tdark.disable(true);\r\n\t\t\tlight.disable(false);\r\n\t\t}\r\n\t}, [mode, light, dark]);\r\n\r\n\treturn (\r\n\t\t<nav className='topnav navbar navbar-light'>\r\n\t\t\t<button\r\n\t\t\t\ttype='button'\r\n\t\t\t\tclassName='navbar-toggler text-muted mt-2 p-0 mr-3'\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tconst bar = $('.vertical');\r\n\t\t\t\t\tconst roleDisplay = $('#account-role-display');\r\n\t\t\t\t\tif (bar.hasClass('collapsed')) {\r\n\t\t\t\t\t\troleDisplay.removeClass('d-none');\r\n\t\t\t\t\t\tbar.removeClass('collapsed');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\troleDisplay.addClass('d-none');\r\n\t\t\t\t\t\tbar.addClass('collapsed');\r\n\t\t\t\t\t}\r\n\t\t\t\t}}>\r\n\t\t\t\t<i className='fe fe-menu navbar-toggler-icon'></i>\r\n\t\t\t</button>\r\n\t\t\t<ul className='nav'>\r\n\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName='nav-link text-muted my-2'\r\n\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tif (mode === 'dark') {\r\n\t\t\t\t\t\t\t\tstate.set('mode', 'light');\r\n\t\t\t\t\t\t\t\tsetMode('light');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tstate.set('mode', 'dark');\r\n\t\t\t\t\t\t\t\tsetMode('dark');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<i className='fe fe-sun fe-16'></i>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={`nav-item dropdown ${outIf(menu, 'show')}`}>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName='nav-link dropdown-toggle text-muted pr-0'\r\n\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\trole='button'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tsetMenu(!menu);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<span className='avatar avatar-sm mt-2'>\r\n\t\t\t\t\t\t\t<img src='/logo.jpg' alt='...' className='avatar-img rounded-circle' />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<div className={`dropdown-menu dropdown-menu-right ${outIf(menu, 'show')}`}>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\tclassName='dropdown-item d-flex align-items-center'\r\n\t\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tif (await Asker.notice('Are you sure you want to logout?')) {\r\n\t\t\t\t\t\t\t\t\tstate.remove('user').remove('token');\r\n\t\t\t\t\t\t\t\t\thistory.push(routes.HOME);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<i className='la la-sign-out-alt mr-1'></i>\r\n\t\t\t\t\t\t\t<span>Logout</span>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { NavLink as Link } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { useCurrentSection, useCurrentYear, useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { routes } from '../../routes';\r\nimport { admissionService } from '../../Services/admission.service';\r\n\r\ntype Props = {};\r\n\r\nconst Sidebar: FC<Props> = (props) => {\r\n\tconst { data: admissions } = useQuery('admissions', () => admissionService.fetch());\r\n\tconst url = useURL();\r\n\tconst { data: year } = useCurrentYear();\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\tconst section = useCurrentSection();\r\n\r\n\tconst roles: { [key: string]: string[] } = {\r\n\t\tAdmin: [routes.COURSES, routes.STUDENTS, routes.TEACHERS, routes.REGISTRARS, routes.USERS, routes.MAILS, routes.LOGS],\r\n\t\tRegistrar: [\r\n\t\t\troutes.COURSES,\r\n\t\t\troutes.STUDENTS,\r\n\t\t\troutes.TEACHERS,\r\n\t\t\troutes.SUBJECTS,\r\n\t\t\troutes.SCHEDULES,\r\n\t\t\troutes.ADMISSIONS,\r\n\t\t\troutes.YEARS,\r\n\t\t\troutes.ADMISSION_REQUIREMENTS,\r\n\t\t\troutes.UNITS,\r\n\t\t],\r\n\t\tTeacher: [routes.SUBJECTS],\r\n\t\tStudent: [routes.GRADES, routes.SCHEDULES, routes.PROFILE, routes.ENROLLMENT],\r\n\t};\r\n\r\n\tif (!user) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<aside className='sidebar-left border-right bg-white shadow' id='leftSidebar' data-simplebar>\r\n\t\t\t<a href='/' className='btn collapseSidebar toggle-btn d-lg-none text-muted ml-2 mt-3' data-toggle='toggle'>\r\n\t\t\t\t<i className='fe fe-x'>\r\n\t\t\t\t\t<span className='sr-only'></span>\r\n\t\t\t\t</i>\r\n\t\t\t</a>\r\n\t\t\t<nav className='vertnav navbar navbar-light'>\r\n\t\t\t\t<div className='w-100 mb-4 d-flex flex-column'>\r\n\t\t\t\t\t<Link className='navbar-brand mx-auto mt-2 flex-fill text-center' to={routes.DASHBOARD}>\r\n\t\t\t\t\t\t<img src='/logo.jpg' alt='EMC' className='shadow border rounded-circle' style={{ height: '50px', width: '50px' }} />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t{year ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<span className='mx-auto d-block'>\r\n\t\t\t\t\t\t\t\tS.Y {year.start} - {year.end}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span className='mx-auto d-block'>{year.semester}</span>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{user.role === 'Student' ? <span className='mx-auto'>{section?.name}</span> : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul className='navbar-nav flex-fill w-100 mb-2'>\r\n\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t<Link to={url('')} className='nav-link' activeClassName='active' exact>\r\n\t\t\t\t\t\t\t<i className='fe fe-home fe-16'></i>\r\n\t\t\t\t\t\t\t<span className='ml-3 item-text'>Dashboard</span>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t{roles[user.role].includes(routes.COURSES) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.COURSES)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-navigation fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Courses</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{!['Student', 'Teacher'].includes(user.role) ? (\r\n\t\t\t\t\t\t<li className='nav-item dropdown'>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref='/users'\r\n\t\t\t\t\t\t\t\tclassName='dropdown-toggle nav-link collapsed'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#users').collapse('toggle');\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Users</span>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<ul className='collapse list-unstyled pl-4 w-100' id='users'>\r\n\t\t\t\t\t\t\t\t{roles[user.role].includes(routes.STUDENTS) ? (\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item dropdown'>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={url(routes.STUDENTS)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='nav-link dropdown-toggle collapsed'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t$('#students').collapse('toggle');\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Students</span>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t<ul className='collapse list-unstyled pl-4 w-100' id='students'>\r\n\t\t\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={url(`${routes.STUDENTS}/new`)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>New</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={url(`${routes.STUDENTS}/old`)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Old</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={url(`${routes.STUDENTS}/behind`)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Behind</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{roles[user.role].includes(routes.TEACHERS) ? (\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={url(routes.TEACHERS)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Teachers</span>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{roles[user.role].includes(routes.REGISTRARS) ? (\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={url(routes.REGISTRARS)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Registrars</span>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.MAILS) ? (\r\n\t\t\t\t\t\t<li className='nav-item d-none'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.MAILS)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-mail fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Email Outbox</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.SUBJECTS) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.SUBJECTS)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-book fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Subjects</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.SCHEDULES) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.SCHEDULES)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-calendar fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Schedules</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.ADMISSIONS) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.ADMISSIONS)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-pen-tool fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>\r\n\t\t\t\t\t\t\t\t\tAdmissions\r\n\t\t\t\t\t\t\t\t\t{admissions &&\r\n\t\t\t\t\t\t\t\t\tadmissions.filter((admission) => !admission.done && !admission.student?.active).length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<span className='ml-1 badge badge-danger'>\r\n\t\t\t\t\t\t\t\t\t\t\t{admissions.filter((admission) => !admission.done && !admission.student?.active).length}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.ADMISSION_REQUIREMENTS) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.ADMISSION_REQUIREMENTS)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-clipboard fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Admission Requirements</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.YEARS) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.YEARS)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-calendar fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>School Years</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.GRADES) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.GRADES)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-bookmark fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Grades</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.ENROLLMENT) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.ENROLLMENT)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-book-open fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Enrollment</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.PROFILE) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.PROFILE)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Profile</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.LOGS) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.LOGS)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fe fe-book fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Logs</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{roles[user.role].includes(routes.UNITS) ? (\r\n\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t<Link to={url(routes.UNITS)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-graduation-cap fe-16'></i>\r\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Student Units</span>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t<Link to={url(routes.CHANGE_PASSWORD)} className='nav-link' activeClassName='active'>\r\n\t\t\t\t\t\t\t<i className='fe fe-key fe-16'></i>\r\n\t\t\t\t\t\t\t<span className='ml-3 item-text'>Change Password</span>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<p id='account-role-display'>\r\n\t\t\t\t\tSigned in as: <b>{user?.role}</b>\r\n\t\t\t\t</p>\r\n\t\t\t</nav>\r\n\t\t</aside>\r\n\t);\r\n};\r\n\r\nexport default Sidebar;\r\n","import { SubjectContract } from '../Contracts/subject.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class SubjectService extends Service<SubjectContract> {}\r\n\r\nexport const subjectService = new SubjectService('/subjects');\r\n","import axios from 'axios';\r\nimport React, { createRef, FC, useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { UserContract } from '../../../Contracts/user.contract';\r\nimport { Asker, handleError } from '../../../helpers';\r\nimport { useArray, useCurrentYear } from '../../../hooks';\r\nimport { State } from '../../../Libraries/State';\r\nimport { subjectService } from '../../../Services/subject.service';\r\nimport { userService } from '../../../Services/user.service';\r\n\r\ntype Props = {};\r\n\r\nconst Enrollment: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [print, setPrint] = useState(false);\r\n\tconst state = State.getInstance();\r\n\tconst temp = state.get<UserContract>('user');\r\n\tconst [selected, setSelected] = useArray<number>();\r\n\tconst [enrolled, setEnrolled] = useArray<number>();\r\n\tconst { data: user, refetch: refetchUser } = useQuery(['user', temp?.id], () => userService.fetchOne(temp?.id), {\r\n\t\tonSuccess(user) {\r\n\t\t\tif (!user.active) {\r\n\t\t\t\ttoastr.info('Your account is currently inactive. Please settle your payment to be reactivated by the registrar.');\r\n\t\t\t}\r\n\t\t\tsetEnrolled(user.subjects?.map((subject) => subject.id!)!);\r\n\t\t},\r\n\t});\r\n\tconst ref = createRef<HTMLDivElement>();\r\n\tconst { data: subjects } = useQuery('subjects', () => subjectService.fetch());\r\n\tconst [selectAll, setSelectAll] = useState(false);\r\n\tconst { data: year } = useCurrentYear();\r\n\r\n\tconst add = (value: number) => {\r\n\t\tselected.push(value);\r\n\t\tsetSelected([...selected]);\r\n\t};\r\n\r\n\tconst remove = (value: number) => {\r\n\t\tconst index = selected.findIndex((number) => number === value);\r\n\t\tselected.splice(index, 1);\r\n\t\tsetSelected([...selected]);\r\n\t};\r\n\r\n\tconst admission = user?.admissions?.find((admission) => admission.year?.current);\r\n\r\n\tconst submit = async () => {\r\n\t\tif (!user?.active) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tif (await Asker.notice(\"If you continue you can't edit the selected subjects.\")) {\r\n\t\t\t\tawait axios.post(`/users/${user?.id}/subjects`, {\r\n\t\t\t\t\tsubjects: selected,\r\n\t\t\t\t});\r\n\t\t\t\ttoastr.success('Subjects enrolled successfully.');\r\n\t\t\t\tawait refetchUser();\r\n\t\t\t\tstate.set('user', user);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tif (!user || !admission) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (!user.active) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (user.enrolled && !print) {\r\n\t\treturn (\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t<div className='card'>\r\n\t\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t\t<p className='card-title'>\r\n\t\t\t\t\t\t\t\t\t{user.last_name}, {user.first_name} {user.middle_name || ''} ({user.uuid})\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\t\t\t\tRegistration (S.Y {year?.start} - {year?.end} - {year?.semester})\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<div className='container'>\r\n\t\t\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 p-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='border rounded shadow p-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Status: </b> {admission.status} ({user.allowed_units} Units Allowed)\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 p-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='border rounded shadow p-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Section: </b> {user.sections?.find((section) => section.year?.current)?.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='col-12 mt-4 text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check-circle'></i> You are officially enrolled\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$('#leftSidebar').addClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$('.topnav').addClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$('input').addClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$('button').addClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetPrint(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.print();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('#leftSidebar').removeClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('.topnav').removeClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('input').removeClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$('button').removeClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetPrint(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing || !user.enrolled}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-scroll'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCertificate of Registration\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div ref={ref} className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12 col-md-8 offset-md-2 text-center'>\r\n\t\t\t\t\t<h4>EASTERN MINDORO COLLEGE</h4>\r\n\t\t\t\t\t<p>Bongabong, Oriental Mindoro</p>\r\n\t\t\t\t\t<h6>College Enrollment Slip</h6>\r\n\t\t\t\t\t<p className='mb-0' style={{ fontSize: '1.5rem' }}>\r\n\t\t\t\t\t\t{admission?.course?.description}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t{admission?.major ? <p style={{ fontSize: '1.15rem' }}>Major in {admission.major.name}</p> : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='d-flex mt-5'>\r\n\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t<b>Name:</b> {user.last_name}, {user.first_name} {user.middle_name || ''}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t<b>Semester:</b> {admission.term}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t<b>Year Level:</b> {admission.level}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t<b>Status: </b> {admission.status}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className='d-flex mt-3'>\r\n\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t<b>Student Number:</b> {user.uuid}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t<b>Year:</b> {admission.year?.start} - {admission.year?.end}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t{!print ? (\r\n\t\t\t\t<div className='d-flex mt-2'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={`btn btn-${!selectAll ? 'secondary' : 'danger'} btn-sm`}\r\n\t\t\t\t\t\tdisabled={user.enrolled}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tif (subjects) {\r\n\t\t\t\t\t\t\t\tif (!selectAll) {\r\n\t\t\t\t\t\t\t\t\tconst non = subjects\r\n\t\t\t\t\t\t\t\t\t\t.filter((subject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (!print) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst valid =\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (admission.major_id) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn valid && admission.major_id === subject.major_id;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn valid;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tconst valid =\r\n\t\t\t\t\t\t\t\t\t\t\t\tenrolled.includes(subject.id!) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id;\r\n\t\t\t\t\t\t\t\t\t\t\tif (admission.major_id) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn valid && admission.major_id === subject.major_id;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\treturn valid;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.filter((subject) => !enrolled.includes(subject.id!));\r\n\t\t\t\t\t\t\t\t\tsetSelected([...selected, ...non.map((subject) => subject.id!)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetSelected([]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsetSelectAll(!selectAll);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{!selectAll ? 'Select All' : 'Unselect All'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tsubmit();\r\n\t\t\t\t}}\r\n\t\t\t\tclassName='table-responsive'>\r\n\t\t\t\t<table className='table table-bordered mt-3 w-100' style={{ display: 'table' }}>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t<th>Subject Code</th>\r\n\t\t\t\t\t\t\t<th>Description</th>\r\n\t\t\t\t\t\t\t<th>Units</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{subjects\r\n\t\t\t\t\t\t\t?.filter((subject) => {\r\n\t\t\t\t\t\t\t\tif (!print) {\r\n\t\t\t\t\t\t\t\t\tconst valid =\r\n\t\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\r\n\t\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\r\n\t\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id;\r\n\t\t\t\t\t\t\t\t\tif (admission.major_id) {\r\n\t\t\t\t\t\t\t\t\t\treturn valid && admission.major_id === subject.major_id;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\treturn valid;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconst valid =\r\n\t\t\t\t\t\t\t\t\tenrolled.includes(subject.id!) &&\r\n\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\r\n\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\r\n\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id &&\r\n\t\t\t\t\t\t\t\t\tsubject.major_id === admission.major_id;\r\n\t\t\t\t\t\t\t\treturn valid;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.map((subject, index) => (\r\n\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{!print ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={selected.find((id) => subject.id === id) !== undefined}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing || enrolled.includes(subject.id!) || user.enrolled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={subject.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (selected.includes(id)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tremove(id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadd(id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<sup className='ml-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i>{enrolled.includes(subject.id!) ? 'Enrolled' : ''}</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</sup>\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>{subject.code}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{subject.description}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{subject.units}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td style={{ maxWidth: '30px' }}>Total Units</td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t{subjects\r\n\t\t\t\t\t\t\t\t\t?.filter((subject) => {\r\n\t\t\t\t\t\t\t\t\t\tif (!print) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn selected.includes(subject.id!) || enrolled.includes(subject.id!);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn enrolled.includes(subject.id!);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.reduce((previous, next) => next.units + previous, 0)}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t{!print ? (\r\n\t\t\t\t\t<div className='form-group mt-2 d-flex'>\r\n\t\t\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm' disabled={processing || user.enrolled}>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#leftSidebar').addClass('d-none');\r\n\t\t\t\t\t\t\t\t\t$('.topnav').addClass('d-none');\r\n\t\t\t\t\t\t\t\t\t$('input').addClass('d-none');\r\n\t\t\t\t\t\t\t\t\t$('button').addClass('d-none');\r\n\t\t\t\t\t\t\t\t\tsetPrint(true);\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\twindow.print();\r\n\t\t\t\t\t\t\t\t\t\t$('#leftSidebar').removeClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t$('.topnav').removeClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t$('input').removeClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t$('button').removeClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\tsetPrint(false);\r\n\t\t\t\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={processing || !user.enrolled}>\r\n\t\t\t\t\t\t\t\tDownload\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Enrollment;\r\n","import axios from 'axios';\r\nimport React, { FC, Fragment, useEffect } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { AdmissionContract } from '../../../Contracts/admission.contract';\r\nimport { SubjectContract } from '../../../Contracts/subject.contract';\r\nimport { UserContract } from '../../../Contracts/user.contract';\r\nimport { handleError, toBool } from '../../../helpers';\r\nimport { useArray } from '../../../hooks';\r\nimport { State } from '../../../Libraries/State';\r\nimport { subjectService } from '../../../Services/subject.service';\r\n\r\ntype Props = {};\r\n\r\nconst Grades: FC<Props> = (props) => {\r\n\tconst state = State.getInstance();\r\n\tconst user = state.get<UserContract>('user');\r\n\tconst { data: subjects } = useQuery('subjects', () => subjectService.fetch());\r\n\tconst [admissions, setAdmissions] = useArray<AdmissionContract>();\r\n\r\n\tconst fetch = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data: admissions } = await axios.get<AdmissionContract[]>('/auth/admissions');\r\n\t\t\tsetAdmissions([...admissions.reverse()]);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst findGrade = (subject: SubjectContract, admission: AdmissionContract) => {\r\n\t\tconst student = admission.student;\r\n\t\treturn student?.grades?.find((grade) => grade.year_id === admission.year_id && grade.subject_id === subject.id);\r\n\t};\r\n\r\n\tconst filterSubjects = (admission: AdmissionContract) => {\r\n\t\treturn (\r\n\t\t\tsubjects\r\n\t\t\t\t?.filter((subject) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\ttoBool(admission.student?.previous_subjects?.find((s) => s.subject_id === subject.id)) ||\r\n\t\t\t\t\t\ttoBool(admission.student?.subjects?.find((s) => s.id === subject.id))\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t.filter((subject) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\tsubject.level === admission.level &&\r\n\t\t\t\t\t\tsubject.term === admission.term &&\r\n\t\t\t\t\t\tsubject.course_id === admission.course_id &&\r\n\t\t\t\t\t\tsubject.major_id === admission.major_id\r\n\t\t\t\t\t);\r\n\t\t\t\t}) || []\r\n\t\t);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tif (!user) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12 col-md-6 offset-md-3 text-center'>\r\n\t\t\t\t\t<h4>EASTERN MINDORO COLLEGE</h4>\r\n\t\t\t\t\t<p>Bongabong, Oriental Mindoro</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{admissions.map((admission, index) => (\r\n\t\t\t\t<Fragment key={`admission-${index}`}>\r\n\t\t\t\t\t<div className='d-flex mt-5'>\r\n\t\t\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t\t\t<b>Name:</b> {user.last_name}, {user.first_name} {user.middle_name || ''}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t\t\t<b>Semester:</b> {admission.term}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t\t\t<b>Year Level:</b> {admission.level}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t\t\t<b>Status: </b> {admission.status}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='d-flex mt-3'>\r\n\t\t\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t\t\t<b>Student Number:</b> {user.uuid}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t\t\t<b>Year:</b> {admission.year?.start} - {admission.year?.end}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<table className='table table-bordered mt-3'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Subject Code</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Description</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Units</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Grade</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Status</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{filterSubjects(admission).map((subject, index) => (\r\n\t\t\t\t\t\t\t\t<tr key={`subject-${index}`}>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>{subject?.code}</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center' style={{ minWidth: '100px' }}>\r\n\t\t\t\t\t\t\t\t\t\t{subject?.description}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>{subject?.units}</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t{findGrade(subject, admission) ? `${findGrade(subject, admission)?.grade}%` : '-'}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t{findGrade(subject, admission)\r\n\t\t\t\t\t\t\t\t\t\t\t? findGrade(subject, admission)?.status\r\n\t\t\t\t\t\t\t\t\t\t\t: admission.year?.current\r\n\t\t\t\t\t\t\t\t\t\t\t? '-'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'INC'}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t<b>Total Units</b>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t{filterSubjects(admission).reduce((prev, next) => prev + next.units, 0) || 0}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</Fragment>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Grades;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { FC, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { UserContract } from '../../../Contracts/user.contract';\r\nimport { handleError } from '../../../helpers';\r\nimport { State } from '../../../Libraries/State';\r\nimport InputMask from 'react-input-mask';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tuuid: string;\r\n\tfirst_name: string;\r\n\tlast_name: string;\r\n\tmiddle_name?: string;\r\n\tgender?: string;\r\n\taddress?: string;\r\n\tplace_of_birth?: string;\r\n\tbirthday?: string;\r\n\trole: string;\r\n\temail: string;\r\n\tnumber: string;\r\n\tactive: boolean;\r\n\tpassword: string;\r\n\tfathers_name?: string;\r\n\tmothers_name?: string;\r\n\tfathers_occupation?: string;\r\n\tmothers_occupation?: string;\r\n};\r\n\r\nconst Profile: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst state = State.getInstance();\r\n\tconst user = state.get<UserContract>('user');\r\n\tconst [number, setNumber] = useState(user?.number || '');\r\n\tconst { register, handleSubmit } = useForm<Inputs>({\r\n\t\tdefaultValues: {\r\n\t\t\t...user,\r\n\t\t},\r\n\t});\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tif (!user?.active) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tdata.number = number;\r\n\t\t\tconst { data: user } = await axios.post('/auth/profile', data);\r\n\t\t\tstate.set('user', user);\r\n\t\t\ttoastr.success('Profile updated successfully.');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tif (!user) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (!user.active) {\r\n\t\ttoastr.info('Your account is currently inactive. Profile changes will not be saved.');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<form className='row' onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t<div className='col-12 col-md-6'>\r\n\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t<div className='col-3 my-2'>Student Number</div>\r\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\r\n\t\t\t\t\t\t\t<b>{user.uuid}</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Name</div>\r\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\r\n\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t{user.last_name}, {user.first_name} {user.middle_name || ''}\r\n\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Gender</div>\r\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\r\n\t\t\t\t\t\t\t<b>{user.gender}</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Date of Birth</div>\r\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\r\n\t\t\t\t\t\t\t<b>{dayjs(user.birthday).format('MMMM DD, YYYY')}</b>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Place of Birth</div>\r\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\r\n\t\t\t\t\t\t\t<input {...register('place_of_birth')} type='text' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 col-md-6'>\r\n\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Address</div>\r\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\r\n\t\t\t\t\t\t\t<input {...register('address')} type='text' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Mobile Number</div>\r\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\r\n\t\t\t\t\t\t\t<InputMask\r\n\t\t\t\t\t\t\t\tmask='0\\999-999-9999'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tid='number'\r\n\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\tvalue={number}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Email Address</div>\r\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\r\n\t\t\t\t\t\t\t<input {...register('email')} type='email' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 text-center pt-5'>\r\n\t\t\t\t\t<button type='submit' className='btn btn-info btn-sm' disabled={processing}>\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<p className='my-3'>\r\n\t\t\t\t\t\t<i>I hereby certify that all of the information provided are true and correct to the best of my knowledge.</i>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Profile;\r\n","import { LogContract } from '../Contracts/log.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class LogService extends Service<LogContract> {}\r\n\r\nexport const logService = new LogService('/logs');\r\n","import dayjs from 'dayjs';\r\nimport React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { handleError } from '../../helpers';\r\nimport { logService } from '../../Services/log.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('logs', () => logService.fetch());\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'ID',\r\n\t\t\taccessor: 'id',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Message',\r\n\t\t\taccessor: 'message',\r\n\t\t\tminWidth: '300px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'IP Address',\r\n\t\t\taccessor: 'ip_address',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Device',\r\n\t\t\taccessor: 'device',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Browser',\r\n\t\t\taccessor: 'browser',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'User',\r\n\t\t\taccessor: 'user',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Date',\r\n\t\t\taccessor: 'created_at',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tonRefresh={() => refetch()}\r\n\t\t\ttitle='Logs'\r\n\t\t\tloading={loading}\r\n\t\t\titems={\r\n\t\t\t\titems?.map((log) => ({\r\n\t\t\t\t\t...log,\r\n\t\t\t\t\tcreated_at: dayjs(log.created_at).format('MMMM DD, YYYY hh:mm A'),\r\n\t\t\t\t\tuser: `${log.payload?.last_name}, ${log.payload?.first_name} ${log.payload?.middle_name || ''}`,\r\n\t\t\t\t})) || []\r\n\t\t\t}\r\n\t\t\tcolumns={columns}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Logs: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Logs;\r\n","import { MailContract } from '../Contracts/mail.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class MailService extends Service<MailContract> {}\r\n\r\nexport const mailService = new MailService('/mails');\r\n","import dayjs from 'dayjs';\r\nimport React, { createRef, FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { FreeObject } from '../../Contracts/misc';\r\nimport { handleError } from '../../helpers';\r\nimport { mailService } from '../../Services/mail.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst colors: FreeObject = {\r\n\tSent: 'success',\r\n\tPending: 'warning',\r\n\tFailed: 'danger',\r\n};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('mails', () => mailService.fetch());\r\n\tconst modalRef = createRef<HTMLDivElement>();\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Table\r\n\t\t\t\tonRefresh={() => refetch()}\r\n\t\t\t\ttitle='Email Outbox'\r\n\t\t\t\tloading={loading}\r\n\t\t\t\titems={\r\n\t\t\t\t\titems?.map((mail) => ({\r\n\t\t\t\t\t\t...mail,\r\n\t\t\t\t\t\tcreated_at: dayjs(mail.created_at).format('MMMM DD, YYYY hh:mm A'),\r\n\t\t\t\t\t\tstatus: <span className={`badge badge-${colors[mail.status]}`}>{mail.status}</span>,\r\n\t\t\t\t\t\tsent: mail.sent ? dayjs(mail.sent).format('MMMM DD, YYYY hh:mm A') : '',\r\n\t\t\t\t\t\tactions: (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tif (modalRef.current) {\r\n\t\t\t\t\t\t\t\t\t\t\tconst modal = $(modalRef.current);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tmodal.find('.modal-body').html(mail.body);\r\n\t\t\t\t\t\t\t\t\t\t\tmodal.find('#password').addClass('d-none');\r\n\t\t\t\t\t\t\t\t\t\t\tmodal.modal('show');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t})) || []\r\n\t\t\t\t}\r\n\t\t\t\tcolumns={[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Created',\r\n\t\t\t\t\t\taccessor: 'created_at',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'To',\r\n\t\t\t\t\t\taccessor: 'to',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Subject',\r\n\t\t\t\t\t\taccessor: 'subject',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Status',\r\n\t\t\t\t\t\taccessor: 'status',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Sent',\r\n\t\t\t\t\t\taccessor: 'sent',\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Actions',\r\n\t\t\t\t\t\taccessor: 'actions',\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t\t<div ref={modalRef} className='modal fade' tabIndex={-1}>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title'>View Mail</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'></div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { RouteProps, Switch, Route } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Mails: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Mails;\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { Asker, handleError, setValues } from '../../helpers';\r\nimport { useMode, useNullable } from '../../hooks';\r\nimport { userService } from '../../Services/user.service';\r\nimport Flatpickr from 'react-flatpickr';\r\nimport dayjs from 'dayjs';\r\nimport InputMask from 'react-input-mask';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tuuid: string;\r\n\tfirst_name: string;\r\n\tlast_name: string;\r\n\tmiddle_name?: string;\r\n\tgender?: string;\r\n\taddress?: string;\r\n\tplace_of_birth?: string;\r\n\tbirthday?: string;\r\n\trole: string;\r\n\temail: string;\r\n\tnumber: string;\r\n\tactive: boolean;\r\n\tpassword: string;\r\n\tfathers_name?: string;\r\n\tmothers_name?: string;\r\n\tfathers_occupation?: string;\r\n\tmothers_occupation?: string;\r\n\tforce: boolean;\r\n\ttype: string;\r\n\tenrolled: boolean;\r\n\tpayment_status: 'Not Paid' | 'Fully Paid' | 'Partially Paid';\r\n};\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useMode();\r\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\r\n\t\tdefaultValues: {\r\n\t\t\tforce: false,\r\n\t\t},\r\n\t});\r\n\tconst [birthday, setBirthday] = useNullable<Date>();\r\n\tconst [id, setID] = useState(-1);\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch<{ id: string }>();\r\n\tconst [number, setNumber] = useState('');\r\n\r\n\tconst fetch = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tconst data = await userService.fetchOne(id);\r\n\t\t\tsetID(data.id!);\r\n\t\t\tsetValues(setValue, data);\r\n\t\t\tsetBirthday(dayjs(data.birthday).toDate());\r\n\t\t\tsetNumber(data.number);\r\n\t\t\tsetMode('Edit');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tdata.role = 'Registrar';\r\n\t\t\tdata.active = true;\r\n\t\t\tdata.birthday = birthday?.toJSON();\r\n\t\t\tdata.number = number;\r\n\t\t\tawait (mode === 'Add' ? userService.create(data) : userService.update(id, data));\r\n\t\t\ttoastr.success('Registrar has been saved successfully.');\r\n\t\t\treset();\r\n\t\t\tsetBirthday(null);\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response?.status === 409) {\r\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\r\n\t\t\t\t\tdata.force = true;\r\n\t\t\t\t\tawait submit(data);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thandleError(error);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (match.path.includes('edit')) {\r\n\t\t\tfetch(match.params.id);\r\n\t\t} else {\r\n\t\t\tuserService.fetch().then((users) => {\r\n\t\t\t\tsetValue(\r\n\t\t\t\t\t'uuid',\r\n\t\t\t\t\t`registrar-${`${users.filter((user) => user.role === 'Registrar').length + 1}`.padStart(\r\n\t\t\t\t\t\t5,\r\n\t\t\t\t\t\t'0'\r\n\t\t\t\t\t)}-${new Date().getFullYear()}`\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h5 className='card-title'>{mode} Registrar</h5>\r\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t<div className='form-row'>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='first_name'>First Name</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('first_name')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='first_name'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='uuid'>Registrar Number</label>\r\n\t\t\t\t\t\t\t\t<input {...register('uuid')} type='text' id='uuid' className='form-control' readOnly />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='last_name'>Last Name</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('last_name')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='last_name'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email Address</label>\r\n\t\t\t\t\t\t\t\t<input {...register('email')} type='email' id='email' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='gender'>Gender</label>\r\n\t\t\t\t\t\t\t\t<select {...register('gender')} id='gender' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='Male'>Male</option>\r\n\t\t\t\t\t\t\t\t\t<option value='Female'>Female</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='number'>Phone Number</label>\r\n\t\t\t\t\t\t\t\t<InputMask\r\n\t\t\t\t\t\t\t\t\tmask='0\\999-999-9999'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='number'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={number}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='birthday'>Birthday</label>\r\n\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\tvalue={birthday || undefined}\r\n\t\t\t\t\t\t\t\t\tid='birthday'\r\n\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\tmaxDate: dayjs()\r\n\t\t\t\t\t\t\t\t\t\t\t.year(new Date().getFullYear() - 15)\r\n\t\t\t\t\t\t\t\t\t\t\t.toDate(),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetBirthday(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='address'>Address</label>\r\n\t\t\t\t\t\t\t\t<input {...register('address')} type='text' id='address' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t<i className='ml-auto'>Account credentials will be sent via email.</i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\r\n\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import dayjs from 'dayjs';\r\nimport React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError, Asker } from '../../helpers';\r\nimport { useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { userService } from '../../Services/user.service';\r\n\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('users', () => userService.fetch());\r\n\r\n\tconst url = useURL();\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Registrar?')) {\r\n\t\t\t\tawait userService.delete(id);\r\n\t\t\t\ttoastr.info('Registrar has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst update = async (registrar: UserContract) => {\r\n\t\ttry {\r\n\t\t\tawait userService.update(registrar.id, { active: !registrar.active });\r\n\t\t\ttoastr.success(`Registrar ${registrar.active ? 'disabled' : 'enabled'} successfully.`);\r\n\t\t\trefetch();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Registrar #',\r\n\t\t\taccessor: 'uuid',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Name',\r\n\t\t\taccessor: 'name',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Phone Number',\r\n\t\t\taccessor: 'number',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Status',\r\n\t\t\taccessor: 'status',\r\n\t\t},\r\n\t];\r\n\r\n\tif (user?.role === 'Admin') {\r\n\t\tcolumns.push({ title: 'Actions', accessor: 'actions' });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tonRefresh={() => refetch()}\r\n\t\t\ttitle='Registrars'\r\n\t\t\tloading={loading}\r\n\t\t\titems={\r\n\t\t\t\titems\r\n\t\t\t\t\t?.filter((user) => user.role === 'Registrar')\r\n\t\t\t\t\t.map((registrar) => ({\r\n\t\t\t\t\t\t...registrar,\r\n\t\t\t\t\t\tname: (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{registrar.last_name}, {registrar.first_name} {registrar.middle_name || ''}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tbirthday: dayjs(registrar.birthday).format('MMMM DD, YYYY'),\r\n\t\t\t\t\t\tage: new Date().getFullYear() - dayjs(registrar.birthday).year(),\r\n\t\t\t\t\t\tstatus: registrar.active ? (\r\n\t\t\t\t\t\t\t<span className='badge badge-success'>Active</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span className='badge badge-danger'>Inactive</span>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tactions: (\r\n\t\t\t\t\t\t\t<div style={{ minWidth: '350px' }}>\r\n\t\t\t\t\t\t\t\t<Link to={url(`${registrar.id}/edit`)} className='btn btn-warning btn-sm mx-1' title='Edit'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-${registrar.active ? 'danger' : 'info'} btn-sm mx-1`}\r\n\t\t\t\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\tawait Asker.notice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t`Are you sure you want to ${registrar.active ? 'disable' : 'enable'} this registrar?`\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\tupdate(registrar);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\ttitle={registrar.active ? 'Disable' : 'Enable'}>\r\n\t\t\t\t\t\t\t\t\t<i className={`fas fa-user-${registrar.active ? 'times' : 'check'}`}></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1 d-none'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tdeleteItem(registrar.id);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t})) || []\r\n\t\t\t}\r\n\t\t\tcolumns={columns}\r\n\t\t\tbuttons={\r\n\t\t\t\t<>\r\n\t\t\t\t\t{user?.role === 'Admin' ? (\r\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport Form from './Form';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Registrars: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/add'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/edit'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Registrars;\r\n","import { RequirementContract } from '../Contracts/requirement.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class RequirementService extends Service<RequirementContract> {}\r\n\r\nexport const requirementService = new RequirementService('/requirements');\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { RequirementContract } from '../../Contracts/requirement.contract';\r\nimport { Asker, handleError, setValues } from '../../helpers';\r\nimport { useMode } from '../../hooks';\r\nimport { requirementService } from '../../Services/requirement.service';\r\n\r\ntype Props = {};\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useMode();\r\n\tconst { register, setValue, handleSubmit, reset } = useForm<RequirementContract>();\r\n\tconst [id, setID] = useState(-1);\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch<{ id: string }>();\r\n\r\n\tconst fetch = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tconst data = await requirementService.fetchOne(id);\r\n\t\t\tsetID(data.id!);\r\n\t\t\tsetValues(setValue, data);\r\n\t\t\tsetMode('Edit');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async (data: RequirementContract) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tif (mode === 'Edit' && (await Asker.notice('Are you sure you want to update?')) === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tawait (mode === 'Add' ? requirementService.create(data) : requirementService.update(id, data));\r\n\t\t\ttoastr.success('Requirement has been saved successfully.');\r\n\t\t\treset();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (match.path.includes('edit')) {\r\n\t\t\tfetch(match.params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h5 className='card-title'>{mode} Requirement</h5>\r\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label htmlFor='name'>Name</label>\r\n\t\t\t\t\t\t\t<input {...register('name')} type='text' id='code' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group d-flex'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\r\n\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import dayjs from 'dayjs';\r\nimport React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError, Asker } from '../../helpers';\r\nimport { useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { requirementService } from '../../Services/requirement.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('requirements', () => requirementService.fetch());\r\n\r\n\tconst url = useURL();\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Requirement?')) {\r\n\t\t\t\tawait requirementService.delete(id);\r\n\t\t\t\ttoastr.info('Requirement has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'ID',\r\n\t\t\taccessor: 'id',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Name',\r\n\t\t\taccessor: 'name',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Created',\r\n\t\t\taccessor: 'created_at',\r\n\t\t},\r\n\t];\r\n\r\n\tif (user?.role === 'Registrar') {\r\n\t\tcolumns.push({\r\n\t\t\ttitle: 'Actions',\r\n\t\t\taccessor: 'actions',\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tonRefresh={() => refetch()}\r\n\t\t\ttitle='Requirements'\r\n\t\t\tloading={loading}\r\n\t\t\titems={\r\n\t\t\t\titems?.map((requirement) => ({\r\n\t\t\t\t\t...requirement,\r\n\t\t\t\t\tcreated_at: dayjs(requirement.created_at).format('MMMM DD, YYYY hh:mm A'),\r\n\t\t\t\t\tactions:\r\n\t\t\t\t\t\tuser?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Link to={url(`${requirement.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tdeleteItem(requirement.id);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : null,\r\n\t\t\t\t})) || []\r\n\t\t\t}\r\n\t\t\tcolumns={columns}\r\n\t\t\tbuttons={\r\n\t\t\t\t<>\r\n\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport Form from './Form';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Requirements: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/add'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/edit'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Requirements;\r\n","import { ScheduleContract } from '../Contracts/schedule.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class ScheduleService extends Service<ScheduleContract> {}\r\n\r\nexport const scheduleService = new ScheduleService('/schedules');\r\n","import { SectionContract } from '../Contracts/section.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class SectionService extends Service<SectionContract> {}\r\n\r\nexport const sectionService = new SectionService('/sections');\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useQuery } from 'react-query';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { ScheduleRow } from '../../Contracts/schedule.contract';\r\nimport { Asker, handleError, setValues } from '../../helpers';\r\nimport { useArray, useMode, useNullable } from '../../hooks';\r\nimport { courseService } from '../../Services/course.service';\r\nimport { scheduleService } from '../../Services/schedule.service';\r\nimport { subjectService } from '../../Services/subject.service';\r\nimport { userService } from '../../Services/user.service';\r\nimport Flatpickr from 'react-flatpickr';\r\nimport dayjs from 'dayjs';\r\nimport { yearService } from '../../Services/year.service';\r\nimport { CourseContract } from '../../Contracts/course.contract';\r\nimport { MajorContract } from '../../Contracts/major.contract';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { sectionService } from '../../Services/section.service';\r\nimport { SectionContract } from '../../Contracts/section.contract';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tcourse_id: number;\r\n\tsubject_id: number;\r\n\tteacher_id: number;\r\n\tyear: string;\r\n\tyear_id: number;\r\n\tmajor_id?: number;\r\n\tpayload: ScheduleRow[];\r\n\tterm: string;\r\n\tforce: boolean;\r\n\tsection_id: number;\r\n};\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useMode();\r\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\r\n\t\tdefaultValues: {\r\n\t\t\tforce: false,\r\n\t\t},\r\n\t});\r\n\tconst [course, setCourse] = useNullable<CourseContract>();\r\n\tconst [major, setMajor] = useNullable<MajorContract>();\r\n\tconst [teacher, setTeacher] = useNullable<UserContract>();\r\n\tconst [section, setSection] = useNullable<SectionContract>();\r\n\tconst [year, setYear] = useNullable<string>();\r\n\tconst [term, setTerm] = useNullable<string>();\r\n\tconst [rows, setRows] = useArray<ScheduleRow>([\r\n\t\t{\r\n\t\t\tday: '',\r\n\t\t\tstart_time: null,\r\n\t\t\tend_time: null,\r\n\t\t},\r\n\t]);\r\n\tconst [id, setID] = useState(-1);\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch<{ id: string }>();\r\n\tconst { data: courses, refetch: refetchCourses } = useQuery('courses', () => courseService.fetch());\r\n\tconst { data: users, refetch: refetchUsers } = useQuery('users', () => userService.fetch());\r\n\tconst { data: subjects, refetch: refetchSubjects } = useQuery('subjects', () => subjectService.fetch());\r\n\tconst { data: years, refetch: refetchYears } = useQuery('years', () => yearService.fetch());\r\n\tconst { data: sections, refetch: refetchSections } = useQuery('sections', () => sectionService.fetch());\r\n\r\n\tconst refetchAll = async () => {\r\n\t\ttry {\r\n\t\t\tawait Promise.all([refetchCourses(), refetchSections(), refetchSubjects(), refetchUsers(), refetchYears()]);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetch = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tconst data = await scheduleService.fetchOne(id);\r\n\t\t\tsetID(data.id!);\r\n\t\t\tsetMode('Edit');\r\n\t\t\tsetValues(setValue, data);\r\n\t\t\tsetRows([...data.payload]);\r\n\t\t\tif (data.course) {\r\n\t\t\t\tsetCourse(data.course);\r\n\t\t\t}\r\n\t\t\tif (data.major) {\r\n\t\t\t\tsetMajor(data.major);\r\n\t\t\t}\r\n\t\t\tif (data.section) {\r\n\t\t\t\tsetSection(data.section);\r\n\t\t\t}\r\n\t\t\tsetTerm(data.term);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst year = years?.find((year) => year.current);\r\n\t\t\tif (year) {\r\n\t\t\t\tdata.year_id = year.id!;\r\n\t\t\t} else {\r\n\t\t\t\treturn toastr.error('A School Year is not set, please create/make one as current.');\r\n\t\t\t}\r\n\t\t\tdata.payload = rows;\r\n\t\t\tawait (mode === 'Add' ? scheduleService.create(data) : scheduleService.update(id, data));\r\n\t\t\ttoastr.success('Schedule has been saved successfully.');\r\n\t\t\tawait refetchAll();\r\n\t\t\treset();\r\n\t\t\tsetRows([]);\r\n\t\t\tsetCourse(null);\r\n\t\t\tsetMajor(null);\r\n\t\t\tsetTerm(null);\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response?.status === 409) {\r\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\r\n\t\t\t\t\tdata.force = true;\r\n\t\t\t\t\tawait submit(data);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thandleError(error);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (match.path.includes('edit')) {\r\n\t\t\tfetch(match.params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h5 className='card-title'>{mode} Schedule</h5>\r\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t<div className='form-row'>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='course_id'>Course</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t{...register('course_id')}\r\n\t\t\t\t\t\t\t\t\tid='course_id'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\r\n\t\t\t\t\t\t\t\t\t\tif (course) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(course);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(null);\r\n\t\t\t\t\t\t\t\t\t\t\tsetMajor(null);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t{courses\r\n\t\t\t\t\t\t\t\t\t\t?.filter((course) => course.open)\r\n\t\t\t\t\t\t\t\t\t\t.map((course, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{course.code}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{course && course.majors && course.majors.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='major_id'>Major</label>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t{...register('major_id')}\r\n\t\t\t\t\t\t\t\t\t\tid='major_id'\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\t\tconst major = course?.majors?.find((major) => major.id === id);\r\n\t\t\t\t\t\t\t\t\t\t\tif (major) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetMajor(major);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetMajor(null);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t\t{course.majors.map((major, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{major.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='section_id'>Section</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t{...register('section_id')}\r\n\t\t\t\t\t\t\t\t\tid='section_id'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\tconst section = sections?.find((section) => section.id === id);\r\n\t\t\t\t\t\t\t\t\t\tif (section) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetSection(section);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetSection(null);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t{sections\r\n\t\t\t\t\t\t\t\t\t\t?.filter((section) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (course) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn section.course_id === course.id;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.filter((section) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (major) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn section.major_id === major.id;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.filter((section) => section.year?.current)\r\n\t\t\t\t\t\t\t\t\t\t.map((section, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={section.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{section.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='teacher_id'>Teacher</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t{...register('teacher_id')}\r\n\t\t\t\t\t\t\t\t\tid='teacher_id'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\tconst teacher = users?.find((user) => user.role === 'Teacher' && user.id === id);\r\n\t\t\t\t\t\t\t\t\t\tif (teacher) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetTeacher(teacher);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetTeacher(null);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t{users\r\n\t\t\t\t\t\t\t\t\t\t?.filter((user) => user.role === 'Teacher')\r\n\t\t\t\t\t\t\t\t\t\t.map((teacher, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={teacher.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{teacher.last_name}, {teacher.first_name} {teacher.middle_name || ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6 col-lg-4'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='semester'>Semester</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t{...register('term')}\r\n\t\t\t\t\t\t\t\t\tid='semester'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tif (value.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetTerm(value);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetTerm(null);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='1st Semester'>1st Semester</option>\r\n\t\t\t\t\t\t\t\t\t<option value='2nd Semester'>2nd Semester</option>\r\n\t\t\t\t\t\t\t\t\t<option value='Summer'>Summer</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6 col-lg-4'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='year'>Year Level</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t{...register('year')}\r\n\t\t\t\t\t\t\t\t\tid='year'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst value = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tif (value.length === 3) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetYear(value);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetYear(null);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='1st'>1st</option>\r\n\t\t\t\t\t\t\t\t\t<option value='2nd'>2nd</option>\r\n\t\t\t\t\t\t\t\t\t<option value='3rd'>3rd</option>\r\n\t\t\t\t\t\t\t\t\t<option value='4th'>4th</option>\r\n\t\t\t\t\t\t\t\t\t<option value='5th'>5th</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className={`form-group col-12 col-md-4`}>\r\n\t\t\t\t\t\t\t\t<label htmlFor='subject_id'>Subject</label>\r\n\t\t\t\t\t\t\t\t<select {...register('subject_id')} id='subject_id' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t{subjects\r\n\t\t\t\t\t\t\t\t\t\t?.filter((subject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst valid =\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubject.schedules?.find((schedule) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (course && major && teacher && section) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.teacher_id === teacher.id &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.course_id === course.id &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.major_id === major.id &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.section_id === section.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else if (course && teacher && section) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.teacher_id === teacher.id &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.course_id === course.id &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.section_id === section.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}) === undefined;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (mode === 'Add') {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn valid;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\treturn valid || subject.id === id;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.filter((subject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (course && major) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn subject.course_id === course.id && subject.major_id === major.id;\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (course) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn subject.course_id === course.id;\r\n\t\t\t\t\t\t\t\t\t\t\t} else if (major) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn subject.major_id === major.id;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.filter((subject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (year) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn subject.level === year;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.filter((subject) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (term) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn subject.term === term;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.map((subject, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={subject.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{subject.description}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm mt-2 mb-4'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\trows.push({ day: '', start_time: null, end_time: null });\r\n\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tAdd Row\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<table className='table'>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Day</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Start Time</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>End Time</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{rows.map(({ day, start_time, end_time }, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={day}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows.splice(index, 1, { day: e.target.value, start_time, end_time });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={start_time ? dayjs(start_time).toDate() : undefined}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableTime: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode: 'time',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taltFormat: 'G:i K',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taltInput: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows.splice(index, 1, { day, start_time: dates[0].toJSON(), end_time });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={end_time ? dayjs(end_time).toDate() : undefined}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableTime: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode: 'time',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taltFormat: 'G:i K',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taltInput: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows.splice(index, 1, { day, end_time: dates[0].toJSON(), start_time });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group d-flex'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\r\n\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import dayjs from 'dayjs';\r\nimport React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError, Asker } from '../../helpers';\r\nimport { useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { scheduleService } from '../../Services/schedule.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('schedules', () => scheduleService.fetch());\r\n\r\n\tconst url = useURL();\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Schedule?')) {\r\n\t\t\t\tawait scheduleService.delete(id);\r\n\t\t\t\ttoastr.info('Schedule has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Course',\r\n\t\t\taccessor: 'course',\r\n\t\t\tminWidth: '375px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Subject',\r\n\t\t\taccessor: 'subject',\r\n\t\t\tminWidth: '350px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Section',\r\n\t\t\taccessor: 'section',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Teacher',\r\n\t\t\taccessor: 'teacher',\r\n\t\t\tminWidth: '250px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Year',\r\n\t\t\taccessor: 'year',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Times',\r\n\t\t\taccessor: 'times',\r\n\t\t\tminWidth: '250px',\r\n\t\t},\r\n\t];\r\n\r\n\tif (user?.role === 'Registrar') {\r\n\t\tcolumns.push({\r\n\t\t\ttitle: 'Actions',\r\n\t\t\taccessor: 'actions',\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tonRefresh={() => refetch()}\r\n\t\t\ttitle='Schedules'\r\n\t\t\tloading={loading}\r\n\t\t\titems={\r\n\t\t\t\titems?.map((schedule) => ({\r\n\t\t\t\t\t...schedule,\r\n\t\t\t\t\tsection: schedule.section?.name,\r\n\t\t\t\t\tsubject: schedule?.subject?.description,\r\n\t\t\t\t\tcourse: `${schedule.course?.code}${schedule.major ? ` - Major in ${schedule.major.name}` : ''}`,\r\n\t\t\t\t\tteacher: `${schedule.teacher?.last_name}, ${schedule.teacher?.first_name} ${schedule.teacher?.middle_name || ''}`,\r\n\t\t\t\t\ttimes: (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{schedule.payload.map((row, index) =>\r\n\t\t\t\t\t\t\t\trow.start_time && row.end_time ? (\r\n\t\t\t\t\t\t\t\t\t<span className='d-block' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t{row.day} {dayjs(row.start_time).format('hh:mm A')} - {dayjs(row.end_time).format('hh:mm A')}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tactions: (\r\n\t\t\t\t\t\t<div style={{ minWidth: '250px' }}>\r\n\t\t\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Link to={url(`${schedule.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(schedule.id);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t})) || []\r\n\t\t\t}\r\n\t\t\tcolumns={columns}\r\n\t\t\tbuttons={\r\n\t\t\t\t<>\r\n\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import dayjs from 'dayjs';\r\nimport React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { UserContract } from '../../../Contracts/user.contract';\r\nimport { State } from '../../../Libraries/State';\r\nimport { scheduleService } from '../../../Services/schedule.service';\r\nimport { userService } from '../../../Services/user.service';\r\n\r\ntype Props = {};\r\n\r\nconst Schedules: FC<Props> = (props) => {\r\n\tconst state = State.getInstance();\r\n\tconst temp = state.get<UserContract>('user');\r\n\tconst { data: user } = useQuery(['user', temp?.id], () => userService.fetchOne(temp?.id));\r\n\tconst { data: schedules } = useQuery('schedules', () => scheduleService.fetch());\r\n\r\n\tconst admission = user?.admissions?.last();\r\n\r\n\tif (!user || !admission) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12 col-md-6 offset-md-3 text-center'>\r\n\t\t\t\t\t<h4>EASTERN MINDORO COLLEGE</h4>\r\n\t\t\t\t\t<p>Bongabong, Oriental Mindoro</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='d-flex mt-5'>\r\n\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t<b>Name:</b> {user.last_name}, {user.first_name} {user.middle_name || ''}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t<b>Semester:</b> {admission.term}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t<b>Year Level:</b> {admission.level}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t<b>Status: </b> {admission.status}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div className='d-flex mt-3'>\r\n\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t<b>Student Number:</b> {user.uuid}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t<b>Year:</b> {admission.year?.start} - {admission.year?.end}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<table className='table table-bordered mt-3'>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Subject Code</th>\r\n\t\t\t\t\t\t<th>Description</th>\r\n\t\t\t\t\t\t<th>Schedules</th>\r\n\t\t\t\t\t\t<th>Instructor</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{schedules?.map((schedule, index) => (\r\n\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t<td>{schedule.subject?.code}</td>\r\n\t\t\t\t\t\t\t<td>{schedule.subject?.description}</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t{schedule.payload.map((row) => {\r\n\t\t\t\t\t\t\t\t\tif (!row.start_time && !row.end_time) {\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<span className='d-block'>\r\n\t\t\t\t\t\t\t\t\t\t\t{row.day} {dayjs(row.start_time!).format('hh:mm A')} - {dayjs(row.end_time!).format('hh:mm A')}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t{schedule.teacher?.last_name}, {schedule.teacher?.first_name} {schedule.teacher?.middle_name || ''}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Schedules;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport Form from './Form';\r\nimport List from './List';\r\nimport SchedulesStudent from '../Dashboard/Student/Schedules';\r\n\r\ntype Props = {};\r\n\r\nconst Schedules: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: user?.role !== 'Student' ? List : SchedulesStudent,\r\n\t\t},\r\n\t];\r\n\r\n\tif (user?.role !== 'Student') {\r\n\t\troutes.push({\r\n\t\t\tpath: url('/add'),\r\n\t\t\tcomponent: Form,\r\n\t\t});\r\n\t\troutes.push({\r\n\t\t\tpath: url('/:id/edit'),\r\n\t\t\tcomponent: Form,\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Schedules;\r\n","import { GradeContract } from '../Contracts/grade.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class GradeService extends Service<GradeContract> {}\r\n\r\nexport const gradeService = new GradeService('/grades');\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { createRef, FC } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useCallback } from 'react';\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useQuery } from 'react-query';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { v4 } from 'uuid';\r\nimport { CourseContract } from '../../Contracts/course.contract';\r\nimport { MajorContract } from '../../Contracts/major.contract';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { YearContract } from '../../Contracts/year.contract';\r\nimport { handleError, Asker, isBehind, findSection } from '../../helpers';\r\nimport { useCurrentYear, useNullable } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { routes } from '../../routes';\r\nimport { courseService } from '../../Services/course.service';\r\nimport { gradeService } from '../../Services/grade.service';\r\nimport { subjectService } from '../../Services/subject.service';\r\nimport { userService } from '../../Services/user.service';\r\nimport { yearService } from '../../Services/year.service';\r\nimport Flatpickr from 'react-flatpickr';\r\n\r\nimport Table from '../Shared/Table';\r\n\r\ntype GradeContract = {\r\n\tstudent_id: number;\r\n\tsubject_id: number;\r\n\tteacher_id: number;\r\n\tgrade: number;\r\n\tstatus: string;\r\n\tyear_id: number;\r\n};\r\n\r\ntype UserInput = {\r\n\tpayment_status: 'Not Paid' | 'Partially Paid' | 'Fully Paid';\r\n};\r\n\r\ntype Props = {};\r\n\r\nconst incrementModalRef = v4();\r\nconst updatePaymentModalRef = v4();\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('users', () => userService.fetch());\r\n\tconst { data: subjects } = useQuery('subjects', () => subjectService.fetch());\r\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\r\n\tconst [course, setCourse] = useNullable<CourseContract>();\r\n\tconst [major, setMajor] = useNullable<MajorContract>();\r\n\tconst {\r\n\t\tregister: registerGrade,\r\n\t\thandleSubmit,\r\n\t\treset,\r\n\t} = useForm<GradeContract>({\r\n\t\tdefaultValues: {\r\n\t\t\tgrade: 65,\r\n\t\t},\r\n\t});\r\n\tconst { register: registerUser, handleSubmit: handleSubmitUser, reset: resetUser, setValue: setValueUser } = useForm<UserInput>();\r\n\tconst [student, setStudent] = useNullable<number>();\r\n\tconst addGradeModalRef = createRef<HTMLDivElement>();\r\n\tconst { data: year } = useCurrentYear();\r\n\tconst history = useHistory();\r\n\tconst [semesterStart, setSemesterStart] = useNullable<Date>();\r\n\tconst [semesterEnd, setSemesterEnd] = useNullable<Date>();\r\n\tconst [registrationStart, setRegistrationStart] = useNullable<Date>();\r\n\tconst [registrationEnd, setRegistrationEnd] = useNullable<Date>();\r\n\tconst [gradeStart, setGradeStart] = useNullable<Date>();\r\n\tconst [gradeEnd, setGradeEnd] = useNullable<Date>();\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit: yearHandleSubmit,\r\n\t\treset: yearReset,\r\n\t} = useForm<YearContract>({\r\n\t\tdefaultValues: {\r\n\t\t\tstart: new Date().getFullYear(),\r\n\t\t\tend: new Date().getFullYear() + 1,\r\n\t\t\tcurrent: true,\r\n\t\t},\r\n\t});\r\n\r\n\tconst determine = useCallback(() => {\r\n\t\tif (history.location.pathname.includes('old')) {\r\n\t\t\treturn 'Old';\r\n\t\t} else if (history.location.pathname.includes('new')) {\r\n\t\t\treturn 'New';\r\n\t\t} else if (history.location.pathname.includes('behind')) {\r\n\t\t\treturn 'Behind';\r\n\t\t}\r\n\t\tthrow new Error();\r\n\t}, [history.location.pathname]);\r\n\r\n\tconst [type, setType] = useState(determine());\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\tconst statuses = {\r\n\t\t'Not Paid': 'danger',\r\n\t\t'Fully Paid': 'success',\r\n\t\t'Partially Paid': 'warning',\r\n\t};\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst submitYear = async (data: YearContract) => {\r\n\t\tif (await Asker.notice('Are you sure you want to evaluate all students into a new school year?', 'Notice')) {\r\n\t\t\tsetProcessing(true);\r\n\t\t\ttry {\r\n\t\t\t\tdata.semester_start = semesterStart?.toJSON() || '';\r\n\t\t\t\tdata.semester_end = semesterEnd?.toJSON() || '';\r\n\t\t\t\tdata.registration_start = registrationStart?.toJSON() || '';\r\n\t\t\t\tdata.registration_end = registrationEnd?.toJSON() || '';\r\n\t\t\t\tdata.grade_start = gradeStart?.toJSON() || '';\r\n\t\t\t\tdata.grade_end = gradeEnd?.toJSON() || '';\r\n\t\t\t\tdata.current = true;\r\n\t\t\t\t$(`#${incrementModalRef}`).modal('hide');\r\n\t\t\t\tawait yearService.create(data);\r\n\t\t\t\tawait evaluate();\r\n\t\t\t\treset();\r\n\t\t\t} catch (error) {\r\n\t\t\t\thandleError(error);\r\n\t\t\t} finally {\r\n\t\t\t\tsetProcessing(false);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst evaluate = async () => {\r\n\t\ttry {\r\n\t\t\ttoastr.info('Processing students. Please wait.', 'Notice');\r\n\t\t\tconst {\r\n\t\t\t\tdata: { missing, failed, passed },\r\n\t\t\t} = await axios.post<{ missing: number; failed: number; passed: number }>('/admissions/increment');\r\n\t\t\ttoastr.success(\r\n\t\t\t\t`Processing done. \r\n                    <br />Passed Students: ${passed}\r\n                    <br />Failed Students: ${failed} \r\n                    <br />Subjects with missing grades: ${missing}`,\r\n\t\t\t\t'Success',\r\n\t\t\t\t{\r\n\t\t\t\t\tescapeHtml: false,\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\trefetch();\r\n\t\t} catch (error) {\r\n\t\t\ttoastr.error('Unable to process students.');\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitGrade = async (data: GradeContract) => {\r\n\t\ttry {\r\n\t\t\tdata.student_id = student!;\r\n\t\t\tdata.teacher_id = user!.id!;\r\n\t\t\tawait gradeService.create(data);\r\n\t\t\ttoastr.success('Grade added succesfully.');\r\n\t\t\trefetch();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tif (addGradeModalRef.current) {\r\n\t\t\t\t$(addGradeModalRef.current).modal('hide');\r\n\t\t\t}\r\n\t\t\tsetStudent(null);\r\n\t\t\treset();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitUser = async (data: UserInput) => {\r\n\t\ttry {\r\n\t\t\tawait userService.update(student, data);\r\n\t\t\ttoastr.success('Student payment updated succesfully.');\r\n\t\t\trefetch();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\t$(`#${updatePaymentModalRef}`).modal('hide');\r\n\t\t\tsetStudent(null);\r\n\t\t\tresetUser();\r\n\t\t}\r\n\t};\r\n\r\n\tconst findAdmission = (student: UserContract) => {\r\n\t\tconst admission = student.admissions?.find((admission) => admission.year?.current);\r\n\t\tif (admission) {\r\n\t\t\treturn admission;\r\n\t\t}\r\n\r\n\t\treturn student.admissions?.last();\r\n\t};\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Student?')) {\r\n\t\t\t\tawait userService.delete(id);\r\n\t\t\t\ttoastr.info('Student has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst reincrement = async (student: UserContract) => {\r\n\t\ttry {\r\n\t\t\tawait axios.post(`/users/${student.id}/reincrement`);\r\n\t\t\ttoastr.success('Student reincremented successfully.');\r\n\t\t\tawait refetch();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetType(determine());\r\n\t}, [determine]);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'ID Number',\r\n\t\t\taccessor: 'uuid',\r\n\t\t\tminWidth: '160px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Name',\r\n\t\t\taccessor: 'name',\r\n\t\t\tminWidth: '200px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Year',\r\n\t\t\taccessor: 'year',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Semester',\r\n\t\t\taccessor: 'semester',\r\n\t\t\tminWidth: '150px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Course',\r\n\t\t\taccessor: 'course',\r\n\t\t\tminWidth: '375px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Section',\r\n\t\t\taccessor: 'section',\r\n\t\t\tminWidth: '200px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Units Available',\r\n\t\t\taccessor: 'allowed_units',\r\n\t\t\tminWidth: '150px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Payment Status',\r\n\t\t\taccessor: 'payment_status',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Status',\r\n\t\t\taccessor: 'status',\r\n\t\t},\r\n\t];\r\n\r\n\tif (['Registrar', 'Teacher', 'Admin'].includes(user?.role || '')) {\r\n\t\tcolumns.push({ title: 'Actions', accessor: 'actions', minWidth: '350px' });\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Table\r\n\t\t\t\tonRefresh={() => refetch()}\r\n\t\t\t\ttitle={`${type} Students`}\r\n\t\t\t\tloading={loading}\r\n\t\t\t\titems={\r\n\t\t\t\t\titems\r\n\t\t\t\t\t\t?.filter((user) => user.role === 'Student' && user.active)\r\n\t\t\t\t\t\t.filter((student) => {\r\n\t\t\t\t\t\t\tif (type !== 'Behind') {\r\n\t\t\t\t\t\t\t\treturn student.type === type && !isBehind(student);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn isBehind(student);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.filter((student) => {\r\n\t\t\t\t\t\t\tconst admission = student.admissions?.find((admission) => admission.year?.current);\r\n\r\n\t\t\t\t\t\t\tif (admission) {\r\n\t\t\t\t\t\t\t\tif (course && major) {\r\n\t\t\t\t\t\t\t\t\treturn admission.course_id === course.id && admission.major_id === major.id;\r\n\t\t\t\t\t\t\t\t} else if (course) {\r\n\t\t\t\t\t\t\t\t\treturn admission.course_id === course.id;\r\n\t\t\t\t\t\t\t\t} else if (major) {\r\n\t\t\t\t\t\t\t\t\treturn admission.major_id === major.id;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.map((student) => ({\r\n\t\t\t\t\t\t\t...student,\r\n\t\t\t\t\t\t\tname: (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{student.last_name}, {student.first_name} {student.middle_name || ''}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tyear: findAdmission(student)?.level,\r\n\t\t\t\t\t\t\tcourse: `${findAdmission(student)?.course?.code || ''}${\r\n\t\t\t\t\t\t\t\tfindAdmission(student)?.major ? ` - Major in ${findAdmission(student)?.major?.name || 'N/A'}` : ''\r\n\t\t\t\t\t\t\t}`,\r\n\t\t\t\t\t\t\tbirthday: dayjs(student.birthday).format('MMMM DD, YYYY'),\r\n\t\t\t\t\t\t\tage: new Date().getFullYear() - dayjs(student.birthday).year(),\r\n\t\t\t\t\t\t\tstatus: student.active ? (\r\n\t\t\t\t\t\t\t\t<span className='badge badge-success'>Confirmed</span>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span className='badge badge-danger'>Unconfirmed</span>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tpayment_status: (\r\n\t\t\t\t\t\t\t\t<span className={`badge badge-${statuses[student.payment_status]}`}>{student.payment_status}</span>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tsection: <>{findSection(student)?.name}</>,\r\n\t\t\t\t\t\t\tsemester: findAdmission(student)?.year?.semester,\r\n\t\t\t\t\t\t\tactions: (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/dashboard/admissions/${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstudent.admissions?.find((admission) => admission?.year?.current)?.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t}/edit`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-warning btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle='Edit'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle='Update Payment'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst modal = $(`#${updatePaymentModalRef}`);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (modal.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetStudent(student.id!);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValueUser('payment_status', student.payment_status);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodal.modal('toggle');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-money-bill'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t{isBehind(student) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Re-Increment Student'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (await Asker.notice('Are you sure to reincrement this student?')) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait reincrement(student);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-university'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t{['Registrar', 'Admin'].includes(user?.role || '') && !isBehind(student) ? (\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={`${routes.DASHBOARD}${routes.STUDENTS}/${student.id}/subjects`}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\t\ttitle='Add Subjects'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-book'></i>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t{user?.role === 'Teacher' ? (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle='Add Grade'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (addGradeModalRef.current) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetStudent(student.id!);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$(addGradeModalRef.current).modal('toggle');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-chart-bar'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1 d-none'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(student.id);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})) || []\r\n\t\t\t\t}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tmisc={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<label className='mb-0 mt-2 mx-1'>\r\n\t\t\t\t\t\t\tCourse:\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclassName='custom-select custom-select-sm form-control form-control-sm'\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\tif (id === 0) {\r\n\t\t\t\t\t\t\t\t\t\tsetCourse(null);\r\n\t\t\t\t\t\t\t\t\t\tsetMajor(null);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\r\n\t\t\t\t\t\t\t\t\t\tif (course) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(course);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<option value='0'>All</option>\r\n\t\t\t\t\t\t\t\t{courses?.map((course, index) => (\r\n\t\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t{course.code}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t{course ? (\r\n\t\t\t\t\t\t\t<label className='mb-0 mt-2 mx-1'>\r\n\t\t\t\t\t\t\t\tMajor:\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclassName='custom-select custom-select-sm form-control form-control-sm'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\tif (id === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetMajor(null);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tconst major = course?.majors?.find((major) => major.id === id);\r\n\t\t\t\t\t\t\t\t\t\t\tif (major) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetMajor(major);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value='0'>All</option>\r\n\t\t\t\t\t\t\t\t\t{course.majors?.map((major, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t{major.name}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t\tbuttons={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{type !== 'Behind' ? (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\ttitle='Evaluate Students'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t$(`#${incrementModalRef}`).modal('show');\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref={`${axios.defaults.baseURL}/exports/registrar/classlist/regular-and-irregular`}\r\n\t\t\t\t\t\t\t\t\tdownload\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-warning btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\ttitle='Download Classlist per Regular and Irregular Student'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-file-excel'></i>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref={`${axios.defaults.baseURL}/exports/registrar/classlist/course-and-major`}\r\n\t\t\t\t\t\t\t\t\tdownload\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\ttitle='Download Classlist per Course and Major'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-file-excel'></i>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref={`${axios.defaults.baseURL}/exports/registrar/classlist/subject`}\r\n\t\t\t\t\t\t\t\t\tdownload\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-success btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\ttitle='Download Classlist per Subject'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-file-excel'></i>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<div ref={addGradeModalRef} className='modal fade' tabIndex={-1}>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title'>Add Grade</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<form onSubmit={handleSubmit(submitGrade)}>\r\n\t\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t\t<input type='hidden' {...registerGrade('year_id')} value={year?.id} />\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='subject_id'>Subject</label>\r\n\t\t\t\t\t\t\t\t\t<select {...registerGrade('subject_id')} id='subject_id' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t\t{subjects?.map((subject, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={subject.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{subject.code}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='grade'>Grade</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t{...registerGrade('grade')}\r\n\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\tid='grade'\r\n\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='status'>Status</label>\r\n\t\t\t\t\t\t\t\t\t<input {...registerGrade('status')} type='text' id='status' className='form-control' />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm'>\r\n\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id={updatePaymentModalRef} className='modal fade' tabIndex={-1}>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title'>Update Payment</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<form onSubmit={handleSubmitUser(submitUser)}>\r\n\t\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='payment_status'>Payment Status</label>\r\n\t\t\t\t\t\t\t\t\t<select {...registerUser('payment_status')} id='subject_id' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t\t<option value='Not Paid'>Not Paid</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='Partially Paid'>Partially Paid</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='Fully Paid'>Fully Paid</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm'>\r\n\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id={incrementModalRef} className='modal fade' tabIndex={-1}>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<form onSubmit={yearHandleSubmit(submitYear)}>\r\n\t\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t\t<h5 className='modal-title'>Increment to new School Year</h5>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\tclassName='close'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t$(`#${incrementModalRef}`).modal('hide');\r\n\t\t\t\t\t\t\t\t\t\tyearReset();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<span>&times;</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t\t<div className='mb-3'>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tCurrent Year: {year?.start} - {year?.end}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>Current Semester: {year?.semester}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='form-row'>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='start'>Start</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('start')}\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tid='start'\r\n\t\t\t\t\t\t\t\t\t\t\tmin={new Date().getFullYear()}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={new Date().getFullYear() + 10}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='end'>End</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('end')}\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tid='end'\r\n\t\t\t\t\t\t\t\t\t\t\tmin={new Date().getFullYear()}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={new Date().getFullYear() + 10}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='semester'>Semester</label>\r\n\t\t\t\t\t\t\t\t\t\t<select {...register('semester')} id='semester' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value='1st Semester'>1st Semester</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value='2nd Semester'>2nd Semester</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value='Summer'>Summer</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='semester_start'>Semester Start</label>\r\n\t\t\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={semesterStart || undefined}\r\n\t\t\t\t\t\t\t\t\t\t\tid='semester_start'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSemesterStart(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='semester_end'>Semester End</label>\r\n\t\t\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={semesterEnd || undefined}\r\n\t\t\t\t\t\t\t\t\t\t\tid='semester_end'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSemesterEnd(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='registration_start'>Registration Start</label>\r\n\t\t\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={registrationStart || undefined}\r\n\t\t\t\t\t\t\t\t\t\t\tid='registration_start'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetRegistrationStart(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='registration_end'>Registration End</label>\r\n\t\t\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={registrationEnd || undefined}\r\n\t\t\t\t\t\t\t\t\t\t\tid='registration_end'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetRegistrationEnd(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='grade_start'>Grade Encoding Start</label>\r\n\t\t\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={gradeStart || undefined}\r\n\t\t\t\t\t\t\t\t\t\t\tid='grade_start'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetGradeStart(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\t\taltInput: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\taltFormat: 'F j, Y G:i K',\r\n\t\t\t\t\t\t\t\t\t\t\t\tenableTime: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdateFormat: 'F j, Y G:i K',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='grade_end'>Grade Encoding End</label>\r\n\t\t\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={gradeEnd || undefined}\r\n\t\t\t\t\t\t\t\t\t\t\tid='grade_end'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetGradeEnd(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\t\t\taltInput: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\taltFormat: 'F j, Y G:i K',\r\n\t\t\t\t\t\t\t\t\t\t\t\tenableTime: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdateFormat: 'F j, Y G:i K',\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='modal-footer d-flex'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-secondary'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t$(`#${incrementModalRef}`).modal('hide');\r\n\t\t\t\t\t\t\t\t\t\tyearReset();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport { trim } from 'lodash';\r\nimport React, { FC, useState } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { useHistory, useParams } from 'react-router';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { Asker, handleError } from '../../helpers';\r\nimport { useArray, useCurrentYear } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { subjectService } from '../../Services/subject.service';\r\nimport { userService } from '../../Services/user.service';\r\n\r\ntype Props = {};\r\n\r\nconst Subjects: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst { id } = useParams<{ id: string }>();\r\n\tconst history = useHistory();\r\n\tconst [enrolled, setEnrolled] = useArray<number>();\r\n\tconst {\r\n\t\tdata: student,\r\n\t\terror,\r\n\t\tisError,\r\n\t} = useQuery(['users', id], () => userService.fetchOne(id), {\r\n\t\tonSuccess(student) {\r\n\t\t\tsetEnrolled(student.subjects?.map(({ id }) => id!)!);\r\n\t\t},\r\n\t});\r\n\tconst { data: subjects } = useQuery('subjects', () => subjectService.fetch());\r\n\tconst admission = student?.admissions?.find((admission) => admission.year?.current) || student?.admissions?.last();\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\tconst { data: year } = useCurrentYear({ onSuccess: () => check() });\r\n\r\n\tconst submit = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.post(`/users/${student?.id}/subjects`, {\r\n\t\t\t\tsubjects: enrolled,\r\n\t\t\t});\r\n\t\t\ttoastr.success('Subjects enrolled successfully.');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst check = async () => {\r\n\t\tif (year) {\r\n\t\t\tconst now = dayjs();\r\n\t\t\tconst start = dayjs(year.registration_start);\r\n\t\t\tconst end = dayjs(year.registration_end);\r\n\t\t\tif (now.isBefore(start)) {\r\n\t\t\t\tawait Asker.okay(`Enrollment will start at ${start.format('MMMM DD, YYYY')}. Please wait until the given date.`, 'Notice');\r\n\t\t\t\treturn history.goBack();\r\n\t\t\t}\r\n\t\t\tif (now.isAfter(end)) {\r\n\t\t\t\tawait Asker.okay(`Enrollment has already ended. Please enroll at the next enrollment phase.`, 'Notice');\r\n\t\t\t\treturn history.goBack();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t\thistory.goBack();\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (!student || !admission) {\r\n\t\treturn (\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='text-center'>\r\n\t\t\t\t\t<i className='fas fa-circle-notch fa-spin'></i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t<h4 className='card-title'>Student Subjects</h4>\r\n\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\t{student.last_name}, {student.first_name} {student.middle_name || ''}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\tSchool Year: {admission?.year?.start} - {admission?.year?.end}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<small className='form-text text-muted'>\r\n\t\t\t\t\t\tSubjects with{' '}\r\n\t\t\t\t\t\t<sup>\r\n\t\t\t\t\t\t\t<i>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>\r\n\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t</sup>{' '}\r\n\t\t\t\t\t\tare enrolled.\r\n\t\t\t\t\t</small>\r\n\t\t\t\t\t{user?.role === 'Admin' ? (\r\n\t\t\t\t\t\t<small className='form-text text-muted'>\r\n\t\t\t\t\t\t\tSubjects are overrideable even if student has lesser allowed units than the subjects provided.\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<div className='form-row'>\r\n\t\t\t\t\t\t\t{subjects\r\n\t\t\t\t\t\t\t\t?.filter((subject) => {\r\n\t\t\t\t\t\t\t\t\tif (user?.role === 'Admin') {\r\n\t\t\t\t\t\t\t\t\t\treturn subject.course_id === admission.course_id && subject.major_id === admission.major_id;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\r\n\t\t\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\r\n\t\t\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id &&\r\n\t\t\t\t\t\t\t\t\t\t\tsubject.major_id === admission.major_id\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.map((subject, index) => (\r\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-4' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={trim(`${subject.code}-${subject.id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={enrolled.includes(subject.id!)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (enrolled.includes(id)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst index = enrolled.findIndex((number) => number === id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenrolled.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenrolled.push(id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetEnrolled([...enrolled]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={subject.id}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={trim(`${subject.code}-${subject.id}`)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{subject.code} - {subject.description}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<sup>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{student.subjects?.find((sub) => sub.id === subject.id) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</sup>\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Subjects;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport List from './List';\r\nimport Subjects from './Subjects';\r\n\r\ntype Props = {};\r\n\r\nconst Students: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/new'),\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/old'),\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/behind'),\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/subjects'),\r\n\t\t\tcomponent: Subjects,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Students;\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useQuery } from 'react-query';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { CourseContract } from '../../Contracts/course.contract';\r\nimport { Asker, handleError, setValues } from '../../helpers';\r\nimport { useMode, useNullable } from '../../hooks';\r\nimport { courseService } from '../../Services/course.service';\r\nimport { subjectService } from '../../Services/subject.service';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tcode: string;\r\n\tdescription: string;\r\n\tcourse_id: number;\r\n\tlevel: string;\r\n\tterm: string;\r\n\tunits: number;\r\n\tforce: boolean;\r\n\tmajor_id?: number;\r\n};\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useMode();\r\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\r\n\t\tdefaultValues: {\r\n\t\t\tforce: false,\r\n\t\t},\r\n\t});\r\n\tconst [id, setID] = useState(-1);\r\n\tconst [course, setCourse] = useNullable<CourseContract>();\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch<{ id: string }>();\r\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\r\n\r\n\tconst fetch = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tconst data = await subjectService.fetchOne(id);\r\n\t\t\tsetID(data.id!);\r\n\t\t\tsetValues(setValue, data);\r\n\t\t\tsetMode('Edit');\r\n\t\t\tsetCourse(data.course!);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait (mode === 'Add' ? subjectService.create(data) : subjectService.update(id, data));\r\n\t\t\ttoastr.success('Subject has been saved successfully.');\r\n\t\t\treset();\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response?.status === 409) {\r\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\r\n\t\t\t\t\tdata.force = true;\r\n\t\t\t\t\tawait submit(data);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thandleError(error);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (match.path.includes('edit')) {\r\n\t\t\tfetch(match.params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h5 className='card-title'>{mode} Subject</h5>\r\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t<div className='form-row'>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='code'>Subject Code</label>\r\n\t\t\t\t\t\t\t\t<input {...register('code')} type='text' id='code' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='description'>Description</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('description')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='description'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='course_id'>Course Code</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t{...register('course_id')}\r\n\t\t\t\t\t\t\t\t\tid='course_id'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\r\n\t\t\t\t\t\t\t\t\t\tif (course) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(course);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(null);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t{courses?.map((course, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t{course.code}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{course && course.majors && course.majors.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='major_id'>Major</label>\r\n\t\t\t\t\t\t\t\t\t<select {...register('major_id')} id='major_id' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t\t{course.majors.map((major, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{major.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='level'>Year Level</label>\r\n\t\t\t\t\t\t\t\t<select {...register('level')} id='level' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='1st'>1st</option>\r\n\t\t\t\t\t\t\t\t\t<option value='2nd'>2nd</option>\r\n\t\t\t\t\t\t\t\t\t<option value='3rd'>3rd</option>\r\n\t\t\t\t\t\t\t\t\t<option value='4th'>4th</option>\r\n\t\t\t\t\t\t\t\t\t<option value='5th'>5th</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='units'>Number of Units</label>\r\n\t\t\t\t\t\t\t\t<select {...register('units')} id='units' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t{[1, 2, 3, 4, 5, 6].map((unit, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<option value={unit} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t{unit}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='term'>Term</label>\r\n\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t{...register('term')}\r\n\t\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\t\tid='1st-semester'\r\n\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\tvalue='1st Semester'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='1st-semester'>\r\n\t\t\t\t\t\t\t\t\t\t1st Semester\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t{...register('term')}\r\n\t\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\t\tid='2nd-semester'\r\n\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\tvalue='2nd Semester'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='2nd-semester'>\r\n\t\t\t\t\t\t\t\t\t\t2nd Semester\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\r\n\t\t\t\t\t\t\t\t\t<input {...register('term')} type='radio' id='summer' className='custom-control-input' value='Summer' />\r\n\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='summer'>\r\n\t\t\t\t\t\t\t\t\t\tSummer\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group d-flex'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\r\n\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import axios from 'axios';\r\nimport React, { FC, useMemo } from 'react';\r\nimport { useCallback } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { CourseContract } from '../../Contracts/course.contract';\r\nimport { MajorContract } from '../../Contracts/major.contract';\r\nimport { SubjectContract } from '../../Contracts/subject.contract';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError, Asker } from '../../helpers';\r\nimport { useNullable, useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { courseService } from '../../Services/course.service';\r\nimport { subjectService } from '../../Services/subject.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('subjects', () => subjectService.fetch());\r\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\r\n\tconst [course, setCourse] = useNullable<CourseContract>();\r\n\tconst [major, setMajor] = useNullable<MajorContract>();\r\n\r\n\tconst url = useURL();\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Subject?')) {\r\n\t\t\t\tawait subjectService.delete(id);\r\n\t\t\t\ttoastr.info('Subject has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Subject Code',\r\n\t\t\taccessor: 'code',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Subject Description',\r\n\t\t\taccessor: 'description',\r\n\t\t\tminWidth: '450px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Course',\r\n\t\t\taccessor: 'course',\r\n\t\t\tminWidth: '350px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Year Level',\r\n\t\t\taccessor: 'level',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Semester',\r\n\t\t\taccessor: 'term',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Units',\r\n\t\t\taccessor: 'units',\r\n\t\t},\r\n\t];\r\n\r\n\tif (['Registrar', 'Teacher'].includes(user?.role || '')) {\r\n\t\tcolumns.push({\r\n\t\t\ttitle: 'Actions',\r\n\t\t\taccessor: 'actions',\r\n\t\t});\r\n\t}\r\n\r\n\tconst refine = (items: SubjectContract[]) =>\r\n\t\titems\r\n\t\t\t.filter((subject) => {\r\n\t\t\t\tif (course && major) {\r\n\t\t\t\t\treturn subject.course_id === course.id && subject.major_id === major.id;\r\n\t\t\t\t} else if (course) {\r\n\t\t\t\t\treturn subject.course_id === course.id;\r\n\t\t\t\t} else if (major) {\r\n\t\t\t\t\treturn subject.major_id === major.id;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t})\r\n\t\t\t.map((subject) => ({\r\n\t\t\t\t...subject,\r\n\t\t\t\tcourse: `${subject.course?.code}${subject.major ? ` - Major in ${subject.major.name}` : ''}`,\r\n\t\t\t\tactions: (\r\n\t\t\t\t\t<div style={{ minWidth: '350px' }}>\r\n\t\t\t\t\t\t{user?.role === 'Teacher' ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Link to={url(`${subject.id}/view`)} className='btn btn-info btn-sm mx-1' title='View'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-eye'></i>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref={`${axios.defaults.baseURL}/exports/teacher/classlist/${subject.id}`}\r\n\t\t\t\t\t\t\t\t\tdownload\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-warning btn-sm mx-1 ${\r\n\t\t\t\t\t\t\t\t\t\tsubject.students_count && subject.students_count > 0 ? '' : 'disabled'\r\n\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\ttitle='Download Classlist'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-file-excel'></i>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Link to={url(`${subject.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tdeleteItem(subject.id);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t),\r\n\t\t\t}));\r\n\r\n\tconst memoizedRefine = useCallback(refine, [refine]);\r\n\r\n\tconst memoized = useMemo(() => memoizedRefine(items || []), [items, memoizedRefine]);\r\n\tconst raw = refine(items || []);\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tonRefresh={() => refetch()}\r\n\t\t\ttitle='Subjects'\r\n\t\t\tloading={loading}\r\n\t\t\titems={items && items.length >= 250 ? memoized : raw}\r\n\t\t\tcolumns={columns}\r\n\t\t\tbuttons={\r\n\t\t\t\t<>\r\n\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t\tmisc={\r\n\t\t\t\t<>\r\n\t\t\t\t\t<label className='mb-0 mt-2 mx-1'>\r\n\t\t\t\t\t\tCourse:\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName='custom-select custom-select-sm form-control form-control-sm'\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\tif (id === 0) {\r\n\t\t\t\t\t\t\t\t\tsetCourse(null);\r\n\t\t\t\t\t\t\t\t\tsetMajor(null);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\r\n\t\t\t\t\t\t\t\t\tif (course) {\r\n\t\t\t\t\t\t\t\t\t\tsetCourse(course);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<option value='0'>All</option>\r\n\t\t\t\t\t\t\t{courses?.map((course, index) => (\r\n\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t{course.code}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t{course ? (\r\n\t\t\t\t\t\t<label className='mb-0 mt-2 mx-1'>\r\n\t\t\t\t\t\t\tMajor:\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tclassName='custom-select custom-select-sm form-control form-control-sm'\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\tif (id === 0) {\r\n\t\t\t\t\t\t\t\t\t\tsetMajor(null);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconst major = course?.majors?.find((major) => major.id === id);\r\n\t\t\t\t\t\t\t\t\t\tif (major) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetMajor(major);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<option value='0'>All</option>\r\n\t\t\t\t\t\t\t\t{course.majors?.map((major, index) => (\r\n\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t{major.name}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import { AxiosError } from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { FC } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useQuery } from 'react-query';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { Asker, findSection, handleError, isBehind } from '../../helpers';\r\nimport { useCurrentYear, useNullable } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { gradeService } from '../../Services/grade.service';\r\nimport { subjectService } from '../../Services/subject.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tstudent_id: number;\r\n\tsubject_id: number;\r\n\tteacher_id: number;\r\n\tgrade: number;\r\n\tstatus: string;\r\n\tyear_id: number;\r\n};\r\n\r\nconst View: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst params = useParams<{ id: string }>();\r\n\tconst id = params.id.toNumber();\r\n\tconst history = useHistory();\r\n\tconst [studentID, setStudentID] = useNullable<number>();\r\n\tconst { data: subject, isLoading: loading, isError, error, refetch } = useQuery(['subjects', id], () => subjectService.fetchOne(id));\r\n\tconst [setGrade, setSetGrade] = useState(false);\r\n\tconst [gradeAmount, setGradeAmount] = useState(0);\r\n\tconst { register, handleSubmit, reset, setValue } = useForm<Inputs>();\r\n\tconst { data: year } = useCurrentYear();\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tdata.student_id = studentID!;\r\n\t\t\tdata.teacher_id = user?.id!;\r\n\t\t\tdata.subject_id = subject?.id || id;\r\n\t\t\tdata.grade = gradeAmount;\r\n\t\t\tdata.status = gradeAmount >= 75 ? 'Passed' : 'Failed';\r\n\t\t\tawait gradeService.create(data);\r\n\t\t\tawait refetch();\r\n\t\t\ttoastr.success('Grade saved succesfully.');\r\n\t\t\tsetGradeAmount(0);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetStudentID(null);\r\n\t\t\treset();\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tif (isError && (error as AxiosError)?.response?.status === 404) {\r\n\t\ttoastr.error('Subject does not exist.');\r\n\t\thistory.goBack();\r\n\t}\r\n\r\n\tconst findGrade = (student: UserContract, current = true) => {\r\n\t\treturn student.grades?.find(\r\n\t\t\t(grade) => grade.teacher_id === user?.id && grade.year?.current === current && grade.subject_id === subject?.id\r\n\t\t);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\trefetch();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tif (!subject) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t<h2 className='card-title'>View Subject</h2>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\r\n\t\t\t\t\t\t\tstyle={{ position: 'absolute', right: '10px' }}\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p className='card-text mb-0'>Code: {subject.code}</p>\r\n\t\t\t\t\t<p className='card-text mb-0'>Description: {subject.description}</p>\r\n\t\t\t\t\t<p className='card-text mb-0'>\r\n\t\t\t\t\t\tCourse: {`${subject.course?.code}${subject.major ? ` - Major in ${subject.major.name}` : ''}`}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\tGrade Encoding Deadline: {dayjs(year?.grade_start).format('MMMM DD, YYYY hh:mm A')} -{' '}\r\n\t\t\t\t\t\t{dayjs(year?.grade_end).format('MMMM DD, YYYY hh:mm A')}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h4 className='mb-0 mt-3'>Schedule</h4>\r\n\t\t\t\t\t<table className='table table-bordered table-sm mb-5'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Day</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>Start Time</th>\r\n\t\t\t\t\t\t\t\t<th className='text-center'>End Time</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{subject.schedules\r\n\t\t\t\t\t\t\t\t?.find((schedule) => schedule.teacher_id === user?.id)\r\n\t\t\t\t\t\t\t\t?.payload.map((row, index) => (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td className='text-center'>{row.day}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className='text-center'>{dayjs(row.start_time!).format('hh:mm A')}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td className='text-center'>{dayjs(row.end_time!).format('hh:mm A')}</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tonRefresh={() => refetch()}\r\n\t\t\t\t\t\ttitle='Student List'\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\titems={\r\n\t\t\t\t\t\t\tsubject.students?.map((student) => ({\r\n\t\t\t\t\t\t\t\t...student,\r\n\t\t\t\t\t\t\t\tname: (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t{student.last_name}, {student.first_name} {student.middle_name || ''}\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\tyear: !isBehind(student)\r\n\t\t\t\t\t\t\t\t\t? student.admissions?.find((admission) => admission.year?.current)?.level\r\n\t\t\t\t\t\t\t\t\t: student.admissions?.last()?.level,\r\n\t\t\t\t\t\t\t\tsemester: !isBehind(student)\r\n\t\t\t\t\t\t\t\t\t? student.admissions?.find((admission) => admission.year?.current)?.term\r\n\t\t\t\t\t\t\t\t\t: student.admissions?.last()?.term,\r\n\t\t\t\t\t\t\t\tsection: findSection(student)?.name,\r\n\t\t\t\t\t\t\t\tactions: (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t{findGrade(student, !isBehind(student)) && !setGrade ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (year && !isBehind(student)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst now = dayjs();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst start = dayjs(year.grade_start);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst end = dayjs(year.grade_end);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (now.isBefore(start)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.okay(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t`Encoding of grades will start at ${start.format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'MMMM DD, YYYY hh:mm A'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}. Please wait until the given date.`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Notice'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn history.goBack();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (now.isAfter(end)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.okay(`Encoding of grades has already ended.`, 'Notice');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn history.goBack();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst grade = findGrade(student, !isBehind(student));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (grade) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (grade.grade >= 75) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('status', 'Passed');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('status', 'Failed');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetGradeAmount(grade.grade);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSetGrade(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStudentID(student.id!);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='clickable'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{findGrade(student, !isBehind(student))?.grade}%\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{setGrade && student.id === studentID ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-inline row'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ minWidth: '100px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='hidden'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...register('year_id')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={!isBehind(student) ? year?.id : student.admissions?.last()?.year_id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input {...register('status')} type='hidden' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='col-4'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='grade'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst grade = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (grade >= 0 && grade <= 100) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (grade >= 75) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('status', 'Passed');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('status', 'Failed');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetGradeAmount(grade);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={gradeAmount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='col-4'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm' disabled={processing}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='col-4'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSetGrade(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetStudentID(null);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{findGrade(student, !isBehind(student)) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (year && !isBehind(student)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst now = dayjs();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst start = dayjs(year.grade_start);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst end = dayjs(year.grade_end);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (now.isBefore(start)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.okay(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t`Encoding of grades will start at ${start.format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'MMMM DD, YYYY hh:mm A'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}. Please wait until the given date.`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Notice'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn history.goBack();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (now.isAfter(end)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.okay(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t`Encoding of grades has already ended.`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Notice'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn history.goBack();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst grade = findGrade(student, !isBehind(student));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (grade) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (grade.grade >= 75) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('status', 'Passed');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('status', 'Failed');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetGradeAmount(grade.grade);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSetGrade(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetStudentID(student.id!);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='clickable'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{findGrade(student, !isBehind(student))?.grade}%\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (year && isBehind(student)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst now = dayjs();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst start = dayjs(year.grade_start);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst end = dayjs(year.grade_end);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (now.isBefore(start)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.okay(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t`Encoding of grades will start at ${start.format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'MMMM DD, YYYY hh:mm A'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}. Please wait until the given date.`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Notice'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn history.goBack();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (now.isAfter(end)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.okay(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t`Encoding of grades has already ended.`,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Notice'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn history.goBack();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSetGrade(!setGrade);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetStudentID(student.id!);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='clickable d-block'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t})) || []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcolumns={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttitle: 'ID Number',\r\n\t\t\t\t\t\t\t\taccessor: 'uuid',\r\n\t\t\t\t\t\t\t\tminWidth: '200px',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttitle: 'Name',\r\n\t\t\t\t\t\t\t\taccessor: 'name',\r\n\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttitle: 'Year',\r\n\t\t\t\t\t\t\t\taccessor: 'year',\r\n\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttitle: 'Semester',\r\n\t\t\t\t\t\t\t\taccessor: 'semester',\r\n\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttitle: 'Section',\r\n\t\t\t\t\t\t\t\taccessor: 'section',\r\n\t\t\t\t\t\t\t\tminWidth: '150px',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttitle: 'Actions',\r\n\t\t\t\t\t\t\t\taccessor: 'actions',\r\n\t\t\t\t\t\t\t\tminWidth: '300px',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default View;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport Form from './Form';\r\nimport List from './List';\r\nimport View from './View';\r\n\r\ntype Props = {};\r\n\r\nconst Subjects: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/add'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/edit'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/view'),\r\n\t\t\tcomponent: View,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Subjects;\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { Asker, handleError, setValues } from '../../helpers';\r\nimport { useMode, useNullable } from '../../hooks';\r\nimport { userService } from '../../Services/user.service';\r\nimport Flatpickr from 'react-flatpickr';\r\nimport dayjs from 'dayjs';\r\nimport InputMask from 'react-input-mask';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tuuid: string;\r\n\tfirst_name: string;\r\n\tlast_name: string;\r\n\tmiddle_name?: string;\r\n\tgender?: string;\r\n\taddress?: string;\r\n\tplace_of_birth?: string;\r\n\tbirthday?: string;\r\n\trole: string;\r\n\temail: string;\r\n\tnumber: string;\r\n\tactive: boolean;\r\n\tpassword: string;\r\n\tfathers_name?: string;\r\n\tmothers_name?: string;\r\n\tfathers_occupation?: string;\r\n\tmothers_occupation?: string;\r\n\tforce: boolean;\r\n\ttype: string;\r\n\tenrolled: boolean;\r\n\tpayment_status: 'Not Paid' | 'Fully Paid' | 'Partially Paid';\r\n};\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useMode();\r\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\r\n\t\tdefaultValues: {\r\n\t\t\tforce: false,\r\n\t\t},\r\n\t});\r\n\tconst [birthday, setBirthday] = useNullable<Date>();\r\n\tconst [id, setID] = useState(-1);\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch<{ id: string }>();\r\n\tconst [number, setNumber] = useState('');\r\n\r\n\tconst fetch = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tconst data = await userService.fetchOne(id);\r\n\t\t\tsetID(data.id!);\r\n\t\t\tsetValues(setValue, data);\r\n\t\t\tsetBirthday(dayjs(data.birthday).toDate());\r\n\t\t\tsetNumber(data.number);\r\n\t\t\tsetMode('Edit');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tdata.role = 'Teacher';\r\n\t\t\tdata.active = true;\r\n\t\t\tdata.birthday = birthday?.toJSON() || '';\r\n\t\t\tdata.number = number;\r\n\t\t\tawait (mode === 'Add' ? userService.create(data) : userService.update(id, data));\r\n\t\t\ttoastr.success('Teacher has been saved successfully.');\r\n\t\t\treset();\r\n\t\t\tsetBirthday(null);\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response?.status === 409) {\r\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\r\n\t\t\t\t\tdata.force = true;\r\n\t\t\t\t\tawait submit(data);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thandleError(error);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (match.path.includes('edit')) {\r\n\t\t\tfetch(match.params.id);\r\n\t\t} else {\r\n\t\t\tuserService.fetch().then((users) => {\r\n\t\t\t\tsetValue(\r\n\t\t\t\t\t'uuid',\r\n\t\t\t\t\t`teacher-${`${users.filter((user) => user.role === 'Teacher').length + 1}`.padStart(\r\n\t\t\t\t\t\t5,\r\n\t\t\t\t\t\t'0'\r\n\t\t\t\t\t)}-${new Date().getFullYear()}`\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h5 className='card-title'>{mode} Teacher</h5>\r\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t<div className='form-row'>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='first_name'>First Name</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('first_name')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='first_name'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='uuid'>Teacher Number</label>\r\n\t\t\t\t\t\t\t\t<input {...register('uuid')} type='text' id='uuid' className='form-control' readOnly />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='last_name'>Last Name</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('last_name')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='last_name'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email Address</label>\r\n\t\t\t\t\t\t\t\t<input {...register('email')} type='email' id='email' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='gender'>Gender</label>\r\n\t\t\t\t\t\t\t\t<select {...register('gender')} id='gender' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='Male'>Male</option>\r\n\t\t\t\t\t\t\t\t\t<option value='Female'>Female</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='number'>Phone Number</label>\r\n\t\t\t\t\t\t\t\t<InputMask\r\n\t\t\t\t\t\t\t\t\tmask='0\\999-999-9999'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='number'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={number}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='birthday'>Birthday</label>\r\n\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\tvalue={birthday || undefined}\r\n\t\t\t\t\t\t\t\t\tid='birthday'\r\n\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\tmaxDate: dayjs()\r\n\t\t\t\t\t\t\t\t\t\t\t.year(new Date().getFullYear() - 15)\r\n\t\t\t\t\t\t\t\t\t\t\t.toDate(),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetBirthday(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='address'>Address</label>\r\n\t\t\t\t\t\t\t\t<input {...register('address')} type='text' id='address' className='form-control' disabled={processing} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t<i className='ml-auto'>Account credentials will be sent via email.</i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\r\n\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import dayjs from 'dayjs';\r\nimport React, { createRef, FC, useEffect } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError, Asker, toJSON } from '../../helpers';\r\nimport { useArray, useNullable, useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { userService } from '../../Services/user.service';\r\n\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('users', () => userService.fetch());\r\n\tconst [selected, setSelected] = useArray<number>();\r\n\tconst [teacher, setTeacher] = useNullable<UserContract>();\r\n\tconst modalRef = createRef<HTMLDivElement>();\r\n\tconst history = useHistory();\r\n\r\n\tconst url = useURL();\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Teacher?')) {\r\n\t\t\t\tawait userService.delete(id);\r\n\t\t\t\ttoastr.info('Teacher has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst update = async (teacher: UserContract) => {\r\n\t\ttry {\r\n\t\t\tawait userService.update(teacher.id, { active: !teacher.active });\r\n\t\t\ttoastr.success(`Teacher ${teacher.active ? 'disabled' : 'enabled'} successfully.`);\r\n\t\t\trefetch();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Teacher #',\r\n\t\t\taccessor: 'uuid',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Name',\r\n\t\t\taccessor: 'name',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\taccessor: 'email',\r\n\t\t\tminWidth: '225px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Status',\r\n\t\t\taccessor: 'status',\r\n\t\t},\r\n\t];\r\n\r\n\tif (['Registrar'].includes(user?.role || '')) {\r\n\t\tcolumns.unshift({\r\n\t\t\ttitle: '#',\r\n\t\t\taccessor: 'toggle',\r\n\t\t});\r\n\t\tcolumns.push({ title: 'Actions', accessor: 'actions' });\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (modalRef.current) {\r\n\t\t\t$(modalRef.current).on('hidden.bs.modal', () => setTeacher(null));\r\n\t\t}\r\n\t}, [modalRef, setTeacher]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Table\r\n\t\t\t\tonRefresh={() => refetch()}\r\n\t\t\t\ttitle='Teachers'\r\n\t\t\t\tloading={loading}\r\n\t\t\t\titems={\r\n\t\t\t\t\titems\r\n\t\t\t\t\t\t?.filter((user) => user.role === 'Teacher')\r\n\t\t\t\t\t\t.map((teacher) => ({\r\n\t\t\t\t\t\t\t...teacher,\r\n\t\t\t\t\t\t\ttoggle: (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\t\tid={toJSON(teacher)}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (selected.includes(id)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst index = selected.findIndex((number) => number === id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected.push(id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelected([...selected]);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={teacher.id}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={selected.includes(teacher.id!)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={toJSON(teacher)}></label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tname: (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{teacher.last_name}, {teacher.first_name} {teacher.middle_name || ''}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tbirthday: dayjs(teacher.birthday).format('MMMM DD, YYYY'),\r\n\t\t\t\t\t\t\tage: new Date().getFullYear() - dayjs(teacher.birthday).year(),\r\n\t\t\t\t\t\t\tstatus: teacher.active ? (\r\n\t\t\t\t\t\t\t\t<span className='badge badge-success'>Active</span>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span className='badge badge-danger'>Inactive</span>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tactions: (\r\n\t\t\t\t\t\t\t\t<div style={{ minWidth: '350px' }}>\r\n\t\t\t\t\t\t\t\t\t<Link to={url(`${teacher.id}/edit`)} className='btn btn-warning btn-sm mx-1' title='Edit'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\ttitle='View'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tsetTeacher(teacher);\r\n\t\t\t\t\t\t\t\t\t\t\tif (modalRef.current) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('show');\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-eye'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-${teacher.active ? 'danger' : 'info'} btn-sm mx-1`}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.notice(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`Are you sure you want to ${teacher.active ? 'disable' : 'enable'} this teacher? ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tteacher.active\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'If you disable this teacher, this teacher can’t access the system. And you can’t distribute subjects to this teacher.'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'If you enable this teacher, this teacher can access the system. And you can distribute subject to this teacher.'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tupdate(teacher);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={teacher.active ? 'Disable' : 'Enable'}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className={`fas fa-user-${teacher.active ? 'times' : 'check'}`}></i>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1 d-none'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(teacher.id);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})) || []\r\n\t\t\t\t}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tbuttons={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{['Registrar'].includes(user?.role || '') ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm ml-2'\r\n\t\t\t\t\t\t\t\t\ttitle='Enable Selected'\r\n\t\t\t\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tif (selected.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.danger(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t`Are you sure you want to enable ${selected.length} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}? If you enable ${selected.length === 1 ? 'this' : 'these'} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, ${selected.length === 1 ? 'this' : 'these'} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} can access the system.`\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait Promise.all(selected.map((id) => userService.update(id, { active: true })));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.success(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${selected.length} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} enabled successfully.`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelected([]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trefetch();\r\n\t\t\t\t\t\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.error('Unable to enable teachers.');\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className={`fas fa-user-check`}></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm ml-2'\r\n\t\t\t\t\t\t\t\t\ttitle='Disable Selected'\r\n\t\t\t\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tif (selected.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.danger(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t`Are you sure you want to disable ${selected.length} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}? If you disable ${selected.length === 1 ? 'this' : 'these'} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, ${selected.length === 1 ? 'this' : 'these'} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} can’t access the system. And you can’t distribute subjects to ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'this' : 'these'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} ${selected.length === 1 ? 'teacher' : 'teachers'}.`\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait Promise.all(selected.map((id) => userService.update(id, { active: false })));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.success(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${selected.length} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} disabled successfully.`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelected([]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trefetch();\r\n\t\t\t\t\t\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.error('Unable to disable teachers.');\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className={`fas fa-user-times`}></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<div ref={modalRef} className='modal fade' tabIndex={-1}>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title'>View Teacher</h5>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='close'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (modalRef.current) {\r\n\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('hide');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t{teacher && (\r\n\t\t\t\t\t\t\t\t<div className='container-fluid row'>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\r\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Teacher #</label>\r\n\t\t\t\t\t\t\t\t\t\t{teacher.uuid}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\r\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Name</label>\r\n\t\t\t\t\t\t\t\t\t\t{teacher.last_name}, {teacher.first_name} {teacher.last_name || ''}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\r\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Phone Number</label>\r\n\t\t\t\t\t\t\t\t\t\t{teacher.number}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\r\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Email</label>\r\n\t\t\t\t\t\t\t\t\t\t{teacher.email}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\r\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Address</label>\r\n\t\t\t\t\t\t\t\t\t\t{teacher.address}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\r\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Gender</label>\r\n\t\t\t\t\t\t\t\t\t\t{teacher.gender}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\r\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Birthday</label>\r\n\t\t\t\t\t\t\t\t\t\t{dayjs(teacher.birthday).format('MMMM DD, YYYY')}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\r\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Age</label>\r\n\t\t\t\t\t\t\t\t\t\t{dayjs().year() - dayjs(teacher.birthday).year()}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\r\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Status</label>\r\n\t\t\t\t\t\t\t\t\t\t{teacher.active ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='badge badge-success'>Active</span>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='badge badge-danger'>Inactive</span>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t{teacher && (\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-warning btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\ttitle='Edit'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tif (modalRef.current) {\r\n\t\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('hide');\r\n\t\t\t\t\t\t\t\t\t\t\thistory.push(url(`${teacher.id}/edit`));\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (modalRef.current) {\r\n\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('hide');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport Form from './Form';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Teachers: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/add'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/edit'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Teachers;\r\n","import { UnitContract } from '../Contracts/unit.contract';\r\nimport { Service } from '../Libraries/Service';\r\n\r\nexport class UnitService extends Service<UnitContract> {}\r\n\r\nexport const unitService = new UnitService('/units');\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useQuery } from 'react-query';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { Asker, handleError, setValues } from '../../helpers';\r\nimport { useMode, useNullable } from '../../hooks';\r\nimport { courseService } from '../../Services/course.service';\r\nimport { unitService } from '../../Services/unit.service';\r\nimport { CourseContract } from '../../Contracts/course.contract';\r\nimport { MajorContract } from '../../Contracts/major.contract';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tunits: number;\r\n\tcourse_id: number;\r\n\tmajor_id?: number;\r\n\tlevel: string;\r\n\tterm: string;\r\n\tforce: boolean;\r\n};\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useMode();\r\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\r\n\t\tdefaultValues: {\r\n\t\t\tforce: false,\r\n\t\t},\r\n\t});\r\n\tconst [course, setCourse] = useNullable<CourseContract>();\r\n\tconst [major, setMajor] = useNullable<MajorContract>();\r\n\tconst [id, setID] = useState(-1);\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch<{ id: string }>();\r\n\tconst { data: courses, refetch: refetchCourses } = useQuery('courses', () => courseService.fetch());\r\n\r\n\tconst fetch = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tconst data = await unitService.fetchOne(id);\r\n\t\t\tsetID(data.id!);\r\n\t\t\tsetMode('Edit');\r\n\t\t\tsetValues(setValue, data);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tif (course?.majors && course.majors.length > 0 && !major) {\r\n\t\t\t\treturn toastr.error('Please select a major.');\r\n\t\t\t}\r\n\t\t\tdata.major_id = major?.id;\r\n\t\t\tawait (mode === 'Add' ? unitService.create(data) : unitService.update(id, data));\r\n\t\t\ttoastr.success('Unit has been saved successfully.');\r\n\t\t\tawait refetchCourses();\r\n\t\t\treset();\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response?.status === 409) {\r\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\r\n\t\t\t\t\tdata.force = true;\r\n\t\t\t\t\tawait submit(data);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thandleError(error);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (match.path.includes('edit')) {\r\n\t\t\tfetch(match.params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h5 className='card-title'>{mode} Student Unit</h5>\r\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t<div className='form-row'>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='course_id'>Course</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t{...register('course_id')}\r\n\t\t\t\t\t\t\t\t\tid='course_id'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\r\n\t\t\t\t\t\t\t\t\t\tif (course) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(course);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(null);\r\n\t\t\t\t\t\t\t\t\t\t\tsetMajor(null);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t{courses\r\n\t\t\t\t\t\t\t\t\t\t?.filter((course) => course.open)\r\n\t\t\t\t\t\t\t\t\t\t.map((course, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{course.code}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{course && course.majors && course.majors.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='major_id'>Major</label>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t{...register('major_id')}\r\n\t\t\t\t\t\t\t\t\t\tid='major_id'\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\t\t\t\t\tconst major = course?.majors?.find((major) => major.id === id);\r\n\t\t\t\t\t\t\t\t\t\t\tif (major) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetMajor(major);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetMajor(null);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t\t{course.majors.map((major, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{major.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='level'>Year Level</label>\r\n\t\t\t\t\t\t\t\t<select {...register('level')} id='level' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='1st'>1st</option>\r\n\t\t\t\t\t\t\t\t\t<option value='2nd'>2nd</option>\r\n\t\t\t\t\t\t\t\t\t<option value='3rd'>3rd</option>\r\n\t\t\t\t\t\t\t\t\t<option value='4th'>4th</option>\r\n\t\t\t\t\t\t\t\t\t<option value='5th'>5th</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='units'>Units</label>\r\n\t\t\t\t\t\t\t\t<input {...register('units')} type='number' id='units' className='form-control' />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='term'>Term</label>\r\n\t\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...register('term')}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\t\t\t\tid='1st-semester'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='1st Semester'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='1st-semester'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t1st Semester\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...register('term')}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\t\t\t\tid='2nd-semester'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='2nd Semester'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='2nd-semester'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t2nd Semester\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...register('term')}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\t\t\t\t\t\tid='summer'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='Summer'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='summer'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSummer\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group d-flex'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\r\n\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError, Asker } from '../../helpers';\r\nimport { useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { unitService } from '../../Services/unit.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('units', () => unitService.fetch());\r\n\r\n\tconst url = useURL();\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Unit?')) {\r\n\t\t\t\tawait unitService.delete(id);\r\n\t\t\t\ttoastr.info('Unit has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'ID',\r\n\t\t\taccessor: 'id',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Course',\r\n\t\t\taccessor: 'course',\r\n\t\t\tminWidth: '375px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Units',\r\n\t\t\taccessor: 'units',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Semester',\r\n\t\t\taccessor: 'term',\r\n\t\t\tminWidth: '150px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'level',\r\n\t\t\taccessor: 'level',\r\n\t\t},\r\n\t];\r\n\r\n\tif (user?.role === 'Registrar') {\r\n\t\tcolumns.push({\r\n\t\t\ttitle: 'Actions',\r\n\t\t\taccessor: 'actions',\r\n\t\t\tminWidth: '250px',\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tonRefresh={() => refetch()}\r\n\t\t\ttitle='Student Units'\r\n\t\t\tloading={loading}\r\n\t\t\titems={\r\n\t\t\t\titems?.map((unit) => ({\r\n\t\t\t\t\t...unit,\r\n\t\t\t\t\tcourse: `${unit.course?.code}${unit.major ? ` - Major in ${unit.major.name}` : ''}`,\r\n\t\t\t\t\tactions: (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<Link to={url(`${unit.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(unit.id);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t),\r\n\t\t\t\t})) || []\r\n\t\t\t}\r\n\t\t\tcolumns={columns}\r\n\t\t\tbuttons={\r\n\t\t\t\t<>\r\n\t\t\t\t\t{user?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport Form from './Form';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Units: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/add'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/edit'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Units;\r\n","import axios from 'axios';\r\nimport React, { createRef, FC, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useQuery } from 'react-query';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError } from '../../helpers';\r\nimport { useNullable } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { userService } from '../../Services/user.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tpassword: string;\r\n\tnew_password: string;\r\n\trepeat_password: string;\r\n\tuser_id: number;\r\n};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('users', () => userService.fetch());\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\tconst [selected, setSelected] = useNullable<number>();\r\n\tconst modalRef = createRef<HTMLDivElement>();\r\n\tconst { register, handleSubmit, reset } = useForm<Inputs>();\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tif (!selected) {\r\n\t\t\treturn toastr.error('No user selected.');\r\n\t\t}\r\n\r\n\t\tif (data.new_password !== data.repeat_password) {\r\n\t\t\treturn toastr.error('New password does not match repeat password.');\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tdata.user_id = selected;\r\n\t\t\tawait axios.post('/users/change', data);\r\n\t\t\ttoastr.success('User password changed successfully.');\r\n\t\t\tif (modalRef.current) {\r\n\t\t\t\t$(modalRef.current).modal('hide');\r\n\t\t\t}\r\n\t\t\tsetSelected(null);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: '#',\r\n\t\t\taccessor: 'id',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'User Number',\r\n\t\t\taccessor: 'uuid',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'User Type',\r\n\t\t\taccessor: 'role',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Full Name',\r\n\t\t\taccessor: 'full_name',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\taccessor: 'email',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Phone Number',\r\n\t\t\taccessor: 'number',\r\n\t\t},\r\n\t];\r\n\r\n\tif (user?.role === 'Admin') {\r\n\t\tcolumns.push({\r\n\t\t\ttitle: 'Actions',\r\n\t\t\taccessor: 'actions',\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (modalRef.current) {\r\n\t\t\t$(modalRef.current).on('hidden.bs.modal', () => reset());\r\n\t\t}\r\n\t\t//eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Table\r\n\t\t\t\tonRefresh={() => refetch()}\r\n\t\t\t\ttitle='Users'\r\n\t\t\t\tloading={loading}\r\n\t\t\t\titems={\r\n\t\t\t\t\titems?.map((user) => ({\r\n\t\t\t\t\t\t...user,\r\n\t\t\t\t\t\tfull_name: (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{user.last_name}, {user.first_name} {user.middle_name || ''}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tactions: (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-warning btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tsetSelected(user.id!);\r\n\t\t\t\t\t\t\t\t\t\tif (modalRef.current) {\r\n\t\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('toggle');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\ttitle='Change Password'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-key'></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t{/* <Link to={url(`${user.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1 d-none'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tdeleteItem(user.id);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t</button> */}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t})) || []\r\n\t\t\t\t}\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tbuttons={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{/* <Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t</Link> */}\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<div ref={modalRef} className='modal fade' tabIndex={-1}>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title'>Change Password</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t\t<div className='container-fluid'>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='password'>Your Password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input {...register('password')} type='password' id='password' className='form-control' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group mt-3'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='new_password'>User's New Password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input {...register('new_password')} type='password' id='new_password' className='form-control' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='repeat_password'>Repeat New Password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t{...register('repeat_password')}\r\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\tid='repeat_password'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm'>\r\n\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Users: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Users;\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useHistory, useRouteMatch } from 'react-router';\r\nimport { YearContract } from '../../Contracts/year.contract';\r\nimport { handleError, setValues } from '../../helpers';\r\nimport { useMode, useNullable } from '../../hooks';\r\nimport { yearService } from '../../Services/year.service';\r\nimport Flatpickr from 'react-flatpickr';\r\nimport dayjs from 'dayjs';\r\n\r\ntype Props = {};\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useMode();\r\n\tconst { register, setValue, handleSubmit, reset } = useForm<YearContract>({\r\n\t\tdefaultValues: {\r\n\t\t\tstart: new Date().getFullYear(),\r\n\t\t\tend: new Date().getFullYear() + 1,\r\n\t\t\tcurrent: true,\r\n\t\t},\r\n\t});\r\n\tconst [id, setID] = useState(-1);\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch<{ id: string }>();\r\n\tconst [semesterStart, setSemesterStart] = useNullable<Date>();\r\n\tconst [semesterEnd, setSemesterEnd] = useNullable<Date>();\r\n\tconst [registrationStart, setRegistrationStart] = useNullable<Date>();\r\n\tconst [registrationEnd, setRegistrationEnd] = useNullable<Date>();\r\n\tconst [gradeStart, setGradeStart] = useNullable<Date>();\r\n\tconst [gradeEnd, setGradeEnd] = useNullable<Date>();\r\n\r\n\tconst fetch = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tconst data = await yearService.fetchOne(id);\r\n\t\t\tsetID(data.id!);\r\n\t\t\tsetValues(setValue, data);\r\n\t\t\tsetSemesterStart(dayjs(data.semester_start).toDate());\r\n\t\t\tsetSemesterEnd(dayjs(data.semester_end).toDate());\r\n\t\t\tsetRegistrationStart(dayjs(data.registration_start).toDate());\r\n\t\t\tsetRegistrationEnd(dayjs(data.registration_end).toDate());\r\n\t\t\tsetGradeStart(dayjs(data.grade_start).toDate());\r\n\t\t\tsetGradeEnd(dayjs(data.grade_end).toDate());\r\n\t\t\tsetMode('Edit');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async (data: YearContract) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tdata.semester_start = semesterStart?.toJSON() || '';\r\n\t\t\tdata.semester_end = semesterEnd?.toJSON() || '';\r\n\t\t\tdata.registration_start = registrationStart?.toJSON() || '';\r\n\t\t\tdata.registration_end = registrationEnd?.toJSON() || '';\r\n\t\t\tdata.grade_start = gradeStart?.toJSON() || '';\r\n\t\t\tdata.grade_end = gradeEnd?.toJSON() || '';\r\n\t\t\tawait (mode === 'Add' ? yearService.create(data) : yearService.update(id, data));\r\n\t\t\ttoastr.success('School Year has been saved successfully.');\r\n\t\t\treset();\r\n\t\t\tsetGradeStart(null);\r\n\t\t\tsetGradeEnd(null);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (match.path.includes('edit')) {\r\n\t\t\tfetch(match.params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container-fluid'>\r\n\t\t\t<div className='card'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<h5 className='card-title'>{mode} School Year</h5>\r\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t\t<div className='form-row'>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='start'>Start</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('start')}\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tid='start'\r\n\t\t\t\t\t\t\t\t\tmin={new Date().getFullYear()}\r\n\t\t\t\t\t\t\t\t\tmax={new Date().getFullYear() + 10}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='end'>End</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('end')}\r\n\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\tid='end'\r\n\t\t\t\t\t\t\t\t\tmin={new Date().getFullYear()}\r\n\t\t\t\t\t\t\t\t\tmax={new Date().getFullYear() + 10}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='semester'>Semester</label>\r\n\t\t\t\t\t\t\t\t<select {...register('semester')} id='semester' className='form-control'>\r\n\t\t\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t\t\t<option value='1st Semester'>1st Semester</option>\r\n\t\t\t\t\t\t\t\t\t<option value='2nd Semester'>2nd Semester</option>\r\n\t\t\t\t\t\t\t\t\t<option value='Summer'>Summer</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='semester_start'>Semester Start</label>\r\n\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\tvalue={semesterStart || undefined}\r\n\t\t\t\t\t\t\t\t\tid='semester_start'\r\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetSemesterStart(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='semester_end'>Semester End</label>\r\n\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\tvalue={semesterEnd || undefined}\r\n\t\t\t\t\t\t\t\t\tid='semester_end'\r\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetSemesterEnd(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='registration_start'>Registration Start</label>\r\n\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\tvalue={registrationStart || undefined}\r\n\t\t\t\t\t\t\t\t\tid='registration_start'\r\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetRegistrationStart(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='registration_end'>Registration End</label>\r\n\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\tvalue={registrationEnd || undefined}\r\n\t\t\t\t\t\t\t\t\tid='registration_end'\r\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetRegistrationEnd(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='grade_start'>Grade Encoding Start</label>\r\n\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\tvalue={gradeStart || undefined}\r\n\t\t\t\t\t\t\t\t\tid='grade_start'\r\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetGradeStart(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\taltInput: true,\r\n\t\t\t\t\t\t\t\t\t\taltFormat: 'F j, Y G:i K',\r\n\t\t\t\t\t\t\t\t\t\tenableTime: true,\r\n\t\t\t\t\t\t\t\t\t\tdateFormat: 'F j, Y G:i K',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='grade_end'>Grade Encoding End</label>\r\n\t\t\t\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\t\t\t\tvalue={gradeEnd || undefined}\r\n\t\t\t\t\t\t\t\t\tid='grade_end'\r\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetGradeEnd(dates[0]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\t\t\taltInput: true,\r\n\t\t\t\t\t\t\t\t\t\taltFormat: 'F j, Y G:i K',\r\n\t\t\t\t\t\t\t\t\t\tenableTime: true,\r\n\t\t\t\t\t\t\t\t\t\tdateFormat: 'F j, Y G:i K',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group col-12'>\r\n\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t{...register('current')}\r\n\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\tid='current'\r\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='current'>\r\n\t\t\t\t\t\t\t\t\t\tSet as Current\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form-group d-flex'>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\r\n\t\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import dayjs from 'dayjs';\r\nimport React, { FC } from 'react';\r\nimport { useQuery } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { YearContract } from '../../Contracts/year.contract';\r\nimport { handleError, Asker } from '../../helpers';\r\nimport { useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { yearService } from '../../Services/year.service';\r\nimport Table from '../Shared/Table';\r\n\r\ntype Props = {};\r\n\r\nconst List: FC<Props> = (props) => {\r\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('years', () => yearService.fetch());\r\n\r\n\tconst url = useURL();\r\n\r\n\tif (isError) {\r\n\t\thandleError(error);\r\n\t}\r\n\r\n\tconst setAsCurrent = async (year: YearContract) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.notice('Are you sure you want to set the current school year?')) {\r\n\t\t\t\tawait yearService.update(year.id, { current: true });\r\n\t\t\t\ttoastr.info(`Year ${year.start} - ${year.end} has been set as current school year.`, 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteItem = async (id: any) => {\r\n\t\ttry {\r\n\t\t\tif (await Asker.danger('Are you sure you want to delete this School Year?')) {\r\n\t\t\t\tawait yearService.delete(id);\r\n\t\t\t\ttoastr.info('School Year has been deleted.', 'Notice');\r\n\t\t\t\trefetch();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = State.getInstance().get<UserContract>('user');\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'ID',\r\n\t\t\taccessor: 'id',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Year',\r\n\t\t\taccessor: 'year',\r\n\t\t\tminWidth: '200px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Semester',\r\n\t\t\taccessor: 'semester',\r\n\t\t\tminWidth: '150px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Start',\r\n\t\t\taccessor: 'semester_start',\r\n\t\t\tminWidth: '200px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'End',\r\n\t\t\taccessor: 'semester_end',\r\n\t\t\tminWidth: '200px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Registration Date',\r\n\t\t\taccessor: 'registration',\r\n\t\t\tminWidth: '250px',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Grade Encoding Date',\r\n\t\t\taccessor: 'grade',\r\n\t\t\tminWidth: '400px',\r\n\t\t},\r\n\t];\r\n\r\n\tif (user?.role === 'Registrar') {\r\n\t\tcolumns.push({\r\n\t\t\ttitle: 'Actions',\r\n\t\t\taccessor: 'actions',\r\n\t\t\tminWidth: '200px',\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tonRefresh={() => refetch()}\r\n\t\t\ttitle='School Years'\r\n\t\t\tloading={loading}\r\n\t\t\titems={\r\n\t\t\t\titems?.map((year) => ({\r\n\t\t\t\t\t...year,\r\n\t\t\t\t\tyear: (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{`${year.start} - ${year.end}`}{' '}\r\n\t\t\t\t\t\t\t{year.current ? <span className='badge badge-success mb-1 ml-1'>Current</span> : ''}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tsemester_start: dayjs(year.semester_start).format('MMMM DD, YYYY'),\r\n\t\t\t\t\tsemester_end: dayjs(year.semester_end).format('MMMM DD, YYYY'),\r\n\t\t\t\t\tregistration: `${dayjs(year.registration_start).format('MMMM DD, YYYY')} to ${dayjs(year.registration_end).format(\r\n\t\t\t\t\t\t'MMMM DD, YYYY'\r\n\t\t\t\t\t)}`,\r\n\t\t\t\t\tgrade: `${dayjs(year.grade_start).format('MMMM DD, YYYY hh:mm A')} to ${dayjs(year.grade_end).format(\r\n\t\t\t\t\t\t'MMMM DD, YYYY hh:mm A'\r\n\t\t\t\t\t)}`,\r\n\t\t\t\t\tactions:\r\n\t\t\t\t\t\tuser?.role === 'Registrar' ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Link to={url(`${year.id}/edit`)} className='btn btn-warning btn-sm mx-1' title='Edit'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t{!year.current ? (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-success btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tsetAsCurrent(year);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\ttitle='Set as Current'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tdeleteItem(year.id);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\ttitle='Delete'>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : null,\r\n\t\t\t\t})) || []\r\n\t\t\t}\r\n\t\t\tcolumns={columns}\r\n\t\t\tbuttons={\r\n\t\t\t\t<>\r\n\t\t\t\t\t{user?.role === 'Registrar' && items && items.length === 0 ? (\r\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\nimport Form from './Form';\r\nimport List from './List';\r\n\r\ntype Props = {};\r\n\r\nconst Years: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\tconst routes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url('/'),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: List,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/add'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url('/:id/edit'),\r\n\t\t\tcomponent: Form,\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Years;\r\n","import React, { FC } from 'react';\r\nimport { Route, RouteProps, Switch, useHistory } from 'react-router';\r\nimport Admissions from '../Components/Admissions';\r\nimport ChangePassword from '../Components/ChangePassword';\r\nimport Courses from '../Components/Courses';\r\nimport Analytics from '../Components/Dashboard/Analytics';\r\nimport Navbar from '../Components/Dashboard/Navbar';\r\nimport Sidebar from '../Components/Dashboard/Sidebar';\r\nimport Enrollment from '../Components/Dashboard/Student/Enrollment';\r\nimport Grades from '../Components/Dashboard/Student/Grades';\r\nimport Profile from '../Components/Dashboard/Student/Profile';\r\nimport Logs from '../Components/Logs';\r\nimport Mails from '../Components/Mails';\r\nimport Registrars from '../Components/Registrars';\r\nimport Requirements from '../Components/Requirements';\r\nimport Schedules from '../Components/Schedules';\r\nimport Students from '../Components/Students';\r\nimport Subjects from '../Components/Subjects';\r\nimport Teachers from '../Components/Teachers';\r\nimport Units from '../Components/Units';\r\nimport Users from '../Components/Users';\r\nimport Years from '../Components/Years';\r\nimport { useURL } from '../hooks';\r\nimport { State } from '../Libraries/State';\r\nimport { routes } from '../routes';\r\n\r\ntype Props = {};\r\n\r\nconst Dashboard: FC<Props> = (props) => {\r\n\tconst history = useHistory();\r\n\tconst state = State.getInstance();\r\n\tconst url = useURL();\r\n\r\n\tconst localRoutes: RouteProps[] = [\r\n\t\t{\r\n\t\t\tpath: url(''),\r\n\t\t\texact: true,\r\n\t\t\tcomponent: Analytics,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.COURSES),\r\n\t\t\tcomponent: Courses,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.STUDENTS),\r\n\t\t\tcomponent: Students,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.TEACHERS),\r\n\t\t\tcomponent: Teachers,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.REGISTRARS),\r\n\t\t\tcomponent: Registrars,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.USERS),\r\n\t\t\tcomponent: Users,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.MAILS),\r\n\t\t\tcomponent: Mails,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.CHANGE_PASSWORD),\r\n\t\t\tcomponent: ChangePassword,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.SUBJECTS),\r\n\t\t\tcomponent: Subjects,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.SCHEDULES),\r\n\t\t\tcomponent: Schedules,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.ADMISSIONS),\r\n\t\t\tcomponent: Admissions,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.YEARS),\r\n\t\t\tcomponent: Years,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.GRADES),\r\n\t\t\tcomponent: Grades,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.ENROLLMENT),\r\n\t\t\tcomponent: Enrollment,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.PROFILE),\r\n\t\t\tcomponent: Profile,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.ADMISSION_REQUIREMENTS),\r\n\t\t\tcomponent: Requirements,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.LOGS),\r\n\t\t\tcomponent: Logs,\r\n\t\t},\r\n\t\t{\r\n\t\t\tpath: url(routes.UNITS),\r\n\t\t\tcomponent: Units,\r\n\t\t},\r\n\t];\r\n\r\n\tif (!state.has('user')) {\r\n\t\thistory.push(routes.HOME);\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='vertical dark'>\r\n\t\t\t<div className='wrapper'>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<Sidebar />\r\n\t\t\t\t<main role='main' className='main-content'>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t{localRoutes.map((route, index) => (\r\n\t\t\t\t\t\t\t<Route {...route} key={index} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</main>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n","export default __webpack_public_path__ + \"static/media/landing.5ad43824.jpg\";","import React, { FC } from 'react';\r\nimport { createRef } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport background from '../Assets/landing.jpg';\r\nimport { State } from '../Libraries/State';\r\nimport { routes } from '../routes';\r\nimport '../Styles/landing.css';\r\n\r\ntype Props = {};\r\n\r\nconst Home: FC<Props> = (props) => {\r\n\tconst state = State.getInstance();\r\n\tconst ref = createRef<HTMLDivElement>();\r\n\tconst history = useHistory();\r\n\r\n\treturn (\r\n\t\t<section id='intro' className='parallax-section' style={{ background: `url(${background}) 50% 0 repeat-y fixed` }}>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-md-12 col-sm-12'>\r\n\t\t\t\t\t\t<h3\r\n\t\t\t\t\t\t\tclassName='wow bounceIn animated text-shadow-dark'\r\n\t\t\t\t\t\t\tdata-wow-delay='0.9s'\r\n\t\t\t\t\t\t\tstyle={{ visibility: 'visible', animationDelay: '0.9s', animationName: 'bounceIn' }}>\r\n\t\t\t\t\t\t\tWelcome to\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<h1\r\n\t\t\t\t\t\t\tclassName='wow fadeInUp animated text-shadow-dark'\r\n\t\t\t\t\t\t\tdata-wow-delay='1.6s'\r\n\t\t\t\t\t\t\tstyle={{ visibility: 'visible', animationDelay: '1.6s', animationName: 'fadeInUp' }}>\r\n\t\t\t\t\t\t\tEMC Registration System\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-lg btn-danger smoothScroll wow fadeInUp animated'\r\n\t\t\t\t\t\t\tdata-wow-delay='2.3s'\r\n\t\t\t\t\t\t\tstyle={{ visibility: 'visible', animationDelay: '2.3s', animationName: 'fadeInUp' }}\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tif (state.has('user')) {\r\n\t\t\t\t\t\t\t\t\thistory.push(routes.DASHBOARD);\r\n\t\t\t\t\t\t\t\t} else if (ref.current) {\r\n\t\t\t\t\t\t\t\t\t$(ref.current).modal('show');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tLog In\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto={routes.PREREGISTRATION}\r\n\t\t\t\t\t\t\tclassName='btn btn-lg btn-danger smoothScroll wow fadeInUp animated'\r\n\t\t\t\t\t\t\tdata-wow-delay='2.3s'\r\n\t\t\t\t\t\t\tstyle={{ visibility: 'visible', animationDelay: '2.3s', animationName: 'fadeInUp' }}>\r\n\t\t\t\t\t\t\tPre Registration\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div ref={ref} className='modal fade bg-dark' tabIndex={-1}>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\r\n\t\t\t\t\t<div className='modal-content bg-dark'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title text-white'>Login</h5>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='close'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (ref.current) {\r\n\t\t\t\t\t\t\t\t\t\t$(ref.current).modal('hide');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='m-2 d-block btn btn-danger btn-lg w-100'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (ref.current) {\r\n\t\t\t\t\t\t\t\t\t\t$(ref.current).modal('hide');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\thistory.push(`/login/admin`);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tAdmin\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='m-2 d-block btn btn-danger btn-lg w-100'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (ref.current) {\r\n\t\t\t\t\t\t\t\t\t\t$(ref.current).modal('hide');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\thistory.push(`/login/registrar`);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tRegistrar\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='m-2 d-block btn btn-danger btn-lg w-100'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (ref.current) {\r\n\t\t\t\t\t\t\t\t\t\t$(ref.current).modal('hide');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\thistory.push(`/login/teacher`);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tTeacher\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='m-2 d-block btn btn-danger btn-lg w-100'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (ref.current) {\r\n\t\t\t\t\t\t\t\t\t\t$(ref.current).modal('hide');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\thistory.push(`/login/student`);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tStudent\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (ref.current) {\r\n\t\t\t\t\t\t\t\t\t\t$(ref.current).modal('hide');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport React, { FC, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { UserContract } from '../../Contracts/user.contract';\r\nimport { handleError } from '../../helpers';\r\nimport { State } from '../../Libraries/State';\r\nimport { routes } from '../../routes';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\temail: string;\r\n\tpassword: string;\r\n};\r\n\r\nconst Form: FC<Props> = (props) => {\r\n\tconst [tries, setTries] = useState(0);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst { register, handleSubmit } = useForm<Inputs>();\r\n\tconst history = useHistory();\r\n\tconst state = State.getInstance();\r\n\tconst params = useParams<{ role: string }>();\r\n\tconst role = params.role;\r\n\r\n\tconst submit = async (payload: Inputs) => {\r\n\t\tif (state.has('block')) {\r\n\t\t\tconst block = dayjs(state.get<string>('block') || undefined);\r\n\t\t\tif (block.isValid() && dayjs().isAfter(block)) {\r\n\t\t\t\tstate.remove('block');\r\n\t\t\t\tsetTries(0);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (tries >= 3) {\r\n\t\t\treturn toastr.info('Login currently blocked. Please try again after 5 minutes.');\r\n\t\t}\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst {\r\n\t\t\t\tdata: { user, token },\r\n\t\t\t} = await axios.post<{ user: UserContract; token: string }>('/auth/login', { ...payload, role });\r\n\t\t\tstate.set('user', user);\r\n\t\t\tstate.set('token', token);\r\n\t\t\ttoastr.success(`Welcome back, ${user?.first_name}.`);\r\n\t\t\thistory.push(routes.DASHBOARD);\r\n\t\t} catch (error) {\r\n\t\t\tif (tries >= 3) {\r\n\t\t\t\tstate.set('block', dayjs().add(5, 'minutes').toJSON());\r\n\t\t\t} else {\r\n\t\t\t\tsetTries(tries + 1);\r\n\t\t\t}\r\n\t\t\thandleError(error, false);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tif (state.has('user')) {\r\n\t\thistory.push(routes.DASHBOARD);\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='wrapper vh-100 overflow-hidden'>\r\n\t\t\t<div className='row align-items-center h-100'>\r\n\t\t\t\t<form className='col-lg-3 col-md-4 col-10 mx-auto text-center' onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t\t<div className='card'>\r\n\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t<div className='text-left'>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tBack\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Link className='navbar-brand mx-auto mt-2 flex-fill text-center' to={routes.HOME}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc='/logo.jpg'\r\n\t\t\t\t\t\t\t\t\talt='EMC'\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '80px', height: '80px' }}\r\n\t\t\t\t\t\t\t\t\tclassName='rounded-circle border'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<h1 className='h6 mb-3'>Login</h1>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email' className='sr-only'>\r\n\t\t\t\t\t\t\t\t\tEmail Address\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('email')}\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Email Address'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='password' className='sr-only'>\r\n\t\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t{...register('password')}\r\n\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Link to={routes.FORGOT_PASSWORD} className='d-block'>\r\n\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<Link to={routes.HOME} className='d-block'>\r\n\t\t\t\t\t\t\t\tReturn to Home Page\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<button className='btn btn-primary btn-block mt-5 btn-lg' type='submit' disabled={processing}>\r\n\t\t\t\t\t\t\t\t{processing ? <i className='fa fa-circle-notch fa-spin'></i> : 'Login'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import React, { FC } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useURL } from '../../hooks';\r\n\r\ntype Props = {};\r\n\r\nconst Selection: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\r\n\treturn (\r\n\t\t<div className='vh-100 d-flex'>\r\n\t\t\t<div className='card align-self-center mx-auto'>\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<Link className='m-2 d-block btn btn-primary btn-lg' to={url(`admin`)}>\r\n\t\t\t\t\t\tAdmin\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link className='m-2 d-block btn btn-info btn-lg' to={url(`registrar`)}>\r\n\t\t\t\t\t\tRegistrar\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link className='m-2 d-block btn btn-success btn-lg' to={url(`teacher`)}>\r\n\t\t\t\t\t\tTeacher\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link className='m-2 d-block btn btn-danger btn-lg' to={url(`student`)}>\r\n\t\t\t\t\t\tStudent\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Selection;\r\n","import React, { FC } from 'react';\r\nimport { Route, Switch, useHistory } from 'react-router';\r\nimport { useURL } from '../../hooks';\r\nimport { State } from '../../Libraries/State';\r\nimport { routes } from '../../routes';\r\nimport Form from './Form';\r\nimport Selection from './Selection';\r\n\r\ntype Props = {};\r\n\r\nconst Login: FC<Props> = (props) => {\r\n\tconst url = useURL();\r\n\tconst state = State.getInstance();\r\n\tconst history = useHistory();\r\n\r\n\tif (state.has('user')) {\r\n\t\thistory.push(routes.DASHBOARD);\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={Selection} />\r\n\t\t\t<Route path={url('/:role')} component={Form} />\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import dayjs from 'dayjs';\r\nimport React, { FC, useEffect, useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useQuery } from 'react-query';\r\nimport { useArray, useCurrentYear, useNullable } from '../hooks';\r\nimport { courseService } from '../Services/course.service';\r\nimport Flatpickr from 'react-flatpickr';\r\nimport { useHistory } from 'react-router';\r\nimport { requirementService } from '../Services/requirement.service';\r\nimport { Asker, handleError } from '../helpers';\r\nimport { userService } from '../Services/user.service';\r\nimport axios from 'axios';\r\nimport { CourseContract } from '../Contracts/course.contract';\r\nimport InputMask from 'react-input-mask';\r\n\r\ntype Props = {};\r\n\r\ntype Inputs = {\r\n\tcourse_id: number;\r\n\tlevel: string;\r\n\tstatus: string;\r\n\tterm: string;\r\n\tstudent_id: number;\r\n\tyear_id: number;\r\n\tmajor_id?: number;\r\n\tpre_registration: boolean;\r\n\trequirements: string[];\r\n\tstudent: {\r\n\t\tuuid: string;\r\n\t\tfirst_name: string;\r\n\t\tlast_name: string;\r\n\t\tmiddle_name?: string;\r\n\t\tgender?: string;\r\n\t\taddress?: string;\r\n\t\tplace_of_birth?: string;\r\n\t\tbirthday?: string;\r\n\t\trole: string;\r\n\t\temail: string;\r\n\t\tnumber: string;\r\n\t\tactive: boolean;\r\n\t\tpassword: string;\r\n\t\tfathers_name?: string;\r\n\t\tmothers_name?: string;\r\n\t\tfathers_occupation?: string;\r\n\t\tmothers_occupation?: string;\r\n\t\ttype: string;\r\n\t\tenrolled: boolean;\r\n\t};\r\n\tforce: boolean;\r\n};\r\n\r\nconst PreRegistration: FC<Props> = (props) => {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [all, setAll] = useState(false);\r\n\tconst { register, handleSubmit, reset, setValue } = useForm<Inputs>({\r\n\t\tdefaultValues: {\r\n\t\t\tforce: false,\r\n\t\t\tlevel: '1st',\r\n\t\t},\r\n\t});\r\n\tconst [birthday, setBirthday] = useNullable<Date>();\r\n\tconst [course, setCourse] = useNullable<CourseContract>();\r\n\tconst [majorID, setMajorID] = useNullable<number>();\r\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\r\n\tconst { data: requirements } = useQuery('requirements', () => requirementService.fetch());\r\n\tconst [selected, setSelected] = useArray<string>();\r\n\tconst [number, setNumber] = useState('');\r\n\tconst history = useHistory();\r\n\tconst { data: year } = useCurrentYear({ onSuccess: () => check() });\r\n\r\n\tconst submit = async (data: Inputs) => {\r\n\t\tif ((course?.majors?.length || 0) > 0 && !majorID) {\r\n\t\t\treturn toastr.error('Please pick a major.');\r\n\t\t}\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tdata.status = 'Regular';\r\n\t\t\tdata.term = '1st Semester';\r\n\t\t\tdata.year_id = year?.id || 0;\r\n\t\t\tdata.pre_registration = true;\r\n\t\t\tdata.requirements = selected;\r\n\t\t\tdata.student.number = number;\r\n\t\t\tdata.student.birthday = birthday?.toJSON() || '';\r\n\t\t\tawait axios.post('/admission/pre-registration', data);\r\n\t\t\ttoastr.success('Pre Registration saved successfully.');\r\n\t\t\treset();\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response?.status === 409) {\r\n\t\t\t\tif (await Asker.notice(error.response?.data?.message)) {\r\n\t\t\t\t\tdata.force = true;\r\n\t\t\t\t\tawait submit(data);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thandleError(error);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst check = async () => {\r\n\t\tif (year) {\r\n\t\t\tconst now = dayjs();\r\n\t\t\tconst start = dayjs(year.registration_start);\r\n\t\t\tconst end = dayjs(year.registration_end);\r\n\t\t\tif (now.isBefore(start)) {\r\n\t\t\t\tawait Asker.okay(\r\n\t\t\t\t\t`Registration will start at ${start.format('MMMM DD, YYYY')}. Please wait until the given date.`,\r\n\t\t\t\t\t'Notice'\r\n\t\t\t\t);\r\n\t\t\t\treturn history.goBack();\r\n\t\t\t}\r\n\t\t\tif (now.isAfter(end)) {\r\n\t\t\t\tawait Asker.okay(`Registration has already ended. Please register at the next registration phase.`, 'Notice');\r\n\t\t\t\treturn history.goBack();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttoastr.info(\r\n\t\t\t\t'Registrar has not set a school year. Pre Registration will not be available until a registrar sets one.',\r\n\t\t\t\t'Notice'\r\n\t\t\t);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tuserService.fetch().then((users) => {\r\n\t\t\tsetValue(\r\n\t\t\t\t'student.uuid',\r\n\t\t\t\t`student-${`${users.filter((user) => user.role === 'Student').length}`.padStart(5, '0')}-${new Date().getFullYear()}`\r\n\t\t\t);\r\n\t\t});\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container py-5'>\r\n\t\t\t<h3>Pre Registration Form</h3>\r\n\t\t\t<form className='form-row' onSubmit={handleSubmit(submit)}>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='first_name'>First Name</label>\r\n\t\t\t\t\t<input {...register('student.first_name')} type='text' id='first_name' className='form-control' disabled={processing} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='address'>Address</label>\r\n\t\t\t\t\t<input {...register('student.address')} type='text' id='address' className='form-control' disabled={processing} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='middle_name'>Middle Name</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\t{...register('student.middle_name')}\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tid='middle_name'\r\n\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='number'>Phone Number</label>\r\n\t\t\t\t\t<InputMask\r\n\t\t\t\t\t\tmask='0\\999-999-9999'\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tid='number'\r\n\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\tvalue={number}\r\n\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='last_name'>Last Name</label>\r\n\t\t\t\t\t<input {...register('student.last_name')} type='text' id='last_name' className='form-control' disabled={processing} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='email'>Email Address</label>\r\n\t\t\t\t\t<input {...register('student.email')} type='email' id='email' className='form-control' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='gender'>Gender</label>\r\n\t\t\t\t\t<select {...register('student.gender')} id='gender' className='form-control' disabled={processing}>\r\n\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t<option value='Male'>Male</option>\r\n\t\t\t\t\t\t<option value='Female'>Female</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='birthday'>Birthday</label>\r\n\t\t\t\t\t<Flatpickr\r\n\t\t\t\t\t\tvalue={birthday || undefined}\r\n\t\t\t\t\t\tid='birthday'\r\n\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\tmaxDate: dayjs()\r\n\t\t\t\t\t\t\t\t.year(new Date().getFullYear() - 15)\r\n\t\t\t\t\t\t\t\t.toDate(),\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonChange={(dates) => {\r\n\t\t\t\t\t\t\tif (dates.length > 0) {\r\n\t\t\t\t\t\t\t\tsetBirthday(dates[0]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='course_id'>Course</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\t{...register('course_id')}\r\n\t\t\t\t\t\tid='course_id'\r\n\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\tonChange={async (e) => {\r\n\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\r\n\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\r\n\t\t\t\t\t\t\tif (course) {\r\n\t\t\t\t\t\t\t\tif (!course.open) {\r\n\t\t\t\t\t\t\t\t\tawait Asker.okay('Sorry, this course is not open for enrollment.');\r\n\t\t\t\t\t\t\t\t\treturn history.goBack();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsetCourse(course);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetCourse(null);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsetMajorID(null);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t{courses?.map((course, index) => (\r\n\t\t\t\t\t\t\t<option value={course.id} key={index}>\r\n\t\t\t\t\t\t\t\t{course.description}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t{course && course.majors && course.majors.length > 0 ? (\r\n\t\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t\t<label htmlFor='major_id'>Major</label>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t{...register('major_id')}\r\n\t\t\t\t\t\t\tid='major_id'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tconst value = e.target.value;\r\n\t\t\t\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\t\t\t\tsetMajorID(null);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetMajorID(value.toNumber());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t\t\t{course?.majors?.map((major, index) => (\r\n\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\r\n\t\t\t\t\t\t\t\t\t{major.name}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className='form-group col-12 p-2'>\r\n\t\t\t\t\t<div className='text-center'>\r\n\t\t\t\t\t\t<h3>Requirements</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='p-2 border rounded row'>\r\n\t\t\t\t\t\t{requirements?.length === 0 ? 'No Requirements' : ''}\r\n\t\t\t\t\t\t{requirements?.map((requirement, index) => (\r\n\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 col-xl-3' key={index}>\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\r\n\t\t\t\t\t\t\t\t\t\t\tid={JSON.stringify(requirement)}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst name = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (selected.includes(name)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst index = selected.findIndex((m) => m === name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected.push(name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelected([...selected]);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={selected.includes(requirement.name)}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={requirement.name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={JSON.stringify(requirement)}>\r\n\t\t\t\t\t\t\t\t\t\t\t{requirement.name}\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName={`btn btn-${!all ? 'secondary' : 'danger'} btn-sm ml-auto`}\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tif (requirements) {\r\n\t\t\t\t\t\t\t\t\t\tif (!all) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetSelected(requirements.map((requirement) => requirement.name));\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tsetSelected([]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsetAll(!all);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t{!all ? 'Select All' : 'Unselect All'}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='fathers_name'>Name of Father</label>\r\n\t\t\t\t\t<input {...register('student.fathers_name')} type='text' id='fathers_name' className='form-control' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='mothers_name'>Name of Mother</label>\r\n\t\t\t\t\t<input {...register('student.mothers_name')} type='text' id='mothers_name' className='form-control' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='fathers_occupation'>Occupation of Father</label>\r\n\t\t\t\t\t<input {...register('student.fathers_occupation')} type='text' id='fathers_occupation' className='form-control' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6'>\r\n\t\t\t\t\t<label htmlFor='mothers_occupation'>Occupation of Mother</label>\r\n\t\t\t\t\t<input {...register('student.mothers_occupation')} type='text' id='mothers_occupation' className='form-control' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 col-md-6 d-none'>\r\n\t\t\t\t\t<label htmlFor='uuid'>Student Number</label>\r\n\t\t\t\t\t<input {...register('student.uuid')} type='text' id='uuid' className='form-control' readOnly />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group col-12 d-flex'>\r\n\t\t\t\t\t<span className='mr-auto'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\tReturn\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className='ml-auto'>\r\n\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm' disabled={processing}>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PreRegistration;\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport { v4 } from 'uuid';\r\nimport { BrowserRouter as Router, Switch, Route, RouteProps } from 'react-router-dom';\r\nimport { routes } from '../routes';\r\nimport Dashboard from './Dashboard';\r\nimport Home from './Home';\r\nimport Login from './Login';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport axios from 'axios';\r\nimport { State } from '../Libraries/State';\r\nimport PreRegistration from '../Components/PreRegistration';\r\n\r\nconst urls = [\r\n\t// '/js/jquery.min.js',\r\n\t'/js/popper.min.js',\r\n\t'/js/moment.min.js',\r\n\t'/js/bootstrap.min.js',\r\n\t'/js/simplebar.min.js',\r\n\t'/js/daterangepicker.js',\r\n\t'/js/jquery.stickOnScroll.js',\r\n\t'/js/tinycolor-min.js',\r\n\t'/js/config.js',\r\n\t'/js/d3.min.js',\r\n\t'/js/topojson.min.js',\r\n\t'/js/datamaps.all.min.js',\r\n\t'/js/datamaps-zoomto.js',\r\n\t'/js/datamaps.custom.js',\r\n\t'/js/Chart.min.js',\r\n\t'/js/chart-setup.js',\r\n\t'/js/gauge.min.js',\r\n\t'/js/jquery.sparkline.min.js',\r\n\t'/js/apexcharts.min.js',\r\n\t'/js/apexcharts.custom.js',\r\n\t'/js/jquery.mask.min.js',\r\n\t'/js/select2.min.js',\r\n\t'/js/jquery.steps.min.js',\r\n\t'/js/jquery.validate.min.js',\r\n\t'/js/jquery.timepicker.js',\r\n\t'/js/dropzone.min.js',\r\n\t'/js/uppy.min.js',\r\n\t'/js/quill.min.js',\r\n\t'/js/setup-1.js',\r\n\t'/js/uppy.js',\r\n\t'/js/apps.js',\r\n];\r\n\r\nexport default function App() {\r\n\tconst state = State.getInstance();\r\n\r\n\tconst links: RouteProps[] = useMemo(\r\n\t\t() => [\r\n\t\t\t{\r\n\t\t\t\tpath: routes.HOME,\r\n\t\t\t\texact: true,\r\n\t\t\t\tcomponent: Home,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: routes.LOGIN,\r\n\t\t\t\tcomponent: Login,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: routes.DASHBOARD,\r\n\t\t\t\tcomponent: Dashboard,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: routes.PREREGISTRATION,\r\n\t\t\t\tcomponent: PreRegistration,\r\n\t\t\t},\r\n\t\t],\r\n\t\t[]\r\n\t);\r\n\r\n\tconst check = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get('/auth/check');\r\n\t\t\tstate.set('user', data);\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response?.status === 401) {\r\n\t\t\t\tstate.remove('user').remove('token');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tcheck();\r\n\t\tconst id = v4();\r\n\r\n\t\tconst scripts = urls.map((url) => {\r\n\t\t\tconst script = document.createElement('script');\r\n\r\n\t\t\tscript.src = url;\r\n\t\t\tscript.classList.add(id);\r\n\t\t\tscript.defer = true;\r\n\r\n\t\t\treturn script;\r\n\t\t});\r\n\r\n\t\tdocument.body.append(...scripts);\r\n\r\n\t\treturn () => {\r\n\t\t\t$(`.${id}`).remove();\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<QueryClientProvider client={new QueryClient()}>\r\n\t\t\t<Router>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t{links.map((link, index) => (\r\n\t\t\t\t\t\t<Route {...link} key={index} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Switch>\r\n\t\t\t</Router>\r\n\t\t</QueryClientProvider>\r\n\t);\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log('This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA');\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then((registration) => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://cra.link/PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' },\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then((registration) => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\r\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n\t\t\tgetCLS(onPerfEntry);\r\n\t\t\tgetFID(onPerfEntry);\r\n\t\t\tgetFCP(onPerfEntry);\r\n\t\t\tgetLCP(onPerfEntry);\r\n\t\t\tgetTTFB(onPerfEntry);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import './shims';\r\nimport './boot';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './Views/App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './Styles/global.css';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\nserviceWorkerRegistration.unregister();\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}