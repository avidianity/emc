{"version":3,"sources":["shims.ts","Libraries/Event/Key.ts","Libraries/Event/Observer.ts","Libraries/Event/Bus.ts","Libraries/State.ts","boot.ts","routes.ts","hooks.ts","helpers.ts","Libraries/Service.ts","Services/admission.service.ts","Services/course.service.ts","Services/year.service.ts","Services/user.service.ts","Components/Admissions/Form.tsx","Components/Shared/Table.tsx","Components/Admissions/List.tsx","Components/Admissions/index.tsx","Components/ChangePassword.tsx","Components/Courses/Form.tsx","Components/Courses/List.tsx","Components/Courses/index.tsx","Components/Dashboard/Analytics.tsx","Components/Dashboard/Navbar.tsx","Components/Dashboard/Sidebar.tsx","Services/subject.service.ts","Components/Dashboard/Student/Enrollment.tsx","Components/Dashboard/Student/Grades.tsx","Components/Dashboard/Student/Profile.tsx","Services/log.service.ts","Components/Logs/List.tsx","Components/Logs/index.tsx","Services/mail.service.ts","Components/Mails/List.tsx","Components/Mails/index.tsx","Components/Registrars/Form.tsx","Components/Registrars/List.tsx","Components/Registrars/index.tsx","Services/requirement.service.ts","Components/Requirements/Form.tsx","Components/Requirements/List.tsx","Components/Requirements/index.tsx","Services/schedule.service.ts","Components/Schedules/Form.tsx","Components/Schedules/List.tsx","Components/Dashboard/Student/Schedules.tsx","Components/Schedules/index.tsx","Services/grade.service.ts","Components/Students/List.tsx","Components/Students/Subjects.tsx","Components/Students/index.tsx","Components/Subjects/Form.tsx","Components/Subjects/List.tsx","Components/Subjects/index.tsx","Components/Teachers/Form.tsx","Components/Teachers/List.tsx","Components/Teachers/index.tsx","Components/Users/List.tsx","Components/Users/index.tsx","Components/Years/Form.tsx","Components/Years/List.tsx","Components/Years/index.tsx","Views/Dashboard.tsx","Assets/landing.jpg","Views/Home.tsx","Views/Login/Form.tsx","Views/Login/Selection.tsx","Views/Login/index.tsx","Components/PreRegistration.tsx","Views/App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["Error","prototype","toJSON","alt","_this","this","Object","getOwnPropertyNames","forEach","key","stack","split","map","string","trim","filter","_","i","String","toNumber","parts","length","whole","match","join","decimals","Number","toString","characters","random","size","results","x","charAt","Math","floor","Array","first","last","HTMLElement","disable","mode","removeAttribute","setAttribute","Key","name","id","v4","Observer","callback","value","Bus","observers","handle","unshift","getName","getID","index","findIndex","observer","getKey","splice","execute","State","storage","bus","window","localStorage","data","getAll","setAll","getItem","JSON","parse","setItem","stringify","has","dispatch","listen","unlisten","instance","dayjs","extend","relativeTime","customParseFormat","toastr","options","escapeHtml","$","jQuery","url","process","axios","defaults","baseURL","withCredentials","headers","common","get","catch","console","error","state","getInstance","token","interceptors","request","use","config","routes","useURL","useRouteMatch","path","useMode","useState","useNullable","useArray","Asker","message","title","toBool","swal","text","buttons","icon","dangerMode","outIf","condition","output","defaultValue","isArray","_isArray","ucfirst","array","toUpperCase","setValues","setter","networkHandle","authHandle","handleError","useHandle","response","errors","status","values","includes","setTimeout","clearTimeout","sentencify","undefined","extendedTimeOut","isString","words","snakeCase","word","toLowerCase","Intl","NumberFormat","style","currency","Service","params","a","resolveURL","payload","post","put","delete","URLSearchParams","admissionService","courseService","yearService","userService","Form","props","processing","setProcessing","setMode","useForm","defaultValues","force","register","setValue","handleSubmit","reset","setID","history","useHistory","birthday","setBirthday","majorID","setMajorID","number","setNumber","course","setCourse","courses","useQuery","fetch","years","fetchOne","student","toDate","major_id","goBack","submit","requirements","year_id","find","year","current","create","update","success","save","useEffect","then","users","user","role","padStart","Date","getFullYear","className","onSubmit","htmlFor","type","disabled","start","end","maxDate","onChange","dates","mask","e","target","open","description","majors","major","onClick","Table","columns","casts","loading","onRefresh","items","misc","datatable","setDatatable","table","destroy","DataTable","on","val","set","entries","trigger","addClass","removeClass","preventDefault","column","item","accessor","List","isFetching","isError","refetch","active","deleteItem","danger","info","push","admission","done","id_number","uuid","last_name","first_name","middle_name","gender","code","requirement","actions","minWidth","to","notice","Admissions","exact","component","route","ChangePassword","pattern","setMajors","test","cols","rows","course_id","Courses","Chart","registerables","Analytics","students","old","new","genders","males","females","graduates","enrollees","pending","subjects","setData","Promise","all","log","charts","labels","datasets","label","admissions_count","backgroundColor","borderColor","borderWidth","scales","y","beginAtZero","ticks","precision","subject","students_count","chart","Navbar","menu","setMenu","light","document","getElementById","dark","bar","roleDisplay","hasClass","href","src","remove","Sidebar","admissions","roles","Admin","Registrar","Teacher","Student","data-simplebar","data-toggle","height","width","activeClassName","collapse","subjectService","Enrollment","print","setPrint","temp","selected","setSelected","enrolled","setEnrolled","onSuccess","ref","createRef","selectAll","setSelectAll","fontSize","term","level","non","valid","display","checked","units","maxWidth","reduce","previous","next","Grades","setAdmissions","grades","grade","Profile","format","placeholder","logService","created_at","Logs","mailService","colors","Sent","Pending","Failed","modalRef","mail","sent","modal","html","body","tabIndex","data-dismiss","aria-hidden","Mails","registrar","age","Registrars","requirementService","Requirements","scheduleService","setMajor","teacher","setTeacher","day","start_time","end_time","setRows","schedules","schedule","teacher_id","enableTime","altFormat","altInput","times","row","Schedules","SchedulesStudent","gradeService","setStudent","addGradeModalRef","evaluate","missing","failed","passed","student_id","min","max","Subjects","useParams","sub","Students","unit","toggle","email","address","Teachers","new_password","repeat_password","user_id","full_name","Users","semesterStart","setSemesterStart","semesterEnd","setSemesterEnd","semester_start","semester_end","setAsCurrent","Years","Dashboard","localRoutes","Home","background","data-wow-delay","visibility","animationDelay","animationName","Selection","Login","PreRegistration","pre_registration","m","urls","App","links","useMemo","check","scripts","script","createElement","classList","add","defer","append","QueryClientProvider","client","QueryClient","link","Boolean","location","hostname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.726180ef.chunk.js","sourcesContent":["import { trim } from 'lodash';\n\nError.prototype.toJSON = function () {\n\tconst alt = {} as any;\n\n\tconst _this = this as any;\n\tObject.getOwnPropertyNames(_this).forEach(function (key) {\n\t\talt[key] = _this[key];\n\t}, _this);\n\n\tif ('stack' in alt) {\n\t\talt.stack = alt.stack\n\t\t\t.split(/\\r?\\n/)\n\t\t\t.map((string: string) => string.trim())\n\t\t\t.filter((_: any, i: number) => i !== 0);\n\t}\n\n\treturn alt;\n};\n\nString.prototype.toNumber = function () {\n\tconst parts = this.split('.');\n\tif (parts.length > 1) {\n\t\tconst whole = (parts[0].match(/\\d/g) || []).join('');\n\t\tconst decimals = (parts[1].match(/\\d/g) || []).join('');\n\t\treturn Number(`${whole}.${decimals}`) || 0;\n\t}\n\tconst match = this.match(/\\d/g);\n\tif (!match) {\n\t\treturn 0;\n\t}\n\treturn Number(match.join('')) || 0;\n};\n\nString.prototype.trim = function () {\n\treturn trim(this.toString());\n};\n\nconst characters = '1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM';\n\nString.random = (size = 40) => {\n\tlet results = '';\n\n\tfor (let x = 0; x < size; x++) {\n\t\tresults += characters.charAt(Math.floor(Math.random() * characters.length));\n\t}\n\n\treturn results;\n};\n\nArray.prototype.random = function () {\n\treturn this[Math.floor(Math.random() * this.length)];\n};\n\nArray.prototype.first = function () {\n\tif (this.length > 0) {\n\t\treturn this[0];\n\t}\n\treturn undefined;\n};\n\nArray.prototype.last = function () {\n\tif (this.length > 0) {\n\t\treturn this[this.length - 1];\n\t}\n\treturn undefined;\n};\n\nHTMLElement.prototype.disable = function (mode?: boolean) {\n\tif (mode === false) {\n\t\tthis.removeAttribute('disabled');\n\t} else {\n\t\tthis.setAttribute('disabled', 'disabled');\n\t}\n};\n\nexport {};\n","import { v4 } from 'uuid';\n\nexport class Key {\n\tprotected id: string;\n\tprotected name: string;\n\n\tconstructor(name: string) {\n\t\tthis.id = v4();\n\t\tthis.name = name;\n\t}\n\n\tgetID() {\n\t\treturn this.id;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\ttoString() {\n\t\treturn `'${this.id} - ${this.name}'`;\n\t}\n}\n","import { Key } from './Key';\n\nexport class Observer {\n\tprotected key: Key;\n\tprotected callback: Function;\n\n\tconstructor(key: Key, callback: Function) {\n\t\tthis.key = key;\n\t\tthis.callback = callback;\n\t}\n\n\texecute(value: any) {\n\t\tthis.callback(value);\n\t}\n\n\tgetKey() {\n\t\treturn this.key;\n\t}\n}\n","import { Key } from './Key';\nimport { Observer } from './Observer';\n\ntype Observers = {\n\t[key: string]: Observer[];\n};\n\nexport class Bus {\n\tprotected observers: Observers = {};\n\n\tlisten<T = any>(key: string, callback: (value: T) => void) {\n\t\tif (!(key in this.observers)) {\n\t\t\tthis.observers[key] = [];\n\t\t}\n\n\t\tconst handle = new Key(key);\n\t\tthis.observers[key].unshift(new Observer(handle, callback));\n\n\t\treturn handle;\n\t}\n\n\tunlisten(key: Key) {\n\t\tconst name = key.getName();\n\t\tconst id = key.getID();\n\n\t\tif (!(name in this.observers)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst index = this.observers[name].findIndex((observer) => observer.getKey().getID() === id);\n\n\t\tif (index >= 0) {\n\t\t\tthis.observers[name].splice(index, 1);\n\t\t}\n\t}\n\n\tdispatch(name: string, value?: any) {\n\t\tif (!(name in this.observers)) {\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.observers[name].forEach((observer) => observer.execute(value));\n\t\treturn this;\n\t}\n}\n","import { Bus } from './Event/Bus';\nimport { Key } from './Event/Key';\n\nexport type StorageItem = {\n\t[key: string]: any;\n};\n\nexport type ChangeEvent<T> = (value: T) => void;\n\nexport class State {\n\tprotected static instance = new State();\n\tprotected storage: Storage;\n\tprotected key = 'emc-state-key';\n\tprotected bus: Bus;\n\n\tconstructor(key?: string) {\n\t\tthis.storage = window.localStorage;\n\t\tthis.bus = new Bus();\n\t\tif (key) {\n\t\t\tthis.key = key;\n\t\t}\n\t\tconst data = this.getAll();\n\t\tthis.setAll({ ...data });\n\t}\n\n\tstatic getInstance() {\n\t\treturn this.instance;\n\t}\n\n\tclear() {\n\t\treturn this.setAll({});\n\t}\n\n\tprotected getAll(): StorageItem {\n\t\ttry {\n\t\t\tconst data = this.storage.getItem(this.key);\n\t\t\treturn data ? JSON.parse(data) : {};\n\t\t} catch (_) {\n\t\t\treturn {};\n\t\t}\n\t}\n\n\tprotected setAll(data: StorageItem) {\n\t\tthis.storage.setItem(this.key, JSON.stringify(data));\n\t\treturn this;\n\t}\n\n\thas(key: string) {\n\t\treturn key in this.getAll();\n\t}\n\n\tget<T = any>(key: string): T | null {\n\t\tif (!this.has(key)) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.getAll()[key];\n\t}\n\n\tset(key: string, value: any) {\n\t\tconst data = this.getAll();\n\t\tdata[key] = value;\n\t\tthis.dispatch(key, value);\n\t\treturn this.setAll(data);\n\t}\n\n\tremove(key: string) {\n\t\tif (this.has(key)) {\n\t\t\tconst data = this.getAll();\n\t\t\tdelete data[key];\n\t\t\tthis.setAll(data);\n\t\t}\n\t\treturn this;\n\t}\n\n\tprotected dispatch<T>(key: string, value: T) {\n\t\tthis.bus.dispatch(key, value);\n\t\treturn this;\n\t}\n\n\tlisten<T>(key: string, callback: ChangeEvent<T>) {\n\t\treturn this.bus.listen(key, callback);\n\t}\n\n\tunlisten(key: Key) {\n\t\tthis.bus.unlisten(key);\n\t\treturn this;\n\t}\n}\n","import toastr from 'toastr';\nimport 'toastr/build/toastr.css';\nimport axios from 'axios';\nimport './shims';\nimport $ from 'jquery';\nimport 'popper.js';\nimport 'bootstrap';\nimport 'datatables.net';\nimport 'datatables.net-bs4';\nimport { State } from './Libraries/State';\nimport 'flatpickr/dist/themes/material_blue.css';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport customParseFormat from 'dayjs/plugin/customParseFormat';\n\ndayjs.extend(relativeTime);\ndayjs.extend(customParseFormat);\n\ntoastr.options.escapeHtml = true;\n\nwindow.toastr = toastr;\nwindow.$ = $;\nwindow.jQuery = $;\n\nconst url = process.env.REACT_APP_SERVER_URL || '';\n\naxios.defaults.baseURL = `${url}/api`;\naxios.defaults.withCredentials = true;\naxios.defaults.headers.common['Accept'] = 'application/json';\n\naxios.get(`${url}/sanctum/csrf-cookie`).catch(console.error);\n\nconst state = State.getInstance();\n\nif (state.has('token')) {\n\tconst token = state.get('token');\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n}\n\nstate.listen<string>('token', (token) => {\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n});\n\naxios.interceptors.request.use((config) => {\n\tif (state.has('token')) {\n\t\tconfig.headers['Authorization'] = `Bearer ${state.get<string>('token')}`;\n\t}\n\n\treturn config;\n});\n","export const routes = {\n\tADMISSIONS: '/admissions',\n\tDASHBOARD: '/dashboard',\n\tHOME: '/',\n\tFORGOT_PASSWORD: '/forgot-password',\n\tCHANGE_PASSWORD: '/change-password',\n\tLOGIN: '/login',\n\tPREREGISTRATION: '/pre-registration',\n\tCOURSES: '/courses',\n\tSTUDENTS: '/students',\n\tTEACHERS: '/teachers',\n\tREGISTRARS: '/registrars',\n\tSCHEDULES: '/schedules',\n\tSUBJECTS: '/subjects',\n\tUSERS: '/users',\n\tMAILS: '/mails',\n\tYEARS: '/school-years',\n\tGRADES: '/grades',\n\tENROLLMENT: '/enrollment',\n\tPROFILE: '/profile',\n\tADMISSION_REQUIREMENTS: '/admission-requirements',\n\tLOGS: '/logs',\n};\n","import { useState } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\n\nexport function useURL() {\n\tconst match = useRouteMatch();\n\n\treturn (path: string) => `${match.path}${path}`;\n}\n\nexport function useMode() {\n\treturn useState<'Add' | 'Edit'>('Add');\n}\n\nexport function useNullable<T>(data?: T) {\n\treturn useState<T | null>(data || null);\n}\n\nexport function useArray<T>(data?: T[]) {\n\treturn useState<T[]>(data || []);\n}\n","import toastr from 'toastr';\nimport _, { isArray as _isArray, isString, trim } from 'lodash';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport swal from 'sweetalert';\n\ndayjs.extend(relativeTime);\n\nexport class Asker {\n\tstatic async notice(message: string, title?: string) {\n\t\treturn toBool(await swal({ title, text: message, buttons: ['Cancel', 'Confirm'], icon: 'warning' }));\n\t}\n\n\tstatic async danger(message: string, title?: string) {\n\t\treturn toBool(await swal({ title, text: message, buttons: ['Cancel', 'Confirm'], dangerMode: true, icon: 'warning' }));\n\t}\n\n\tstatic async save(message: string, title?: string) {\n\t\treturn toBool(await swal({ title, text: message, buttons: ['Cancel', 'Save'], icon: 'info' }));\n\t}\n}\n\nexport function outIf<T>(condition: boolean, output: T, defaultValue: any = ''): T {\n\treturn condition ? output : (defaultValue as T);\n}\nexport function toBool(data: any) {\n\treturn data ? true : false;\n}\n\nexport function isArray<T>(value: any): value is T[] {\n\treturn _isArray<T>(value);\n}\n\nexport function toJSON(data: any) {\n\treturn trim(JSON.stringify(data));\n}\n\nexport function validURL(url: string) {\n\tlet valid = false;\n\tvar pattern = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!-/]))?/;\n\ttry {\n\t\tnew URL(url);\n\t\tvalid = true;\n\t} catch (_) {\n\t\tvalid = false;\n\t}\n\treturn !!pattern.test(url) && valid;\n}\n\nexport function ucfirst(string: string) {\n\tconst array = string.split('');\n\tarray[0] = array[0].toUpperCase();\n\treturn array.join('');\n}\n\nexport function ucwords(string: string) {\n\treturn string\n\t\t.split(' ')\n\t\t.map((word) => (word === 'Id' ? 'ID' : ucfirst(word)))\n\t\t.join(' ');\n}\n\nexport function setValues(setter: Function, data: any) {\n\tfor (const key in data) {\n\t\tsetter(key, data[key]);\n\t}\n}\n\nlet networkHandle: NodeJS.Timeout | null = null;\nlet authHandle: NodeJS.Timeout | null = null;\n\nexport function handleError(error: any, useHandle = true) {\n\tif (error) {\n\t\tif (error.response) {\n\t\t\tconst response = error.response;\n\t\t\tif (response.data.errors && response.status === 422) {\n\t\t\t\treturn Object.values<string[]>(response.data.errors).map((errors) => errors.map((error) => toastr.error(error)));\n\t\t\t}\n\t\t\tif (response.data.message) {\n\t\t\t\tif ([500, 400, 403, 404].includes(response.status)) {\n\t\t\t\t\treturn toastr.error(response.data.message);\n\t\t\t\t}\n\n\t\t\t\tif (response.status === 401) {\n\t\t\t\t\tif (authHandle === null) {\n\t\t\t\t\t\ttoastr.error('Authentication has expired. Please try logging in and try again.');\n\t\t\t\t\t\tauthHandle = setTimeout(() => {\n\t\t\t\t\t\t\tif (authHandle !== null) {\n\t\t\t\t\t\t\t\tclearTimeout(authHandle);\n\t\t\t\t\t\t\t\tauthHandle = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (isArray(response.data.message)) {\n\t\t\t\t\treturn response.data.message.forEach((message: string) =>\n\t\t\t\t\t\ttoastr.error(sentencify(message), undefined, { extendedTimeOut: 2000 })\n\t\t\t\t\t);\n\t\t\t\t} else if (isString(response.data.message)) {\n\t\t\t\t\treturn toastr.error(sentencify(response.data.message));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (error.message) {\n\t\t\tif (error.message.includes('Network Error')) {\n\t\t\t\tif (networkHandle === null && useHandle) {\n\t\t\t\t\ttoastr.error('Unable to connect. Please check your internet connection or the server may be down.');\n\t\t\t\t\tnetworkHandle = setTimeout(() => {\n\t\t\t\t\t\tif (networkHandle !== null) {\n\t\t\t\t\t\t\tclearTimeout(networkHandle);\n\t\t\t\t\t\t\tnetworkHandle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 5000);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn toastr.error(error.message);\n\t\t\t}\n\t\t}\n\t} else {\n\t\treturn toastr.error('Something went wrong, please try again later.', 'Oops!');\n\t}\n}\n\nexport function errorToStrings(error: any) {\n\tif (error) {\n\t\tif (error.response) {\n\t\t\tconst response = error.response;\n\t\t\tif (response.data.message) {\n\t\t\t\tif (isArray(response.data.message)) {\n\t\t\t\t\treturn (response.data.message as string[]).map((message) => sentencify(message));\n\t\t\t\t} else if (isString(response.data.message)) {\n\t\t\t\t\treturn [sentencify(response.data.message)];\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (error.message) {\n\t\t\tif (isString(error.message)) {\n\t\t\t\tif (error.message.includes('Network Error')) {\n\t\t\t\t\treturn ['Unable to connect. Please check your internet connection or the server may be down.'];\n\t\t\t\t}\n\t\t\t\treturn [error.message as string];\n\t\t\t} else if (isArray(error.message)) {\n\t\t\t\treturn (error.message as string[]).map((message) => sentencify(message));\n\t\t\t}\n\t\t}\n\t}\n\treturn ['Something went wrong, please try again later.'];\n}\n\nexport function groupBy<T, K extends keyof T>(data: Array<T>, key: K) {\n\tconst temp: { [key: string]: Array<T> } = {};\n\n\tdata.forEach((item) => {\n\t\tconst property: any = item[key];\n\t\tif (!(property in temp)) {\n\t\t\ttemp[property] = [];\n\t\t}\n\t\ttemp[property].push(item);\n\t});\n\treturn Object.keys(temp).map((key) => temp[key]);\n}\n\nexport function sentencify(words: string) {\n\treturn ucfirst(\n\t\t_.snakeCase(words)\n\t\t\t.split('_')\n\t\t\t.map((word) => (word.toLowerCase() === 'id' ? 'ID' : word))\n\t\t\t.join(' ')\n\t);\n}\n\nexport function fromNow(date: any) {\n\treturn dayjs(date).fromNow();\n}\n\nexport function makeMask<T extends Function>(callable: T, callback: Function) {\n\treturn ((data: any) => {\n\t\treturn callable(callback(data));\n\t}) as unknown as T;\n}\n\nexport function except<T, K extends keyof T>(data: T, keys: Array<K>) {\n\tconst copy = {} as T;\n\n\tfor (const key in data) {\n\t\tcopy[key] = data[key];\n\t}\n\n\tfor (const key of keys) {\n\t\tif (key in copy) {\n\t\t\tdelete copy[key];\n\t\t}\n\t}\n\treturn copy;\n}\n\nexport function exceptMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\n\treturn [...data].map((item) => except(item, keys));\n}\n\nexport function has<T>(keys: Array<T>, data: T) {\n\treturn keys.includes(data);\n}\n\nexport function only<T, K extends keyof T>(data: T, keys: Array<K>) {\n\tconst result = {} as T;\n\t(result as any)['id'] = (data as any)['id'];\n\tfor (const key of keys) {\n\t\tresult[key] = data[key];\n\t}\n\treturn result;\n}\n\nexport function onlyMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\n\treturn [...data].map((item) => only(item, keys));\n}\n\nconst formatter = new Intl.NumberFormat('en-PH', {\n\tstyle: 'currency',\n\tcurrency: 'PHP',\n});\n\nexport function formatCurrency(value: number) {\n\treturn formatter.format(value).replace(/\\D00(?=\\D*$)/, '');\n}\n","import axios from 'axios';\n\ntype FreeObject = {\n\t[key: string]: any;\n};\n\nexport class Service<T> {\n\tprotected url: string;\n\n\tconstructor(url: string) {\n\t\tthis.url = url;\n\t}\n\n\tasync fetch(params?: FreeObject) {\n\t\tconst { data } = await axios.get<T[]>(this.resolveURL(params));\n\t\treturn data;\n\t}\n\n\tasync fetchOne(id: any, params?: FreeObject) {\n\t\tconst { data } = await axios.get<T>(`${this.resolveURL(params)}/${id}`);\n\t\treturn data;\n\t}\n\n\tasync create(payload: T, params?: FreeObject) {\n\t\tconst { data } = await axios.post(`${this.resolveURL(params)}`, payload);\n\t\treturn data;\n\t}\n\n\tasync update(id: any, payload: Partial<T>, params?: FreeObject) {\n\t\tconst { data } = await axios.put(`${this.resolveURL(params)}/${id}`, payload);\n\t\treturn data;\n\t}\n\n\tasync delete(id: any, params?: FreeObject) {\n\t\tawait axios.delete(`${this.resolveURL(params)}/${id}`);\n\t}\n\n\tprotected resolveURL(params?: FreeObject) {\n\t\treturn `${this.url}${params ? `?${new URLSearchParams(params).toString()}` : ''}`;\n\t}\n}\n","import { AdmissionContract } from '../Contracts/admission.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class AdmissionService extends Service<AdmissionContract> {}\n\nexport const admissionService = new AdmissionService('/admissions');\n","import { CourseContract } from '../Contracts/course.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class CourseService extends Service<CourseContract> {}\n\nexport const courseService = new CourseService('/courses');\n","import { YearContract } from '../Contracts/year.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class YearService extends Service<YearContract> {}\n\nexport const yearService = new YearService('/years');\n","import { UserContract } from '../Contracts/user.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class UserService extends Service<UserContract> {}\n\nexport const userService = new UserService('/users');\n","import React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { Asker, handleError, setValues } from '../../helpers';\nimport { useMode, useNullable } from '../../hooks';\nimport { admissionService } from '../../Services/admission.service';\nimport Flatpickr from 'react-flatpickr';\nimport dayjs from 'dayjs';\nimport { useQuery } from 'react-query';\nimport { courseService } from '../../Services/course.service';\nimport { yearService } from '../../Services/year.service';\nimport { userService } from '../../Services/user.service';\nimport { CourseContract } from '../../Contracts/course.contract';\nimport InputMask from 'react-input-mask';\n\ntype Props = {};\n\ntype Inputs = {\n\tcourse_id: number;\n\tlevel: string;\n\tstatus: string;\n\tterm: string;\n\tstudent_id: number;\n\tyear_id: number;\n\tmajor_id?: number;\n\trequirements: string[];\n\tstudent: {\n\t\tuuid: string;\n\t\tfirst_name: string;\n\t\tlast_name: string;\n\t\tmiddle_name?: string;\n\t\tgender?: string;\n\t\taddress?: string;\n\t\tplace_of_birth?: string;\n\t\tbirthday?: string;\n\t\trole: string;\n\t\temail: string;\n\t\tnumber: string;\n\t\tactive: boolean;\n\t\tpassword: string;\n\t\tfathers_name?: string;\n\t\tmothers_name?: string;\n\t\tfathers_occupation?: string;\n\t\tmothers_occupation?: string;\n\t};\n\tforce: boolean;\n\tdone: boolean;\n};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useMode();\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\n\t\tdefaultValues: {\n\t\t\tforce: false,\n\t\t},\n\t});\n\tconst [id, setID] = useState(-1);\n\tconst history = useHistory();\n\tconst match = useRouteMatch<{ id: string }>();\n\tconst [birthday, setBirthday] = useNullable<Date>();\n\tconst [majorID, setMajorID] = useNullable<number>();\n\tconst [number, setNumber] = useState('');\n\tconst [course, setCourse] = useNullable<CourseContract>();\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\n\tconst { data: years } = useQuery('years', () => yearService.fetch());\n\n\tconst fetch = async (id: any) => {\n\t\ttry {\n\t\t\tconst data = await admissionService.fetchOne(id);\n\t\t\tsetID(data.id!);\n\t\t\tsetValues(setValue, data);\n\t\t\tsetBirthday(dayjs(data.student?.birthday).toDate());\n\t\t\tif (data.student) {\n\t\t\t\tfor (const key in data.student) {\n\t\t\t\t\tsetValue(`student.${key}` as any, (data.student as any)[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (data.major_id) {\n\t\t\t\tsetMajorID(data.major_id);\n\t\t\t}\n\t\t\tsetNumber(data.student?.number!);\n\t\t\tsetCourse(data.course!);\n\t\t\tsetMode('Edit');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst submit = async (data: Inputs) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tif (majorID) {\n\t\t\t\tdata.major_id = majorID;\n\t\t\t}\n\t\t\tdata.requirements = [];\n\t\t\tdata.student.number = number;\n\t\t\tdata.student.birthday = birthday?.toJSON();\n\t\t\tdata.year_id = years?.find((year) => year.current)?.id!;\n\t\t\tawait (mode === 'Add' ? admissionService.create(data) : admissionService.update(id, data));\n\t\t\ttoastr.success('Admission has been saved successfully.');\n\t\t\tsetBirthday(null);\n\t\t\treset();\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 409) {\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\n\t\t\t\t\tdata.force = true;\n\t\t\t\t\tawait submit(data);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandleError(error);\n\t\t\t}\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (match.path.includes('edit')) {\n\t\t\tfetch(match.params.id);\n\t\t} else {\n\t\t\tuserService.fetch().then((users) => {\n\t\t\t\tsetValue(\n\t\t\t\t\t'student.uuid',\n\t\t\t\t\t`student-${`${users.filter((user) => user.role === 'Student').length + 1}`.padStart(\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t'0'\n\t\t\t\t\t)}-${new Date().getFullYear()}`\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<h5 className='card-title'>{mode} Admission</h5>\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t<div className='form-row'>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='first_name'>First Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('student.first_name')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='first_name'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='year_id'>School Year</label>\n\t\t\t\t\t\t\t\t<select id='year_id' className='form-control' disabled>\n\t\t\t\t\t\t\t\t\t{years\n\t\t\t\t\t\t\t\t\t\t?.filter((year) => year.current)\n\t\t\t\t\t\t\t\t\t\t.map((year, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option value={year.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{year.start} - {year.end}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='middle_name'>Middle Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('student.middle_name')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='middle_name'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='uuid'>Student Number</label>\n\t\t\t\t\t\t\t\t<input {...register('student.uuid')} type='text' id='uuid' className='form-control' disabled />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='last_name'>Last Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('student.last_name')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='last_name'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='address'>Address</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('student.address')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='address'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='gender'>Gender</label>\n\t\t\t\t\t\t\t\t<select {...register('student.gender')} id='gender' className='form-control' disabled={processing}>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t<option value='Male'>Male</option>\n\t\t\t\t\t\t\t\t\t<option value='Female'>Female</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email Address</label>\n\t\t\t\t\t\t\t\t<input {...register('student.email')} type='email' id='email' className='form-control' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='birthday'>Birthday</label>\n\t\t\t\t\t\t\t\t<Flatpickr\n\t\t\t\t\t\t\t\t\tvalue={birthday || undefined}\n\t\t\t\t\t\t\t\t\tid='birthday'\n\t\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\t\tmaxDate: dayjs()\n\t\t\t\t\t\t\t\t\t\t\t.year(new Date().getFullYear() - 15)\n\t\t\t\t\t\t\t\t\t\t\t.toDate(),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tsetBirthday(dates[0]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='number'>Phone Number</label>\n\t\t\t\t\t\t\t\t<InputMask\n\t\t\t\t\t\t\t\t\tmask='0\\999-999-9999'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='number'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={number}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='col-12 d-flex'>\n\t\t\t\t\t\t\t\t<i className='ml-auto'>Student user account credentials will be sent via email.</i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='fathers_name'>Name of Father</label>\n\t\t\t\t\t\t\t\t<input {...register('student.fathers_name')} type='text' id='fathers_name' className='form-control' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='mothers_name'>Name of Mother</label>\n\t\t\t\t\t\t\t\t<input {...register('student.mothers_name')} type='text' id='mothers_name' className='form-control' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='fathers_occupation'>Occupation of Father</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('student.fathers_occupation')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='fathers_occupation'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='mothers_occupation'>Occupation of Mother</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('student.mothers_occupation')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='mothers_occupation'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='course_id'>Course</label>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t{...register('course_id')}\n\t\t\t\t\t\t\t\t\tid='course_id'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\n\t\t\t\t\t\t\t\t\t\tif (course) {\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(course);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(null);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t{courses\n\t\t\t\t\t\t\t\t\t\t?.filter((course) => course.open)\n\t\t\t\t\t\t\t\t\t\t.map((course, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{course.description}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{course && course.majors && course.majors.length > 0 ? (\n\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='major_id'>Major</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tid='major_id'\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tsetMajorID(e.target.value.toNumber());\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t\t{course.majors.map((major, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{major.name}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='term'>Term</label>\n\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t{...register('term')}\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\t\t\tid='1st-semester'\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='1st Semester'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='1st-semester'>\n\t\t\t\t\t\t\t\t\t\t\t\t1st Semester\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t{...register('term')}\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\t\t\tid='2nd-semester'\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='2nd Semester'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='2nd-semester'>\n\t\t\t\t\t\t\t\t\t\t\t\t2nd Semester\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4'>\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t{...register('term')}\n\t\t\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\t\t\tid='summer'\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue='Summer'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='summer'>\n\t\t\t\t\t\t\t\t\t\t\t\tSummer\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='level'>Year Level</label>\n\t\t\t\t\t\t\t\t<select {...register('level')} id='level' className='form-control'>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t<option value='1st'>1st</option>\n\t\t\t\t\t\t\t\t\t<option value='2nd'>2nd</option>\n\t\t\t\t\t\t\t\t\t<option value='3rd'>3rd</option>\n\t\t\t\t\t\t\t\t\t<option value='4th'>4th</option>\n\t\t\t\t\t\t\t\t\t<option value='5th'>5th</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='status'>Student Status</label>\n\t\t\t\t\t\t\t\t<select {...register('status')} id='status' className='form-control'>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t<option value='Regular'>Regular</option>\n\t\t\t\t\t\t\t\t\t<option value='Irregular'>Irregular</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group d-flex'>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\n\t\t\t\t\t\t\t\tReturn\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import React, { FC, useEffect } from 'react';\nimport { v4 } from 'uuid';\nimport { outIf } from '../../helpers';\nimport { useNullable } from '../../hooks';\nimport { State } from '../../Libraries/State';\n\nexport type TableProps = {\n\ttitle: string;\n\tcolumns: { title: string; accessor: string }[];\n\tbuttons?: any;\n\tcasts?: { [key: string]: (value: any) => any };\n\tloading: boolean;\n\tonRefresh: () => void;\n\titems: any[];\n\tmisc?: any;\n};\n\nconst Table: FC<TableProps> = ({ columns, title, buttons, casts, loading, onRefresh, items, misc }) => {\n\tconst id = v4();\n\tconst [datatable, setDatatable] = useNullable<DataTables.Api>();\n\tconst state = State.getInstance();\n\n\tconst cast = (key: string, value: any) => {\n\t\tif (casts && key in casts) {\n\t\t\treturn casts[key](value);\n\t\t}\n\n\t\treturn value;\n\t};\n\n\tuseEffect(() => {\n\t\tconst table = $(`#${id}`);\n\n\t\tif (datatable) {\n\t\t\tdatatable.destroy();\n\t\t}\n\n\t\tif (table.DataTable) {\n\t\t\ttry {\n\t\t\t\tsetDatatable(table.DataTable());\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\t$('.dataTables_length')\n\t\t\t\t.find('select')\n\t\t\t\t.on('input', function () {\n\t\t\t\t\tconst select = $(this);\n\t\t\t\t\tconst value = select.val();\n\t\t\t\t\tstate.set(`${title.trim().toLowerCase()}-entries`, value);\n\t\t\t\t});\n\t\t}, 500);\n\n\t\tconst entries = state.get<string>(`${title.trim().toLowerCase()}-entries`) || '10';\n\n\t\t$('.dataTables_length').find('select').val(entries).trigger('change');\n\n\t\treturn () => {\n\t\t\tif (datatable) {\n\t\t\t\tdatatable.destroy();\n\t\t\t\tsetDatatable(null);\n\t\t\t}\n\t\t};\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst message = $('.dataTables_empty');\n\t\tif (items.length > 0 || loading) {\n\t\t\tmessage.addClass('d-none');\n\t\t}\n\t\tif (!loading && items.length === 0) {\n\t\t\tmessage.removeClass('d-none');\n\t\t}\n\t});\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card shadow'>\n\t\t\t\t<div className='card-header'>\n\t\t\t\t\t<div className='container-fluid'>\n\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t<div className='col-12 d-flex align-items-center'>\n\t\t\t\t\t\t\t\t<h4 className='card-title mb-0'>{title}</h4>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm ml-auto'\n\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tonRefresh();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttitle='Refresh'>\n\t\t\t\t\t\t\t\t\t<i className={`fas fa-sync-alt ${outIf(loading, 'fa-spin')}`}></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{buttons}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{misc ? <div className='col-12'>{misc}</div> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={`card-body table-responsive`}>\n\t\t\t\t\t<table id={id} className='table table-hover'>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t{columns.map((column, index) => (\n\t\t\t\t\t\t\t\t\t<th key={index}>{column.title}</th>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{items.map((item, index) => (\n\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t{columns.map(({ accessor }, index) => (\n\t\t\t\t\t\t\t\t\t\t<td key={index}>{cast(accessor, item[accessor])}</td>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Table;\n","import React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError, Asker } from '../../helpers';\nimport { useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { admissionService } from '../../Services/admission.service';\nimport { userService } from '../../Services/user.service';\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('admissions', () => admissionService.fetch());\n\n\tconst url = useURL();\n\n\tconst update = async (student: UserContract) => {\n\t\ttry {\n\t\t\tawait userService.update(student.id, { active: !student.active });\n\t\t\ttoastr.success(`Student ${student.active ? 'disabled' : 'enabled'} successfully.`);\n\t\t\trefetch();\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst deleteItem = async (id: any) => {\n\t\ttry {\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Admission?')) {\n\t\t\t\tawait admissionService.delete(id);\n\t\t\t\ttoastr.info('Admission has been deleted.', 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'Student ID Number',\n\t\t\taccessor: 'id_number',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Student',\n\t\t\taccessor: 'student',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Gender',\n\t\t\taccessor: 'gender',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Course',\n\t\t\taccessor: 'course',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Year Level',\n\t\t\taccessor: 'level',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Semester',\n\t\t\taccessor: 'term',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Requirements',\n\t\t\taccessor: 'requirements',\n\t\t},\n\t];\n\n\tif (user?.role === 'Registrar') {\n\t\tcolumns.push({\n\t\t\ttitle: 'Actions',\n\t\t\taccessor: 'actions',\n\t\t});\n\t}\n\n\treturn (\n\t\t<Table\n\t\t\tonRefresh={() => refetch()}\n\t\t\ttitle='Admissions'\n\t\t\tloading={loading}\n\t\t\titems={\n\t\t\t\titems\n\t\t\t\t\t?.filter((admission) => !admission.student?.active && admission.year?.current && !admission.done)\n\t\t\t\t\t.map((admission) => ({\n\t\t\t\t\t\t...admission,\n\t\t\t\t\t\tid_number: admission.student?.uuid,\n\t\t\t\t\t\tstudent: `${admission.student?.last_name}, ${admission.student?.first_name} ${\n\t\t\t\t\t\t\tadmission.student?.middle_name || ''\n\t\t\t\t\t\t}`,\n\t\t\t\t\t\tgender: admission.student?.gender,\n\t\t\t\t\t\tcourse: `${admission.course?.code}${admission.major ? ` - Major in ${admission.major.name}` : ''}`,\n\t\t\t\t\t\trequirements: admission.requirements?.map((requirement, index) => (\n\t\t\t\t\t\t\t<span className='d-block' key={index}>\n\t\t\t\t\t\t\t\t{requirement}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)),\n\t\t\t\t\t\tactions:\n\t\t\t\t\t\t\tuser?.role === 'Registrar' ? (\n\t\t\t\t\t\t\t\t<div style={{ minWidth: '100px' }}>\n\t\t\t\t\t\t\t\t\t<Link to={url(`${admission.id}/edit`)} className='btn btn-warning btn-sm mx-1' title='Edit'>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-${admission.student?.active ? 'danger' : 'info'} btn-sm mx-1`}\n\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.notice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t`Are you sure you want to ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tadmission.student?.active ? 'unconfirm' : 'confirm'\n\t\t\t\t\t\t\t\t\t\t\t\t\t} this student?`\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tupdate(admission.student!);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttitle={admission.student?.active ? 'Unconfirm' : 'Confirm'}>\n\t\t\t\t\t\t\t\t\t\t<i className={`fas fa-user-${admission.student?.active ? 'times' : 'check'}`}></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1 d-none'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(admission.id);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null,\n\t\t\t\t\t})) || []\n\t\t\t}\n\t\t\tcolumns={columns}\n\t\t\tbuttons={\n\t\t\t\t<>\n\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport Form from './Form';\nimport List from './List';\n\ntype Props = {};\n\nconst Admissions: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t\t{\n\t\t\tpath: url('/add'),\n\t\t\tcomponent: Form,\n\t\t},\n\t\t{\n\t\t\tpath: url('/:id/edit'),\n\t\t\tcomponent: Form,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Admissions;\n","import axios from 'axios';\nimport React, { FC, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { handleError } from '../helpers';\n\ntype Props = {};\n\ntype Inputs = {\n\told_password: string;\n\tnew_password: string;\n};\n\nconst ChangePassword: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst { register, handleSubmit } = useForm<Inputs>();\n\n\tconst submit = async (data: Inputs) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.post('/auth/change-password', data);\n\t\t\ttoastr.success('Password changed successfully.');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='container-fluid d-flex'>\n\t\t\t<div className='mx-auto'>\n\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label htmlFor='old_password'>Old Password</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...register('old_password')}\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tid='old_password'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label htmlFor='new_password'>New Password</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...register('new_password')}\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tid='new_password'\n\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\tpattern='^(?=\\P{Ll}*\\p{Ll})(?=\\P{Lu}*\\p{Lu})(?=\\P{N}*\\p{N})(?=[\\p{L}\\p{N}]*[^\\p{L}\\p{N}])[\\s\\S]{8,}$'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<small className='form-text text-muted'>\n\t\t\t\t\t\t\tPassword must contain atleast uppercase and lowercase letters, numbers and special characters.\n\t\t\t\t\t\t</small>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm' disabled={processing}>\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ChangePassword;\n","import React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { CourseContract } from '../../Contracts/course.contract';\nimport { MajorContract } from '../../Contracts/major.contract';\nimport { Asker, handleError, setValues } from '../../helpers';\nimport { useArray, useMode } from '../../hooks';\nimport { courseService } from '../../Services/course.service';\n\ntype Props = {};\n\ntype Inputs = CourseContract & { force: boolean };\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useMode();\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\n\t\tdefaultValues: {\n\t\t\tforce: false,\n\t\t},\n\t});\n\tconst [id, setID] = useState(-1);\n\tconst [majors, setMajors] = useArray<MajorContract>();\n\tconst history = useHistory();\n\tconst match = useRouteMatch<{ id: string }>();\n\n\tconst fetch = async (id: any) => {\n\t\ttry {\n\t\t\tconst data = await courseService.fetchOne(id);\n\t\t\tsetID(data.id!);\n\t\t\tsetValues(setValue, data);\n\t\t\tsetMajors(data.majors!);\n\t\t\tsetMode('Edit');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst submit = async (data: Inputs) => {\n\t\tconst formats = [/[A-Z]{4}/g, /[A-Z]{4} - [A-Z]{1,}/g];\n\t\tfor (const format of formats) {\n\t\t\tif (format.test(data.code)) {\n\t\t\t\tsetProcessing(true);\n\t\t\t\ttry {\n\t\t\t\t\tdata.majors = majors;\n\t\t\t\t\tawait (mode === 'Add' ? courseService.create(data) : courseService.update(id, data));\n\t\t\t\t\ttoastr.success('Course has been saved successfully.');\n\t\t\t\t\tsetMajors([]);\n\t\t\t\t\treturn reset();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (error.response?.status === 409) {\n\t\t\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\n\t\t\t\t\t\t\tdata.force = true;\n\t\t\t\t\t\t\tawait submit(data);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\thandleError(error);\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn toastr.error('Course Code does not follow correct format.');\n\t};\n\n\tuseEffect(() => {\n\t\tif (match.path.includes('edit')) {\n\t\t\tfetch(match.params.id);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<h5 className='card-title'>{mode} Course</h5>\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='code'>Course Code</label>\n\t\t\t\t\t\t\t<input {...register('code')} type='text' id='code' className='form-control' disabled={processing} />\n\t\t\t\t\t\t\t<small className='form-text text-muted'>\n\t\t\t\t\t\t\t\tCourse code may not be editable in the future, be careful on your entry.\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='description'>Course Description</label>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t{...register('description')}\n\t\t\t\t\t\t\t\tid='description'\n\t\t\t\t\t\t\t\tcols={30}\n\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tdisabled={processing}></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('open')}\n\t\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\tid='open'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='open'>\n\t\t\t\t\t\t\t\t\tOpen for Enrollment\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<h4>Majors</h4>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tmajors.push({ name: '', course_id: 0 });\n\t\t\t\t\t\t\t\t\tsetMajors([...majors]);\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t{majors.map((major, index) => (\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 col-xl-3 p-2' key={index}>\n\t\t\t\t\t\t\t\t\t\t<div className='p-2 border rounded'>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mb-2'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\tmajors.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetMajors([...majors]);\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t\t\t<label>Major {index + 1}</label>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmajor.name = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmajors.splice(index, 1, major);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMajors([...majors]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={major.name}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group d-flex'>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\n\t\t\t\t\t\t\t\tReturn\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError, Asker } from '../../helpers';\nimport { useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { courseService } from '../../Services/course.service';\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('courses', () => courseService.fetch());\n\n\tconst url = useURL();\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst deleteItem = async (id: any) => {\n\t\ttry {\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Course?')) {\n\t\t\t\tawait courseService.delete(id);\n\t\t\t\ttoastr.info('Course has been deleted.', 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'Course Code',\n\t\t\taccessor: 'code',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Course Description',\n\t\t\taccessor: 'description',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Majors',\n\t\t\taccessor: 'majors',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Status',\n\t\t\taccessor: 'open',\n\t\t},\n\t];\n\n\tif (user?.role === 'Registrar') {\n\t\tcolumns.push({\n\t\t\ttitle: 'Actions',\n\t\t\taccessor: 'actions',\n\t\t});\n\t}\n\n\treturn (\n\t\t<Table\n\t\t\tonRefresh={() => refetch()}\n\t\t\ttitle='Courses'\n\t\t\tloading={loading}\n\t\t\titems={\n\t\t\t\titems?.map((course) => ({\n\t\t\t\t\t...course,\n\t\t\t\t\topen: course.open ? (\n\t\t\t\t\t\t<span className='badge badge-success'>Open for Enrollment</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span className='badge badge-danger'>Not Open for Enrollment</span>\n\t\t\t\t\t),\n\t\t\t\t\tmajors: course.majors?.map((major, index) => (\n\t\t\t\t\t\t<span className='d-block' key={index}>\n\t\t\t\t\t\t\t{major.name}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)),\n\t\t\t\t\tactions:\n\t\t\t\t\t\tuser?.role === 'Registrar' ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Link to={url(`${course.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tdeleteItem(course.id);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : null,\n\t\t\t\t})) || []\n\t\t\t}\n\t\t\tcolumns={columns}\n\t\t\tbuttons={\n\t\t\t\t<>\n\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport Form from './Form';\nimport List from './List';\n\ntype Props = {};\n\nconst Courses: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t\t{\n\t\t\tpath: url('/add'),\n\t\t\tcomponent: Form,\n\t\t},\n\t\t{\n\t\t\tpath: url('/:id/edit'),\n\t\t\tcomponent: Form,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Courses;\n","import axios from 'axios';\nimport React, { FC, useEffect, useState } from 'react';\nimport { CourseContract } from '../../Contracts/course.contract';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { outIf } from '../../helpers';\nimport { State } from '../../Libraries/State';\nimport { Chart, registerables } from 'chart.js';\nimport { SubjectContract } from '../../Contracts/subject.contract';\nChart.register(...registerables);\n\ntype Props = {};\n\nconst Analytics: FC<Props> = (props) => {\n\tconst user = State.getInstance().get<UserContract>('user');\n\tconst [data, setData] = useState({\n\t\tstudents: {\n\t\t\told: 0,\n\t\t\tnew: 0,\n\t\t},\n\t\tcourses: [] as CourseContract[],\n\t\tgenders: {\n\t\t\tmales: 0,\n\t\t\tfemales: 0,\n\t\t},\n\t\tgraduates: 0,\n\t\tenrollees: {\n\t\t\tpending: 0,\n\t\t},\n\t\tsubjects: [] as SubjectContract[],\n\t});\n\n\tconst fetch = async () => {\n\t\ttry {\n\t\t\tconst [students, courses, genders, graduates, enrollees, subjects] = await Promise.all([\n\t\t\t\taxios.get<{ old: number; new: number }>('/analytics/students').then((response) => response.data),\n\t\t\t\taxios.get<CourseContract[]>('/analytics/courses').then((response) => response.data),\n\t\t\t\taxios.get<{ males: number; females: number }>('/analytics/genders').then((response) => response.data),\n\t\t\t\taxios.get<number>('/analytics/graduates').then((response) => response.data),\n\t\t\t\taxios.get<{ pending: number }>('/analytics/enrollees').then((response) => response.data),\n\t\t\t\taxios.get<SubjectContract[]>('/analytics/subjects').then((response) => response.data),\n\t\t\t]);\n\t\t\tsetData({\n\t\t\t\tstudents,\n\t\t\t\tcourses,\n\t\t\t\tsubjects,\n\t\t\t\tgenders,\n\t\t\t\tgraduates,\n\t\t\t\tenrollees,\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\tcourses,\n\t\t\t\tsubjects,\n\t\t\t};\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t\treturn {\n\t\t\t\tcourses: [],\n\t\t\t\tsubjects: [],\n\t\t\t};\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconst charts: Chart<any>[] = [];\n\n\t\tfetch().then(({ courses, subjects }) => {\n\t\t\ttry {\n\t\t\t\tcharts.push(\n\t\t\t\t\tnew Chart($('#course') as any, {\n\t\t\t\t\t\ttype: 'bar',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tlabels: courses.map((course) => course.code),\n\t\t\t\t\t\t\tdatasets: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: '# of Students',\n\t\t\t\t\t\t\t\t\tdata: courses.map((course) => course.admissions_count),\n\t\t\t\t\t\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 99, 132, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(54, 162, 235, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 206, 86, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(75, 192, 192, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(153, 102, 255, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 159, 64, 0.2)',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tborderColor: [\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 99, 132, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(54, 162, 235, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 206, 86, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(75, 192, 192, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(153, 102, 255, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 159, 64, 1)',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\t\ty: {\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tcharts.push(\n\t\t\t\t\tnew Chart($('#subject') as any, {\n\t\t\t\t\t\ttype: 'bar',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tlabels: subjects.map((subject) => subject.code),\n\t\t\t\t\t\t\tdatasets: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: '# of Students',\n\t\t\t\t\t\t\t\t\tdata: subjects.map((subject) => subject.students_count),\n\t\t\t\t\t\t\t\t\tbackgroundColor: [\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 99, 132, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(54, 162, 235, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 206, 86, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(75, 192, 192, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(153, 102, 255, 0.2)',\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 159, 64, 0.2)',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tborderColor: [\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 99, 132, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(54, 162, 235, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 206, 86, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(75, 192, 192, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(153, 102, 255, 1)',\n\t\t\t\t\t\t\t\t\t\t'rgba(255, 159, 64, 1)',\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\t\ty: {\n\t\t\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\tprecision: 0,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log('chartjs', error);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tcharts.forEach((chart) => chart.destroy());\n\t\t};\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className={`container-fluid ${outIf(user?.role === 'Student', 'd-none')}`}>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t<div className='card bg-dark text-white shadow'>\n\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t<div className='row align-items-center'>\n\t\t\t\t\t\t\t\t<div className='col-3 text-center'>\n\t\t\t\t\t\t\t\t\t<span className='circle circle-sm'>\n\t\t\t\t\t\t\t\t\t\t<i className='fe fe-16 fe-users mb-0'></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col pr-0'>\n\t\t\t\t\t\t\t\t\t<p className='small mb-0'>Male Students</p>\n\t\t\t\t\t\t\t\t\t<span className='text-white h3 mb-0' id='male-students'>\n\t\t\t\t\t\t\t\t\t\t{data.genders.males}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t<div className='card bg-dark text-white shadow'>\n\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t<div className='row align-items-center'>\n\t\t\t\t\t\t\t\t<div className='col-3 text-center'>\n\t\t\t\t\t\t\t\t\t<span className='circle circle-sm'>\n\t\t\t\t\t\t\t\t\t\t<i className='fe fe-16 fe-users mb-0'></i>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='col pr-0'>\n\t\t\t\t\t\t\t\t\t<p className='small mb-0'>Female Students</p>\n\t\t\t\t\t\t\t\t\t<span className='text-white h3 mb-0' id='female-students'>\n\t\t\t\t\t\t\t\t\t\t{data.genders.females}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className='col-12 col-md-6 mt-5'>\n\t\t\t\t\t\t\t<div className='card bg-dark text-white shadow'>\n\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t<div className='row align-items-center'>\n\t\t\t\t\t\t\t\t\t\t<div className='col-3 text-center'>\n\t\t\t\t\t\t\t\t\t\t\t<span className='circle circle-sm'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-16 fe-users mb-0'></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='col pr-0'>\n\t\t\t\t\t\t\t\t\t\t\t<p className='small mb-0'>Pending Enrollees</p>\n\t\t\t\t\t\t\t\t\t\t\t<span className='text-white h3 mb-0' id='pending-enrollees'>\n\t\t\t\t\t\t\t\t\t\t\t\t{data.enrollees.pending}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-12 col-md-6 mt-5'>\n\t\t\t\t\t\t\t<div className='card bg-dark text-white shadow'>\n\t\t\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t\t\t<div className='row align-items-center'>\n\t\t\t\t\t\t\t\t\t\t<div className='col-3 text-center'>\n\t\t\t\t\t\t\t\t\t\t\t<span className='circle circle-sm'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-16 fe-users mb-0'></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='col pr-0'>\n\t\t\t\t\t\t\t\t\t\t\t<p className='small mb-0'>Graduates</p>\n\t\t\t\t\t\t\t\t\t\t\t<span className='text-white h3 mb-0' id='graduates'>\n\t\t\t\t\t\t\t\t\t\t\t\t{data.graduates}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t) : null}\n\t\t\t\t<div className='col-12'>\n\t\t\t\t\t<hr className='mt-5' />\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t<div className='card shadow'>\n\t\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t\t<h4 className='card-title'>Students per Course</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t<canvas id='course'></canvas>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t<div className='card shadow'>\n\t\t\t\t\t\t<div className='card-header'>\n\t\t\t\t\t\t\t<h4 className='card-title'>Students per Subject</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t<canvas id='subject'></canvas>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Analytics;\n","import React, { FC, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { Asker, outIf } from '../../helpers';\nimport { State } from '../../Libraries/State';\nimport { routes } from '../../routes';\n\ntype Props = {};\n\nconst Navbar: FC<Props> = (props) => {\n\tconst state = State.getInstance();\n\tconst [mode, setMode] = useState(state.get<string>('mode') || 'dark');\n\tconst [menu, setMenu] = useState(false);\n\tconst history = useHistory();\n\n\tconst light = document.getElementById('lightTheme')!;\n\tconst dark = document.getElementById('darkTheme')!;\n\n\tuseEffect(() => {\n\t\tif (mode === 'dark') {\n\t\t\t$('.vertical').addClass('dark');\n\t\t\tlight.disable(true);\n\t\t\tdark.disable(false);\n\t\t} else {\n\t\t\t$('.vertical').removeClass('dark');\n\t\t\tdark.disable(true);\n\t\t\tlight.disable(false);\n\t\t}\n\t}, [mode, light, dark]);\n\n\treturn (\n\t\t<nav className='topnav navbar navbar-light'>\n\t\t\t<button\n\t\t\t\ttype='button'\n\t\t\t\tclassName='navbar-toggler text-muted mt-2 p-0 mr-3'\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tconst bar = $('.vertical');\n\t\t\t\t\tconst roleDisplay = $('#account-role-display');\n\t\t\t\t\tif (bar.hasClass('collapsed')) {\n\t\t\t\t\t\troleDisplay.removeClass('d-none');\n\t\t\t\t\t\tbar.removeClass('collapsed');\n\t\t\t\t\t} else {\n\t\t\t\t\t\troleDisplay.addClass('d-none');\n\t\t\t\t\t\tbar.addClass('collapsed');\n\t\t\t\t\t}\n\t\t\t\t}}>\n\t\t\t\t<i className='fe fe-menu navbar-toggler-icon'></i>\n\t\t\t</button>\n\t\t\t<ul className='nav'>\n\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName='nav-link text-muted my-2'\n\t\t\t\t\t\thref='/'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (mode === 'dark') {\n\t\t\t\t\t\t\t\tstate.set('mode', 'light');\n\t\t\t\t\t\t\t\tsetMode('light');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate.set('mode', 'dark');\n\t\t\t\t\t\t\t\tsetMode('dark');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<i className='fe fe-sun fe-16'></i>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li className={`nav-item dropdown ${outIf(menu, 'show')}`}>\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName='nav-link dropdown-toggle text-muted pr-0'\n\t\t\t\t\t\thref='/'\n\t\t\t\t\t\trole='button'\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tsetMenu(!menu);\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<span className='avatar avatar-sm mt-2'>\n\t\t\t\t\t\t\t<img src='https://via.placeholder.com/200' alt='...' className='avatar-img rounded-circle' />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div className={`dropdown-menu dropdown-menu-right ${outIf(menu, 'show')}`}>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tclassName='dropdown-item d-flex align-items-center'\n\t\t\t\t\t\t\thref='/'\n\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (await Asker.notice('Are you sure you want to logout?')) {\n\t\t\t\t\t\t\t\t\tstate.remove('user').remove('token');\n\t\t\t\t\t\t\t\t\thistory.push(routes.HOME);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<i className='la la-sign-out-alt mr-1'></i>\n\t\t\t\t\t\t\t<span>Logout</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t);\n};\n\nexport default Navbar;\n","import React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { NavLink as Link } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { routes } from '../../routes';\nimport { admissionService } from '../../Services/admission.service';\n\ntype Props = {};\n\nconst Sidebar: FC<Props> = (props) => {\n\tconst { data: admissions } = useQuery('admissions', () => admissionService.fetch());\n\tconst url = useURL();\n\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst roles: { [key: string]: string[] } = {\n\t\tAdmin: [routes.COURSES, routes.STUDENTS, routes.TEACHERS, routes.REGISTRARS, routes.USERS, routes.MAILS, routes.LOGS],\n\t\tRegistrar: [\n\t\t\troutes.COURSES,\n\t\t\troutes.STUDENTS,\n\t\t\troutes.TEACHERS,\n\t\t\troutes.SUBJECTS,\n\t\t\troutes.SCHEDULES,\n\t\t\troutes.ADMISSIONS,\n\t\t\troutes.YEARS,\n\t\t\troutes.ADMISSION_REQUIREMENTS,\n\t\t],\n\t\tTeacher: [routes.COURSES, routes.STUDENTS, routes.SUBJECTS, routes.SCHEDULES],\n\t\tStudent: [routes.GRADES, routes.SCHEDULES, routes.PROFILE, routes.ENROLLMENT],\n\t};\n\n\tif (!user) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<aside className='sidebar-left border-right bg-white shadow' id='leftSidebar' data-simplebar>\n\t\t\t<a href='/' className='btn collapseSidebar toggle-btn d-lg-none text-muted ml-2 mt-3' data-toggle='toggle'>\n\t\t\t\t<i className='fe fe-x'>\n\t\t\t\t\t<span className='sr-only'></span>\n\t\t\t\t</i>\n\t\t\t</a>\n\t\t\t<nav className='vertnav navbar navbar-light'>\n\t\t\t\t<div className='w-100 mb-4 d-flex'>\n\t\t\t\t\t<Link className='navbar-brand mx-auto mt-2 flex-fill text-center' to={routes.DASHBOARD}>\n\t\t\t\t\t\t<img src='/logo.jpg' alt='EMC' className='shadow border rounded-circle' style={{ height: '50px', width: '50px' }} />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t<ul className='navbar-nav flex-fill w-100 mb-2'>\n\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t<Link to={url('')} className='nav-link' activeClassName='active' exact>\n\t\t\t\t\t\t\t<i className='fe fe-home fe-16'></i>\n\t\t\t\t\t\t\t<span className='ml-3 item-text'>Dashboard</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t{roles[user.role].includes(routes.COURSES) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.COURSES)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-navigation fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Courses</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{user.role !== 'Student' ? (\n\t\t\t\t\t\t<li className='nav-item dropdown'>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref='/users'\n\t\t\t\t\t\t\t\tclassName='dropdown-toggle nav-link collapsed'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t$('#users').collapse('toggle');\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Users</span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<ul className='collapse list-unstyled pl-4 w-100' id='users'>\n\t\t\t\t\t\t\t\t{roles[user.role].includes(routes.STUDENTS) ? (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link to={url(routes.STUDENTS)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\n\t\t\t\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Students</span>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{roles[user.role].includes(routes.TEACHERS) ? (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link to={url(routes.TEACHERS)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\n\t\t\t\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Teachers</span>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{roles[user.role].includes(routes.REGISTRARS) ? (\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t\t\t<Link to={url(routes.REGISTRARS)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\n\t\t\t\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Registrars</span>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.MAILS) ? (\n\t\t\t\t\t\t<li className='nav-item d-none'>\n\t\t\t\t\t\t\t<Link to={url(routes.MAILS)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-mail fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Email Outbox</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.SUBJECTS) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.SUBJECTS)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-book fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Subjects</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.SCHEDULES) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.SCHEDULES)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-calendar fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Schedules</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.ADMISSIONS) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.ADMISSIONS)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-pen-tool fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>\n\t\t\t\t\t\t\t\t\tAdmissions\n\t\t\t\t\t\t\t\t\t{admissions &&\n\t\t\t\t\t\t\t\t\tadmissions.filter(\n\t\t\t\t\t\t\t\t\t\t(admission) => admission.year?.current && !admission.done && !admission.student?.active\n\t\t\t\t\t\t\t\t\t).length > 0 ? (\n\t\t\t\t\t\t\t\t\t\t<span className='ml-1 badge badge-danger'>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tadmissions.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(admission) => admission.year?.current && !admission.done && !admission.student?.active\n\t\t\t\t\t\t\t\t\t\t\t\t).length\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.ADMISSION_REQUIREMENTS) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.ADMISSION_REQUIREMENTS)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-clipboard fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Admission Requirements</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.YEARS) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.YEARS)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-calendar fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>School Years</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.GRADES) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.GRADES)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-bookmark fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Grades</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.ENROLLMENT) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.ENROLLMENT)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-book-open fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Enrollment</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.PROFILE) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.PROFILE)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-user fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Profile</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t{roles[user.role].includes(routes.LOGS) ? (\n\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t<Link to={url(routes.LOGS)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t\t<i className='fe fe-book fe-16'></i>\n\t\t\t\t\t\t\t\t<span className='ml-3 item-text'>Logs</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t<Link to={url(routes.CHANGE_PASSWORD)} className='nav-link' activeClassName='active'>\n\t\t\t\t\t\t\t<i className='fe fe-key fe-16'></i>\n\t\t\t\t\t\t\t<span className='ml-3 item-text'>Change Password</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<p id='account-role-display'>\n\t\t\t\t\tSigned in as: <b>{user?.role}</b>\n\t\t\t\t</p>\n\t\t\t</nav>\n\t\t</aside>\n\t);\n};\n\nexport default Sidebar;\n","import { SubjectContract } from '../Contracts/subject.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class SubjectService extends Service<SubjectContract> {}\n\nexport const subjectService = new SubjectService('/subjects');\n","import axios from 'axios';\nimport React, { createRef, FC, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { UserContract } from '../../../Contracts/user.contract';\nimport { Asker, handleError } from '../../../helpers';\nimport { useArray } from '../../../hooks';\nimport { State } from '../../../Libraries/State';\nimport { subjectService } from '../../../Services/subject.service';\nimport { userService } from '../../../Services/user.service';\n\ntype Props = {};\n\nconst Enrollment: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [print, setPrint] = useState(false);\n\tconst state = State.getInstance();\n\tconst temp = state.get<UserContract>('user');\n\tconst [selected, setSelected] = useArray<number>();\n\tconst [enrolled, setEnrolled] = useArray<number>();\n\tconst { data: user } = useQuery(['user', temp?.id], () => userService.fetchOne(temp?.id), {\n\t\tonSuccess(user) {\n\t\t\tif (!user.active) {\n\t\t\t\ttoastr.info('Your account is currently inactive. Please settle your payment to be reactivated by the registrar.');\n\t\t\t}\n\t\t\tsetEnrolled(user.subjects?.map((subject) => subject.id!)!);\n\t\t},\n\t});\n\tconst ref = createRef<HTMLDivElement>();\n\tconst { data: subjects } = useQuery('subjects', () => subjectService.fetch());\n\tconst [selectAll, setSelectAll] = useState(false);\n\n\tconst add = (value: number) => {\n\t\tselected.push(value);\n\t\tsetSelected([...selected]);\n\t};\n\n\tconst remove = (value: number) => {\n\t\tconst index = selected.findIndex((number) => number === value);\n\t\tselected.splice(index, 1);\n\t\tsetSelected([...selected]);\n\t};\n\n\tconst admission = user?.admissions?.find((admission) => admission.year?.current);\n\n\tconst submit = async () => {\n\t\tif (!user?.active) {\n\t\t\treturn;\n\t\t}\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tif (await Asker.notice(\"If you continue you can't edit the selected subjects.\")) {\n\t\t\t\tawait axios.post(`/users/${user?.id}/subjects`, {\n\t\t\t\t\tsubjects: selected,\n\t\t\t\t});\n\t\t\t\ttoastr.success('Subjects enrolled successfully.');\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tif (!user || !admission) {\n\t\treturn null;\n\t}\n\n\tif (!user.active) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div ref={ref} className='container'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12 col-md-8 offset-md-2 text-center'>\n\t\t\t\t\t<h4>EASTERN MINDORO COLLEGE</h4>\n\t\t\t\t\t<p>Bongabong, Oriental Mindoro</p>\n\t\t\t\t\t<h6>College Enrollment Slip</h6>\n\t\t\t\t\t<p style={{ fontSize: '1.5rem' }}>{admission?.course?.description}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='d-flex mt-5'>\n\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t<b>Name:</b> {user.last_name}, {user.first_name} {user.middle_name || ''}\n\t\t\t\t</span>\n\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t<b>Semester:</b> {admission.term}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className='d-flex'>\n\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t<b>Year Level:</b> {admission.level}\n\t\t\t\t</span>\n\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t<b>Status: </b> {admission.status}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className='d-flex mt-3'>\n\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t<b>Student Number:</b> {user.uuid}\n\t\t\t\t</span>\n\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t<b>Year:</b> {admission.year?.start} - {admission.year?.end}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className='d-flex mt-2'>\n\t\t\t\t<button\n\t\t\t\t\tclassName={`btn btn-${!selectAll ? 'secondary' : 'danger'} btn-sm`}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tif (subjects) {\n\t\t\t\t\t\t\tif (!selectAll) {\n\t\t\t\t\t\t\t\tconst non = subjects\n\t\t\t\t\t\t\t\t\t.filter((subject) => {\n\t\t\t\t\t\t\t\t\t\tif (!print) {\n\t\t\t\t\t\t\t\t\t\t\tconst valid =\n\t\t\t\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\n\t\t\t\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\n\t\t\t\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id;\n\t\t\t\t\t\t\t\t\t\t\tif (admission.major_id) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn valid && admission.major_id === subject.major_id;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tconst valid =\n\t\t\t\t\t\t\t\t\t\t\tenrolled.includes(subject.id!) &&\n\t\t\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\n\t\t\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\n\t\t\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id;\n\t\t\t\t\t\t\t\t\t\tif (admission.major_id) {\n\t\t\t\t\t\t\t\t\t\t\treturn valid && admission.major_id === subject.major_id;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.filter((subject) => {\n\t\t\t\t\t\t\t\t\t\treturn admission.term === subject.term && admission.level === subject.level;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.filter((subject) => !enrolled.includes(subject.id!));\n\t\t\t\t\t\t\t\tsetSelected([...selected, ...non.map((subject) => subject.id!)]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetSelected([]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetSelectAll(!selectAll);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}>\n\t\t\t\t\t{!selectAll ? 'Select All' : 'Unselect All'}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<form\n\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsubmit();\n\t\t\t\t}}\n\t\t\t\tclassName='table-responsive'>\n\t\t\t\t<table className='table table-bordered mt-3 w-100' style={{ display: 'table' }}>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t<th>Subject Code</th>\n\t\t\t\t\t\t\t<th>Description</th>\n\t\t\t\t\t\t\t<th>Units</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{subjects\n\t\t\t\t\t\t\t?.filter((subject) => {\n\t\t\t\t\t\t\t\tif (!print) {\n\t\t\t\t\t\t\t\t\tconst valid =\n\t\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\n\t\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\n\t\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id;\n\t\t\t\t\t\t\t\t\tif (admission.major_id) {\n\t\t\t\t\t\t\t\t\t\treturn valid && admission.major_id === subject.major_id;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst valid =\n\t\t\t\t\t\t\t\t\tenrolled.includes(subject.id!) &&\n\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\n\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\n\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id;\n\t\t\t\t\t\t\t\tif (admission.major_id) {\n\t\t\t\t\t\t\t\t\treturn valid && admission.major_id === subject.major_id;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.filter((subject) => {\n\t\t\t\t\t\t\t\treturn admission.term === subject.term && admission.level === subject.level;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.map((subject, index) => (\n\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\t\t\t\tchecked={selected.find((id) => subject.id === id) !== undefined}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing || enrolled.includes(subject.id!)}\n\t\t\t\t\t\t\t\t\t\t\tvalue={subject.id}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\t\t\t\tif (selected.includes(id)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tremove(id);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tadd(id);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{!print ? (\n\t\t\t\t\t\t\t\t\t\t\t<sup className='ml-1'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i>{enrolled.includes(subject.id!) ? 'Enrolled' : ''}</i>\n\t\t\t\t\t\t\t\t\t\t\t</sup>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>{subject.code}</td>\n\t\t\t\t\t\t\t\t\t<td>{subject.description}</td>\n\t\t\t\t\t\t\t\t\t<td>{subject.units}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td style={{ maxWidth: '30px' }}>Total Units</td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{subjects\n\t\t\t\t\t\t\t\t\t?.filter((subject) => {\n\t\t\t\t\t\t\t\t\t\tif (!print) {\n\t\t\t\t\t\t\t\t\t\t\treturn selected.includes(subject.id!) || enrolled.includes(subject.id!);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn enrolled.includes(subject.id!);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.reduce((previous, next) => next.units.toNumber() + previous, 0)}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<div className='form-group mt-2 d-flex'>\n\t\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm' disabled={processing}>\n\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t$('#leftSidebar').addClass('d-none');\n\t\t\t\t\t\t\t\t$('.topnav').addClass('d-none');\n\t\t\t\t\t\t\t\t$('input').addClass('d-none');\n\t\t\t\t\t\t\t\t$('button').addClass('d-none');\n\t\t\t\t\t\t\t\tsetPrint(true);\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\twindow.print();\n\t\t\t\t\t\t\t\t\t$('#leftSidebar').removeClass('d-none');\n\t\t\t\t\t\t\t\t\t$('.topnav').removeClass('d-none');\n\t\t\t\t\t\t\t\t\t$('input').removeClass('d-none');\n\t\t\t\t\t\t\t\t\t$('button').removeClass('d-none');\n\t\t\t\t\t\t\t\t\tsetPrint(false);\n\t\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tDownload\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default Enrollment;\n","import axios from 'axios';\nimport React, { FC, Fragment, useEffect } from 'react';\nimport { AdmissionContract } from '../../../Contracts/admission.contract';\nimport { UserContract } from '../../../Contracts/user.contract';\nimport { handleError } from '../../../helpers';\nimport { useArray } from '../../../hooks';\nimport { State } from '../../../Libraries/State';\n\ntype Props = {};\n\nconst Grades: FC<Props> = (props) => {\n\tconst state = State.getInstance();\n\tconst user = state.get<UserContract>('user');\n\tconst [admissions, setAdmissions] = useArray<AdmissionContract>();\n\n\tconst fetch = async () => {\n\t\ttry {\n\t\t\tconst { data: admissions } = await axios.get<AdmissionContract[]>('/auth/admissions');\n\t\t\tsetAdmissions(admissions);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tfetch();\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\tif (!user) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12 col-md-6 offset-md-3 text-center'>\n\t\t\t\t\t<h4>EASTERN MINDORO COLLEGE</h4>\n\t\t\t\t\t<p>Bongabong, Oriental Mindoro</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{admissions.map((admission, index) => (\n\t\t\t\t<Fragment key={index}>\n\t\t\t\t\t<div className='d-flex mt-5'>\n\t\t\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t\t\t<b>Name:</b> {user.last_name}, {user.first_name} {user.middle_name || ''}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t\t\t<b>Semester:</b> {admission.term}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t\t\t<b>Year Level:</b> {admission.level}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t\t\t<b>Status: </b> {admission.status}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='d-flex mt-3'>\n\t\t\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t\t\t<b>Student Number:</b> {user.uuid}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t\t\t<b>Year:</b> {admission.year?.start} - {admission.year?.end}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<table className='table table-bordered mt-3'>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Subject Code</th>\n\t\t\t\t\t\t\t\t<th>Description</th>\n\t\t\t\t\t\t\t\t<th>Units</th>\n\t\t\t\t\t\t\t\t<th>Grades</th>\n\t\t\t\t\t\t\t\t<th>Grade Status</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{admission.student?.grades?.map((grade, index) => (\n\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t<td>{grade.subject?.code}</td>\n\t\t\t\t\t\t\t\t\t<td style={{ minWidth: '100px' }}>{grade.subject?.description}</td>\n\t\t\t\t\t\t\t\t\t<td>{grade.subject?.units}</td>\n\t\t\t\t\t\t\t\t\t<td>{grade.grade}</td>\n\t\t\t\t\t\t\t\t\t<td>{grade.status}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<b>Total Units</b>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t<td>{admission.student?.grades?.reduce((previous, next) => previous + next.grade, 0)}</td>\n\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</Fragment>\n\t\t\t))}\n\t\t</div>\n\t);\n};\n\nexport default Grades;\n","import axios from 'axios';\nimport dayjs from 'dayjs';\nimport React, { FC, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { UserContract } from '../../../Contracts/user.contract';\nimport { handleError } from '../../../helpers';\nimport { State } from '../../../Libraries/State';\n\ntype Props = {};\n\ntype Inputs = {\n\tuuid: string;\n\tfirst_name: string;\n\tlast_name: string;\n\tmiddle_name?: string;\n\tgender?: string;\n\taddress?: string;\n\tplace_of_birth?: string;\n\tbirthday?: string;\n\trole: string;\n\temail: string;\n\tnumber: string;\n\tactive: boolean;\n\tpassword: string;\n\tfathers_name?: string;\n\tmothers_name?: string;\n\tfathers_occupation?: string;\n\tmothers_occupation?: string;\n};\n\nconst Profile: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst state = State.getInstance();\n\tconst user = state.get<UserContract>('user');\n\tconst { register, handleSubmit } = useForm<Inputs>({\n\t\tdefaultValues: {\n\t\t\t...user,\n\t\t},\n\t});\n\n\tconst submit = async (data: Inputs) => {\n\t\tif (!user?.active) {\n\t\t\treturn;\n\t\t}\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.post('/auth/profile', data);\n\t\t\ttoastr.success('Profile updated successfully.');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tif (!user) {\n\t\treturn null;\n\t}\n\n\tif (!user.active) {\n\t\ttoastr.info('Your account is currently inactive. Profile changes will not be saved.');\n\t}\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t<form className='row' onSubmit={handleSubmit(submit)}>\n\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className='col-3 my-2'>Student Number</div>\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\n\t\t\t\t\t\t\t<b>{user.uuid}</b>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Name</div>\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\n\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t{user.last_name}, {user.first_name} {user.middle_name || ''}\n\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Gender</div>\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\n\t\t\t\t\t\t\t<b>{user.gender}</b>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Date of Birth</div>\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\n\t\t\t\t\t\t\t<b>{dayjs(user.birthday).format('MMMM DD, YYYY')}</b>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Place of Birth</div>\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\n\t\t\t\t\t\t\t<input {...register('place_of_birth')} type='text' className='form-control' disabled={processing} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 col-md-6'>\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Address</div>\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\n\t\t\t\t\t\t\t<input {...register('address')} type='text' className='form-control' disabled={processing} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Mobile Number</div>\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t{...register('number')}\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tpattern='09[0-9]{2}-[0-9]{3}-[0-9]{4}'\n\t\t\t\t\t\t\t\tplaceholder='0912-345-6789'\n\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-3 my-2 d-flex align-items-center'>Email Address</div>\n\t\t\t\t\t\t<div className='col-9 my-2 d-flex align-items-center'>\n\t\t\t\t\t\t\t<input {...register('email')} type='email' className='form-control' disabled={processing} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='col-12 text-center pt-5'>\n\t\t\t\t\t<button type='submit' className='btn btn-info btn-sm' disabled={processing}>\n\t\t\t\t\t\tSave\n\t\t\t\t\t</button>\n\t\t\t\t\t<p className='my-3'>\n\t\t\t\t\t\t<i>I hereby certify that all of the information provided are true and correct to the best of my knowledge.</i>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default Profile;\n","import { LogContract } from '../Contracts/log.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class LogService extends Service<LogContract> {}\n\nexport const logService = new LogService('/logs');\n","import dayjs from 'dayjs';\nimport React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { handleError } from '../../helpers';\nimport { logService } from '../../Services/log.service';\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('logs', () => logService.fetch());\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'ID',\n\t\t\taccessor: 'id',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Message',\n\t\t\taccessor: 'message',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Date',\n\t\t\taccessor: 'created_at',\n\t\t},\n\t];\n\n\treturn (\n\t\t<Table\n\t\t\tonRefresh={() => refetch()}\n\t\t\ttitle='Logs'\n\t\t\tloading={loading}\n\t\t\titems={\n\t\t\t\titems?.map((log) => ({\n\t\t\t\t\t...log,\n\t\t\t\t\tcreated_at: dayjs(log.created_at).format('MMMM DD, YYYY hh:mm A'),\n\t\t\t\t})) || []\n\t\t\t}\n\t\t\tcolumns={columns}\n\t\t/>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport List from './List';\n\ntype Props = {};\n\nconst Logs: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Logs;\n","import { MailContract } from '../Contracts/mail.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class MailService extends Service<MailContract> {}\n\nexport const mailService = new MailService('/mails');\n","import dayjs from 'dayjs';\nimport React, { createRef, FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { FreeObject } from '../../Contracts/misc';\nimport { handleError } from '../../helpers';\nimport { mailService } from '../../Services/mail.service';\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst colors: FreeObject = {\n\tSent: 'success',\n\tPending: 'warning',\n\tFailed: 'danger',\n};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('mails', () => mailService.fetch());\n\tconst modalRef = createRef<HTMLDivElement>();\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Table\n\t\t\t\tonRefresh={() => refetch()}\n\t\t\t\ttitle='Email Outbox'\n\t\t\t\tloading={loading}\n\t\t\t\titems={\n\t\t\t\t\titems?.map((mail) => ({\n\t\t\t\t\t\t...mail,\n\t\t\t\t\t\tcreated_at: dayjs(mail.created_at).format('MMMM DD, YYYY hh:mm A'),\n\t\t\t\t\t\tstatus: <span className={`badge badge-${colors[mail.status]}`}>{mail.status}</span>,\n\t\t\t\t\t\tsent: mail.sent ? dayjs(mail.sent).format('MMMM DD, YYYY hh:mm A') : '',\n\t\t\t\t\t\tactions: (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm mx-1'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tif (modalRef.current) {\n\t\t\t\t\t\t\t\t\t\t\tconst modal = $(modalRef.current);\n\n\t\t\t\t\t\t\t\t\t\t\tmodal.find('.modal-body').html(mail.body);\n\t\t\t\t\t\t\t\t\t\t\tmodal.find('#password').addClass('d-none');\n\t\t\t\t\t\t\t\t\t\t\tmodal.modal('show');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t),\n\t\t\t\t\t})) || []\n\t\t\t\t}\n\t\t\t\tcolumns={[\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Created',\n\t\t\t\t\t\taccessor: 'created_at',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'To',\n\t\t\t\t\t\taccessor: 'to',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Subject',\n\t\t\t\t\t\taccessor: 'subject',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Status',\n\t\t\t\t\t\taccessor: 'status',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Sent',\n\t\t\t\t\t\taccessor: 'sent',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Actions',\n\t\t\t\t\t\taccessor: 'actions',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t/>\n\t\t\t<div ref={modalRef} className='modal fade' tabIndex={-1}>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title'>View Mail</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body'></div>\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { RouteProps, Switch, Route } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport List from './List';\n\ntype Props = {};\n\nconst Mails: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Mails;\n","import React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { Asker, handleError, setValues } from '../../helpers';\nimport { useMode, useNullable } from '../../hooks';\nimport { userService } from '../../Services/user.service';\nimport Flatpickr from 'react-flatpickr';\nimport dayjs from 'dayjs';\nimport InputMask from 'react-input-mask';\n\ntype Props = {};\n\ntype Inputs = {\n\tuuid: string;\n\tfirst_name: string;\n\tlast_name: string;\n\tmiddle_name?: string;\n\tgender?: string;\n\taddress?: string;\n\tplace_of_birth?: string;\n\tbirthday?: string;\n\trole: string;\n\temail: string;\n\tnumber: string;\n\tactive: boolean;\n\tpassword: string;\n\tfathers_name?: string;\n\tmothers_name?: string;\n\tfathers_occupation?: string;\n\tmothers_occupation?: string;\n\tforce: boolean;\n};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useMode();\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\n\t\tdefaultValues: {\n\t\t\tforce: false,\n\t\t},\n\t});\n\tconst [birthday, setBirthday] = useNullable<Date>();\n\tconst [id, setID] = useState(-1);\n\tconst history = useHistory();\n\tconst match = useRouteMatch<{ id: string }>();\n\tconst [number, setNumber] = useState('');\n\n\tconst fetch = async (id: any) => {\n\t\ttry {\n\t\t\tconst data = await userService.fetchOne(id);\n\t\t\tsetID(data.id!);\n\t\t\tsetValues(setValue, data);\n\t\t\tsetBirthday(dayjs(data.birthday).toDate());\n\t\t\tsetNumber(data.number);\n\t\t\tsetMode('Edit');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst submit = async (data: Inputs) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tdata.role = 'Registrar';\n\t\t\tdata.active = true;\n\t\t\tdata.birthday = birthday?.toJSON();\n\t\t\tdata.number = number;\n\t\t\tawait (mode === 'Add' ? userService.create(data) : userService.update(id, data));\n\t\t\ttoastr.success('Registrar has been saved successfully.');\n\t\t\treset();\n\t\t\tsetBirthday(null);\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 409) {\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\n\t\t\t\t\tdata.force = true;\n\t\t\t\t\tawait submit(data);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandleError(error);\n\t\t\t}\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (match.path.includes('edit')) {\n\t\t\tfetch(match.params.id);\n\t\t} else {\n\t\t\tuserService.fetch().then((users) => {\n\t\t\t\tsetValue(\n\t\t\t\t\t'uuid',\n\t\t\t\t\t`registrar-${`${users.filter((user) => user.role === 'Registrar').length + 1}`.padStart(\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t'0'\n\t\t\t\t\t)}-${new Date().getFullYear()}`\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<h5 className='card-title'>{mode} Registrar</h5>\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t<div className='form-row'>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='first_name'>First Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('first_name')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='first_name'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='uuid'>Registrar Number</label>\n\t\t\t\t\t\t\t\t<input {...register('uuid')} type='text' id='uuid' className='form-control' disabled />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='last_name'>Last Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('last_name')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='last_name'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email Address</label>\n\t\t\t\t\t\t\t\t<input {...register('email')} type='email' id='email' className='form-control' disabled={processing} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='gender'>Gender</label>\n\t\t\t\t\t\t\t\t<select {...register('gender')} id='gender' className='form-control'>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t<option value='Male'>Male</option>\n\t\t\t\t\t\t\t\t\t<option value='Female'>Female</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='number'>Phone Number</label>\n\t\t\t\t\t\t\t\t<InputMask\n\t\t\t\t\t\t\t\t\tmask='0\\999-999-9999'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='number'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={number}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='birthday'>Birthday</label>\n\t\t\t\t\t\t\t\t<Flatpickr\n\t\t\t\t\t\t\t\t\tvalue={birthday || undefined}\n\t\t\t\t\t\t\t\t\tid='birthday'\n\t\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\t\tmaxDate: dayjs()\n\t\t\t\t\t\t\t\t\t\t\t.year(new Date().getFullYear() - 15)\n\t\t\t\t\t\t\t\t\t\t\t.toDate(),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tsetBirthday(dates[0]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='address'>Address</label>\n\t\t\t\t\t\t\t\t<input {...register('address')} type='text' id='address' className='form-control' disabled={processing} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t\t\t<i className='ml-auto'>Account credentials will be sent via email.</i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\n\t\t\t\t\t\t\t\tReturn\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import dayjs from 'dayjs';\nimport React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError, Asker } from '../../helpers';\nimport { useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { userService } from '../../Services/user.service';\n\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('users', () => userService.fetch());\n\n\tconst url = useURL();\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst deleteItem = async (id: any) => {\n\t\ttry {\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Registrar?')) {\n\t\t\t\tawait userService.delete(id);\n\t\t\t\ttoastr.info('Registrar has been deleted.', 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst update = async (registrar: UserContract) => {\n\t\ttry {\n\t\t\tawait userService.update(registrar.id, { active: !registrar.active });\n\t\t\ttoastr.success(`Registrar ${registrar.active ? 'disabled' : 'enabled'} successfully.`);\n\t\t\trefetch();\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'Registrar #',\n\t\t\taccessor: 'uuid',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Name',\n\t\t\taccessor: 'name',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Phone Number',\n\t\t\taccessor: 'number',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Status',\n\t\t\taccessor: 'status',\n\t\t},\n\t];\n\n\tif (user?.role === 'Admin') {\n\t\tcolumns.push({ title: 'Actions', accessor: 'actions' });\n\t}\n\n\treturn (\n\t\t<Table\n\t\t\tonRefresh={() => refetch()}\n\t\t\ttitle='Registrars'\n\t\t\tloading={loading}\n\t\t\titems={\n\t\t\t\titems\n\t\t\t\t\t?.filter((user) => user.role === 'Registrar')\n\t\t\t\t\t.map((registrar) => ({\n\t\t\t\t\t\t...registrar,\n\t\t\t\t\t\tname: (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{registrar.last_name}, {registrar.first_name} {registrar.middle_name || ''}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tbirthday: dayjs(registrar.birthday).format('MMMM DD, YYYY'),\n\t\t\t\t\t\tage: new Date().getFullYear() - dayjs(registrar.birthday).year(),\n\t\t\t\t\t\tstatus: registrar.active ? (\n\t\t\t\t\t\t\t<span className='badge badge-success'>Active</span>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span className='badge badge-danger'>Inactive</span>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tactions: (\n\t\t\t\t\t\t\t<div style={{ minWidth: '100px' }}>\n\t\t\t\t\t\t\t\t<Link to={url(`${registrar.id}/edit`)} className='btn btn-warning btn-sm mx-1' title='Edit'>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-${registrar.active ? 'danger' : 'info'} btn-sm mx-1`}\n\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\tawait Asker.notice(\n\t\t\t\t\t\t\t\t\t\t\t\t`Are you sure you want to ${registrar.active ? 'disable' : 'enable'} this registrar?`\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\tupdate(registrar);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttitle={registrar.active ? 'Disable' : 'Enable'}>\n\t\t\t\t\t\t\t\t\t<i className={`fas fa-user-${registrar.active ? 'times' : 'check'}`}></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1 d-none'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tdeleteItem(registrar.id);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t),\n\t\t\t\t\t})) || []\n\t\t\t}\n\t\t\tcolumns={columns}\n\t\t\tbuttons={\n\t\t\t\t<>\n\t\t\t\t\t{user?.role === 'Admin' ? (\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport Form from './Form';\nimport List from './List';\n\ntype Props = {};\n\nconst Registrars: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t\t{\n\t\t\tpath: url('/add'),\n\t\t\tcomponent: Form,\n\t\t},\n\t\t{\n\t\t\tpath: url('/:id/edit'),\n\t\t\tcomponent: Form,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Registrars;\n","import { RequirementContract } from '../Contracts/requirement.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class RequirementService extends Service<RequirementContract> {}\n\nexport const requirementService = new RequirementService('/requirements');\n","import React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { RequirementContract } from '../../Contracts/requirement.contract';\nimport { handleError, setValues } from '../../helpers';\nimport { useMode } from '../../hooks';\nimport { requirementService } from '../../Services/requirement.service';\n\ntype Props = {};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useMode();\n\tconst { register, setValue, handleSubmit, reset } = useForm<RequirementContract>();\n\tconst [id, setID] = useState(-1);\n\tconst history = useHistory();\n\tconst match = useRouteMatch<{ id: string }>();\n\n\tconst fetch = async (id: any) => {\n\t\ttry {\n\t\t\tconst data = await requirementService.fetchOne(id);\n\t\t\tsetID(data.id!);\n\t\t\tsetValues(setValue, data);\n\t\t\tsetMode('Edit');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst submit = async (data: RequirementContract) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait (mode === 'Add' ? requirementService.create(data) : requirementService.update(id, data));\n\t\t\ttoastr.success('Requirement has been saved successfully.');\n\t\t\treset();\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (match.path.includes('edit')) {\n\t\t\tfetch(match.params.id);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<h5 className='card-title'>{mode} Requirement</h5>\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<label htmlFor='name'>Name</label>\n\t\t\t\t\t\t\t<input {...register('name')} type='text' id='code' className='form-control' disabled={processing} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group d-flex'>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\n\t\t\t\t\t\t\t\tReturn\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import dayjs from 'dayjs';\nimport React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError, Asker } from '../../helpers';\nimport { useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { requirementService } from '../../Services/requirement.service';\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('requirements', () => requirementService.fetch());\n\n\tconst url = useURL();\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst deleteItem = async (id: any) => {\n\t\ttry {\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Requirement?')) {\n\t\t\t\tawait requirementService.delete(id);\n\t\t\t\ttoastr.info('Requirement has been deleted.', 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'ID',\n\t\t\taccessor: 'id',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Name',\n\t\t\taccessor: 'name',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Created',\n\t\t\taccessor: 'created_at',\n\t\t},\n\t];\n\n\tif (user?.role === 'Registrar') {\n\t\tcolumns.push({\n\t\t\ttitle: 'Actions',\n\t\t\taccessor: 'actions',\n\t\t});\n\t}\n\n\treturn (\n\t\t<Table\n\t\t\tonRefresh={() => refetch()}\n\t\t\ttitle='Requirements'\n\t\t\tloading={loading}\n\t\t\titems={\n\t\t\t\titems?.map((requirement) => ({\n\t\t\t\t\t...requirement,\n\t\t\t\t\tcreated_at: dayjs(requirement.created_at).format('MMMM DD, YYYY hh:mm A'),\n\t\t\t\t\tactions:\n\t\t\t\t\t\tuser?.role === 'Registrar' ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Link to={url(`${requirement.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tdeleteItem(requirement.id);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : null,\n\t\t\t\t})) || []\n\t\t\t}\n\t\t\tcolumns={columns}\n\t\t\tbuttons={\n\t\t\t\t<>\n\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport Form from './Form';\nimport List from './List';\n\ntype Props = {};\n\nconst Requirements: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t\t{\n\t\t\tpath: url('/add'),\n\t\t\tcomponent: Form,\n\t\t},\n\t\t{\n\t\t\tpath: url('/:id/edit'),\n\t\t\tcomponent: Form,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Requirements;\n","import { ScheduleContract } from '../Contracts/schedule.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class ScheduleService extends Service<ScheduleContract> {}\n\nexport const scheduleService = new ScheduleService('/schedules');\n","import React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useQuery } from 'react-query';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { ScheduleRow } from '../../Contracts/schedule.contract';\nimport { Asker, handleError, setValues } from '../../helpers';\nimport { useArray, useMode, useNullable } from '../../hooks';\nimport { courseService } from '../../Services/course.service';\nimport { scheduleService } from '../../Services/schedule.service';\nimport { subjectService } from '../../Services/subject.service';\nimport { userService } from '../../Services/user.service';\nimport Flatpickr from 'react-flatpickr';\nimport dayjs from 'dayjs';\nimport { yearService } from '../../Services/year.service';\nimport { CourseContract } from '../../Contracts/course.contract';\nimport { MajorContract } from '../../Contracts/major.contract';\nimport { UserContract } from '../../Contracts/user.contract';\n\ntype Props = {};\n\ntype Inputs = {\n\tcourse_id: number;\n\tsubject_id: number;\n\tteacher_id: number;\n\tyear: string;\n\tyear_id: number;\n\tmajor_id?: number;\n\tpayload: ScheduleRow[];\n\tforce: boolean;\n};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useMode();\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\n\t\tdefaultValues: {\n\t\t\tforce: false,\n\t\t},\n\t});\n\tconst [course, setCourse] = useNullable<CourseContract>();\n\tconst [major, setMajor] = useNullable<MajorContract>();\n\tconst [teacher, setTeacher] = useNullable<UserContract>();\n\tconst [rows, setRows] = useArray<ScheduleRow>([\n\t\t{\n\t\t\tday: '',\n\t\t\tstart_time: null,\n\t\t\tend_time: null,\n\t\t},\n\t]);\n\tconst [id, setID] = useState(-1);\n\tconst history = useHistory();\n\tconst match = useRouteMatch<{ id: string }>();\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\n\tconst { data: users } = useQuery('users', () => userService.fetch());\n\tconst { data: subjects } = useQuery('subjects', () => subjectService.fetch());\n\tconst { data: years } = useQuery('years', () => yearService.fetch());\n\n\tconst fetch = async (id: any) => {\n\t\ttry {\n\t\t\tconst data = await scheduleService.fetchOne(id);\n\t\t\tsetID(data.id!);\n\t\t\tsetMode('Edit');\n\t\t\tsetValues(setValue, data);\n\t\t\tsetRows([...data.payload]);\n\t\t\tsetCourse(data.course!);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst submit = async (data: Inputs) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst year = years?.find((year) => year.current);\n\t\t\tif (year) {\n\t\t\t\tdata.year_id = year.id!;\n\t\t\t} else {\n\t\t\t\treturn toastr.error('A School Year is not set, please create/make one as current.');\n\t\t\t}\n\t\t\tdata.payload = rows;\n\t\t\tawait (mode === 'Add' ? scheduleService.create(data) : scheduleService.update(id, data));\n\t\t\ttoastr.success('Schedule has been saved successfully.');\n\t\t\treset();\n\t\t\tsetRows([]);\n\t\t\tsetCourse(null);\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 409) {\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\n\t\t\t\t\tdata.force = true;\n\t\t\t\t\tawait submit(data);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandleError(error);\n\t\t\t}\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (match.path.includes('edit')) {\n\t\t\tfetch(match.params.id);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<h5 className='card-title'>{mode} Schedule</h5>\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t<div className='form-row'>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='course_id'>Course</label>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t{...register('course_id')}\n\t\t\t\t\t\t\t\t\tid='course_id'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\n\t\t\t\t\t\t\t\t\t\tif (course) {\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(course);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(null);\n\t\t\t\t\t\t\t\t\t\t\tsetMajor(null);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t{courses?.map((course, index) => (\n\t\t\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{course.code}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='teacher_id'>Teacher</label>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t{...register('teacher_id')}\n\t\t\t\t\t\t\t\t\tid='teacher_id'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\t\tconst teacher = users?.find((user) => user.role === 'Teacher' && user.id === id);\n\t\t\t\t\t\t\t\t\t\tif (teacher) {\n\t\t\t\t\t\t\t\t\t\t\tsetTeacher(teacher);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetTeacher(null);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t{users\n\t\t\t\t\t\t\t\t\t\t?.filter((user) => user.role === 'Teacher')\n\t\t\t\t\t\t\t\t\t\t.map((teacher, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option value={teacher.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{teacher.last_name}, {teacher.first_name} {teacher.middle_name || ''}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{course && course.majors && course.majors.length > 0 ? (\n\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='major_id'>Major</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t{...register('major_id')}\n\t\t\t\t\t\t\t\t\t\tid='major_id'\n\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\t\t\tconst major = course?.majors?.find((major) => major.id === id);\n\t\t\t\t\t\t\t\t\t\t\tif (major) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetMajor(major);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsetMajor(null);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t\t{course.majors.map((major, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{major.name}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className={`form-group col-12 col-md-6 ${course && course.majors && course.majors.length > 0 ? '' : ''}`}>\n\t\t\t\t\t\t\t\t<label htmlFor='subject_id'>Subject</label>\n\t\t\t\t\t\t\t\t<select {...register('subject_id')} id='subject_id' className='form-control'>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t{subjects\n\t\t\t\t\t\t\t\t\t\t?.filter((subject) => {\n\t\t\t\t\t\t\t\t\t\t\tconst valid =\n\t\t\t\t\t\t\t\t\t\t\t\tsubject.schedules?.find((schedule) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (course && major && teacher) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.teacher_id === teacher.id &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.course_id === course.id &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.major_id === major.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t\t\t\t}) === undefined;\n\t\t\t\t\t\t\t\t\t\t\tif (mode === 'Add') {\n\t\t\t\t\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn valid || subject.id === id;\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.filter((subject) => {\n\t\t\t\t\t\t\t\t\t\t\tif (course && major) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn subject.course_id === course.id && subject.major_id === major.id;\n\t\t\t\t\t\t\t\t\t\t\t} else if (course) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn subject.course_id === course.id;\n\t\t\t\t\t\t\t\t\t\t\t} else if (major) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn subject.major_id === major.id;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.map((subject, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option value={subject.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{subject.description}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='year'>Year Level</label>\n\t\t\t\t\t\t\t\t<select {...register('year')} id='year' className='form-control'>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t<option value='1st'>1st</option>\n\t\t\t\t\t\t\t\t\t<option value='2nd'>2nd</option>\n\t\t\t\t\t\t\t\t\t<option value='3rd'>3rd</option>\n\t\t\t\t\t\t\t\t\t<option value='4th'>4th</option>\n\t\t\t\t\t\t\t\t\t<option value='5th'>5th</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm mt-2 mb-4'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\trows.push({ day: '', start_time: null, end_time: null });\n\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tAdd Row\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<table className='table'>\n\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<th>Day</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>Start Time</th>\n\t\t\t\t\t\t\t\t\t\t\t<th>End Time</th>\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t{rows.map(({ day, start_time, end_time }, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={day}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows.splice(index, 1, { day: e.target.value, start_time, end_time });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Flatpickr\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={start_time ? dayjs(start_time).toDate() : undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableTime: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode: 'time',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taltFormat: 'G:i K',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taltInput: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows.splice(index, 1, { day, start_time: dates[0].toJSON(), end_time });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Flatpickr\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={end_time ? dayjs(end_time).toDate() : undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableTime: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode: 'time',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taltFormat: 'G:i K',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taltInput: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(dates) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows.splice(index, 1, { day, end_time: dates[0].toJSON(), start_time });\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trows.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetRows([...rows]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group d-flex'>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\n\t\t\t\t\t\t\t\tReturn\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import dayjs from 'dayjs';\nimport React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError, Asker } from '../../helpers';\nimport { useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { scheduleService } from '../../Services/schedule.service';\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('schedules', () => scheduleService.fetch());\n\n\tconst url = useURL();\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst deleteItem = async (id: any) => {\n\t\ttry {\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Schedule?')) {\n\t\t\t\tawait scheduleService.delete(id);\n\t\t\t\ttoastr.info('Schedule has been deleted.', 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'Course',\n\t\t\taccessor: 'course',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Subject',\n\t\t\taccessor: 'subject',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Teacher',\n\t\t\taccessor: 'teacher',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Year',\n\t\t\taccessor: 'year',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Times',\n\t\t\taccessor: 'times',\n\t\t},\n\t];\n\n\tif (user?.role === 'Registrar') {\n\t\tcolumns.push({\n\t\t\ttitle: 'Actions',\n\t\t\taccessor: 'actions',\n\t\t});\n\t}\n\n\treturn (\n\t\t<Table\n\t\t\tonRefresh={() => refetch()}\n\t\t\ttitle='Schedules'\n\t\t\tloading={loading}\n\t\t\titems={\n\t\t\t\titems?.map((schedule) => ({\n\t\t\t\t\t...schedule,\n\t\t\t\t\tsubject: schedule?.subject?.description,\n\t\t\t\t\tcourse: `${schedule.course?.code}${schedule.major ? ` - Major in ${schedule.major.name}` : ''}`,\n\t\t\t\t\tteacher: `${schedule.teacher?.last_name}, ${schedule.teacher?.first_name} ${schedule.teacher?.middle_name || ''}`,\n\t\t\t\t\ttimes: (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{schedule.payload.map((row, index) =>\n\t\t\t\t\t\t\t\trow.start_time && row.end_time ? (\n\t\t\t\t\t\t\t\t\t<span className='d-block' key={index}>\n\t\t\t\t\t\t\t\t\t\t{row.day} {dayjs(row.start_time).format('hh:mm A')} - {dayjs(row.end_time).format('hh:mm A')}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : null\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t),\n\t\t\t\t\tactions: (\n\t\t\t\t\t\t<div style={{ minWidth: '100px' }}>\n\t\t\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Link to={url(`${schedule.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(schedule.id);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t),\n\t\t\t\t})) || []\n\t\t\t}\n\t\t\tcolumns={columns}\n\t\t\tbuttons={\n\t\t\t\t<>\n\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default List;\n","import dayjs from 'dayjs';\nimport React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { UserContract } from '../../../Contracts/user.contract';\nimport { State } from '../../../Libraries/State';\nimport { scheduleService } from '../../../Services/schedule.service';\nimport { userService } from '../../../Services/user.service';\n\ntype Props = {};\n\nconst Schedules: FC<Props> = (props) => {\n\tconst state = State.getInstance();\n\tconst temp = state.get<UserContract>('user');\n\tconst { data: user } = useQuery(['user', temp?.id], () => userService.fetchOne(temp?.id));\n\tconst { data: schedules } = useQuery('schedules', () => scheduleService.fetch());\n\n\tconst admission = user?.admissions?.last();\n\n\tif (!user || !admission) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t<div className='row'>\n\t\t\t\t<div className='col-12 col-md-6 offset-md-3 text-center'>\n\t\t\t\t\t<h4>EASTERN MINDORO COLLEGE</h4>\n\t\t\t\t\t<p>Bongabong, Oriental Mindoro</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='d-flex mt-5'>\n\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t<b>Name:</b> {user.last_name}, {user.first_name} {user.middle_name || ''}\n\t\t\t\t</span>\n\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t<b>Semester:</b> {admission.term}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className='d-flex'>\n\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t<b>Year Level:</b> {admission.level}\n\t\t\t\t</span>\n\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t<b>Status: </b> {admission.status}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className='d-flex mt-3'>\n\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t<b>Student Number:</b> {user.uuid}\n\t\t\t\t</span>\n\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t<b>Year:</b> {admission.year?.start} - {admission.year?.end}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<table className='table table-bordered mt-3'>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Subject Code</th>\n\t\t\t\t\t\t<th>Description</th>\n\t\t\t\t\t\t<th>Schedules</th>\n\t\t\t\t\t\t<th>Instructor</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{schedules?.map((schedule, index) => (\n\t\t\t\t\t\t<tr key={index}>\n\t\t\t\t\t\t\t<td>{schedule.subject?.code}</td>\n\t\t\t\t\t\t\t<td>{schedule.subject?.description}</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{schedule.payload.map((row) => {\n\t\t\t\t\t\t\t\t\tif (!row.start_time && !row.end_time) {\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<span className='d-block'>\n\t\t\t\t\t\t\t\t\t\t\t{row.day} {dayjs(row.start_time!).format('hh:mm A')} - {dayjs(row.end_time!).format('hh:mm A')}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t{schedule.teacher?.last_name}, {schedule.teacher?.first_name} {schedule.teacher?.middle_name || ''}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n};\n\nexport default Schedules;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport Form from './Form';\nimport List from './List';\nimport SchedulesStudent from '../Dashboard/Student/Schedules';\n\ntype Props = {};\n\nconst Schedules: FC<Props> = (props) => {\n\tconst url = useURL();\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: user?.role !== 'Student' ? List : SchedulesStudent,\n\t\t},\n\t];\n\n\tif (user?.role !== 'Student') {\n\t\troutes.push({\n\t\t\tpath: url('/add'),\n\t\t\tcomponent: Form,\n\t\t});\n\t\troutes.push({\n\t\t\tpath: url('/:id/edit'),\n\t\t\tcomponent: Form,\n\t\t});\n\t}\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Schedules;\n","import { GradeContract } from '../Contracts/grade.contract';\nimport { Service } from '../Libraries/Service';\n\nexport class GradeService extends Service<GradeContract> {}\n\nexport const gradeService = new GradeService('/grades');\n","import axios from 'axios';\nimport dayjs from 'dayjs';\nimport React, { createRef, FC } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { CourseContract } from '../../Contracts/course.contract';\nimport { MajorContract } from '../../Contracts/major.contract';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError, Asker } from '../../helpers';\nimport { useNullable, useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { courseService } from '../../Services/course.service';\nimport { gradeService } from '../../Services/grade.service';\nimport { subjectService } from '../../Services/subject.service';\nimport { userService } from '../../Services/user.service';\nimport { yearService } from '../../Services/year.service';\n\nimport Table from '../Shared/Table';\n\ntype GradeContract = {\n\tstudent_id: number;\n\tsubject_id: number;\n\tteacher_id: number;\n\tgrade: number;\n\tstatus: string;\n\tyear_id: number;\n};\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('users', () => userService.fetch());\n\tconst { data: years } = useQuery('years', () => yearService.fetch());\n\tconst { data: subjects } = useQuery('subjects', () => subjectService.fetch());\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\n\tconst [course, setCourse] = useNullable<CourseContract>();\n\tconst [major, setMajor] = useNullable<MajorContract>();\n\tconst { register, handleSubmit, reset } = useForm<GradeContract>({\n\t\tdefaultValues: {\n\t\t\tgrade: 65,\n\t\t},\n\t});\n\tconst [student, setStudent] = useNullable<number>();\n\tconst addGradeModalRef = createRef<HTMLDivElement>();\n\tconst url = useURL();\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst evaluate = async () => {\n\t\tif (await Asker.notice('Are you sure you want to evaluate all students?', 'Notice')) {\n\t\t\ttry {\n\t\t\t\ttoastr.info('Processing students. Please wait.', 'Notice');\n\t\t\t\tconst {\n\t\t\t\t\tdata: { missing, failed, passed },\n\t\t\t\t} = await axios.post<{ missing: number; failed: number; passed: number }>('/admissions/increment');\n\t\t\t\ttoastr.success(\n\t\t\t\t\t`Processing done. \n                    <br />Passed Students: ${passed}\n                    <br />Failed Students: ${failed} \n                    <br />Subjects with missing grades: ${missing}`,\n\t\t\t\t\t'Success',\n\t\t\t\t\t{\n\t\t\t\t\t\tescapeHtml: false,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t} catch (error) {\n\t\t\t\ttoastr.error('Unable to process students.');\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst submit = async (data: GradeContract) => {\n\t\tif (addGradeModalRef.current) {\n\t\t\t$(addGradeModalRef.current).modal('hide');\n\t\t}\n\t\ttry {\n\t\t\tdata.student_id = student!;\n\t\t\tdata.teacher_id = user!.id!;\n\t\t\tawait gradeService.create(data);\n\t\t\ttoastr.success('Grade added succesfully.');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetStudent(null);\n\t\t\treset();\n\t\t}\n\t};\n\n\tconst deleteItem = async (id: any) => {\n\t\ttry {\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Student?')) {\n\t\t\t\tawait userService.delete(id);\n\t\t\t\ttoastr.info('Student has been deleted.', 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'ID Number',\n\t\t\taccessor: 'uuid',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Name',\n\t\t\taccessor: 'name',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Year',\n\t\t\taccessor: 'year',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Course',\n\t\t\taccessor: 'course',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Status',\n\t\t\taccessor: 'status',\n\t\t},\n\t];\n\n\tif (['Registrar', 'Teacher'].includes(user?.role || '')) {\n\t\tcolumns.push({ title: 'Actions', accessor: 'actions' });\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Table\n\t\t\t\tonRefresh={() => refetch()}\n\t\t\t\ttitle='Students'\n\t\t\t\tloading={loading}\n\t\t\t\titems={\n\t\t\t\t\titems\n\t\t\t\t\t\t?.filter((user) => user.role === 'Student' && user.active)\n\t\t\t\t\t\t.filter((student) => {\n\t\t\t\t\t\t\tconst admission = student.admissions?.find((admission) => admission.year?.current);\n\n\t\t\t\t\t\t\tif (!admission) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (course && major) {\n\t\t\t\t\t\t\t\treturn admission.course_id === course.id && admission.major_id === major.id;\n\t\t\t\t\t\t\t} else if (course) {\n\t\t\t\t\t\t\t\treturn admission.course_id === course.id;\n\t\t\t\t\t\t\t} else if (major) {\n\t\t\t\t\t\t\t\treturn admission.major_id === major.id;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.map((student) => ({\n\t\t\t\t\t\t\t...student,\n\t\t\t\t\t\t\tname: (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{student.last_name}, {student.first_name} {student.middle_name || ''}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tyear: student.admissions?.filter((admission) => admission.year?.current)[0]?.level,\n\t\t\t\t\t\t\tcourse: `${student.admissions?.filter((admission) => admission.year?.current)[0]?.course?.code}${\n\t\t\t\t\t\t\t\tstudent.admissions?.filter((admission) => admission.year?.current)[0]?.major\n\t\t\t\t\t\t\t\t\t? ` - Major in ${student.admissions?.filter((admission) => admission.year?.current)[0]?.major?.name}`\n\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t}`,\n\t\t\t\t\t\t\tbirthday: dayjs(student.birthday).format('MMMM DD, YYYY'),\n\t\t\t\t\t\t\tage: new Date().getFullYear() - dayjs(student.birthday).year(),\n\t\t\t\t\t\t\tstatus: student.active ? (\n\t\t\t\t\t\t\t\t<span className='badge badge-success'>Confirmed</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className='badge badge-danger'>Unconfirmed</span>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tactions: (\n\t\t\t\t\t\t\t\t<div style={{ minWidth: '100px' }}>\n\t\t\t\t\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/dashboard/admissions/${student.admissions?.last()?.id}/edit`}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-warning btn-sm mx-1'\n\t\t\t\t\t\t\t\t\t\t\t\ttitle='Edit'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto={url(`${student.id}/subjects`)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm mx-1'\n\t\t\t\t\t\t\t\t\t\t\t\ttitle='Add Subjects'>\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-book'></i>\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t{user?.role === 'Teacher' ? (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm mx-1'\n\t\t\t\t\t\t\t\t\t\t\ttitle='Add Grade'\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\tif (addGradeModalRef.current) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStudent(student.id!);\n\t\t\t\t\t\t\t\t\t\t\t\t\t$(addGradeModalRef.current).modal('toggle');\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-chart-bar'></i>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1 d-none'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(student.id);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t})) || []\n\t\t\t\t}\n\t\t\t\tcolumns={columns}\n\t\t\t\tmisc={\n\t\t\t\t\t<>\n\t\t\t\t\t\t<label className='mb-0 mt-2 mx-1'>\n\t\t\t\t\t\t\tCourse:\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclassName='custom-select custom-select-sm form-control form-control-sm'\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\tif (id === 0) {\n\t\t\t\t\t\t\t\t\t\tsetCourse(null);\n\t\t\t\t\t\t\t\t\t\tsetMajor(null);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\n\t\t\t\t\t\t\t\t\t\tif (course) {\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(course);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<option value='0'>All</option>\n\t\t\t\t\t\t\t\t{courses?.map((course, index) => (\n\t\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t{course.code}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t{course ? (\n\t\t\t\t\t\t\t<label className='mb-0 mt-2 mx-1'>\n\t\t\t\t\t\t\t\tMajor:\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclassName='custom-select custom-select-sm form-control form-control-sm'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\t\tif (id === 0) {\n\t\t\t\t\t\t\t\t\t\t\tsetMajor(null);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tconst major = course?.majors?.find((major) => major.id === id);\n\t\t\t\t\t\t\t\t\t\t\tif (major) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetMajor(major);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<option value='0'>All</option>\n\t\t\t\t\t\t\t\t\t{course.majors?.map((major, index) => (\n\t\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{major.name}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t\tbuttons={\n\t\t\t\t\t<>\n\t\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm mx-1'\n\t\t\t\t\t\t\t\ttitle='Evaluate Students'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tevaluate();\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<div ref={addGradeModalRef} className='modal fade' tabIndex={-1}>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title'>Add Grade</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t\t<input type='hidden' {...register('year_id')} value={years?.filter((year) => year.current)[0]?.id} />\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='subject_id'>Subject</label>\n\t\t\t\t\t\t\t\t\t<select {...register('subject_id')} id='subject_id' className='form-control'>\n\t\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t\t{subjects?.map((subject, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option value={subject.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{subject.code}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='grade'>Grade</label>\n\t\t\t\t\t\t\t\t\t<input {...register('grade')} type='number' id='grade' min={0} max={100} className='form-control' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='status'>Status</label>\n\t\t\t\t\t\t\t\t\t<input {...register('status')} type='text' id='status' className='form-control' />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm'>\n\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default List;\n","import axios from 'axios';\nimport { trim } from 'lodash';\nimport React, { FC, useState } from 'react';\nimport { useQuery } from 'react-query';\nimport { useHistory, useParams } from 'react-router';\nimport { handleError } from '../../helpers';\nimport { useArray } from '../../hooks';\nimport { subjectService } from '../../Services/subject.service';\nimport { userService } from '../../Services/user.service';\n\ntype Props = {};\n\nconst Subjects: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst { id } = useParams<{ id: string }>();\n\tconst history = useHistory();\n\tconst [enrolled, setEnrolled] = useArray<number>();\n\tconst {\n\t\tdata: student,\n\t\terror,\n\t\tisError,\n\t} = useQuery(['users', id], () => userService.fetchOne(id), {\n\t\tonSuccess(student) {\n\t\t\tsetEnrolled(student.subjects?.map(({ id }) => id!)!);\n\t\t},\n\t});\n\tconst { data: subjects } = useQuery('subjects', () => subjectService.fetch());\n\tconst admission = student?.admissions?.find((admission) => admission.year?.current);\n\n\tconst submit = async () => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait axios.post(`/users/${student?.id}/subjects`, {\n\t\t\t\tsubjects: enrolled,\n\t\t\t});\n\t\t\ttoastr.success('Subjects enrolled successfully.');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tif (isError) {\n\t\thandleError(error);\n\t\thistory.goBack();\n\t\treturn null;\n\t}\n\n\tif (!student || !admission) {\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<div className='text-center'>\n\t\t\t\t\t<i className='fas fa-circle-notch fa-spin'></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className='container'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-header'>\n\t\t\t\t\t<h4 className='card-title'>Student Subjects</h4>\n\t\t\t\t\t<p className='card-text'>\n\t\t\t\t\t\t{student.last_name}, {student.first_name} {student.middle_name || ''}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className='card-text'>\n\t\t\t\t\t\tSchool Year: {admission?.year?.start} - {admission?.year?.end}\n\t\t\t\t\t</p>\n\t\t\t\t\t<small className='form-text text-muted'>\n\t\t\t\t\t\tSubjects with{' '}\n\t\t\t\t\t\t<sup>\n\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>\n\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t</sup>{' '}\n\t\t\t\t\t\tare enrolled.\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tsubmit();\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className='form-row'>\n\t\t\t\t\t\t\t{subjects\n\t\t\t\t\t\t\t\t?.filter(\n\t\t\t\t\t\t\t\t\t(subject) =>\n\t\t\t\t\t\t\t\t\t\tsubject.level === admission.level &&\n\t\t\t\t\t\t\t\t\t\tsubject.term === admission.term &&\n\t\t\t\t\t\t\t\t\t\tsubject.course_id === admission.course_id\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.map((subject, index) => (\n\t\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-4 col-lg-3' key={index}>\n\t\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\t\t\t\tid={trim(`${subject.code}-${subject.id}`)}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={enrolled.includes(subject.id!)}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (enrolled.includes(id)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst index = enrolled.findIndex((number) => number === id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenrolled.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenrolled.push(id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetEnrolled([...enrolled]);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={subject.id}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={trim(`${subject.code}-${subject.id}`)}>\n\t\t\t\t\t\t\t\t\t\t\t\t{subject.code} - {subject.description}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t<sup>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{student.subjects?.find((sub) => sub.id === subject.id) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t\t\t\t\t</sup>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm' disabled={processing}>\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Subjects;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport List from './List';\nimport Subjects from './Subjects';\n\ntype Props = {};\n\nconst Students: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t\t{\n\t\t\tpath: url('/:id/subjects'),\n\t\t\tcomponent: Subjects,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Students;\n","import React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useQuery } from 'react-query';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { CourseContract } from '../../Contracts/course.contract';\nimport { Asker, handleError, setValues } from '../../helpers';\nimport { useMode, useNullable } from '../../hooks';\nimport { courseService } from '../../Services/course.service';\nimport { subjectService } from '../../Services/subject.service';\n\ntype Props = {};\n\ntype Inputs = {\n\tcode: string;\n\tdescription: string;\n\tcourse_id: number;\n\tlevel: string;\n\tterm: string;\n\tunits: string;\n\tforce: boolean;\n\tmajor_id?: number;\n};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useMode();\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\n\t\tdefaultValues: {\n\t\t\tforce: false,\n\t\t},\n\t});\n\tconst [id, setID] = useState(-1);\n\tconst [course, setCourse] = useNullable<CourseContract>();\n\tconst history = useHistory();\n\tconst match = useRouteMatch<{ id: string }>();\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\n\n\tconst fetch = async (id: any) => {\n\t\ttry {\n\t\t\tconst data = await subjectService.fetchOne(id);\n\t\t\tsetID(data.id!);\n\t\t\tsetValues(setValue, data);\n\t\t\tsetMode('Edit');\n\t\t\tsetCourse(data.course!);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst submit = async (data: Inputs) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tawait (mode === 'Add' ? subjectService.create(data) : subjectService.update(id, data));\n\t\t\ttoastr.success('Subject has been saved successfully.');\n\t\t\treset();\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 409) {\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\n\t\t\t\t\tdata.force = true;\n\t\t\t\t\tawait submit(data);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandleError(error);\n\t\t\t}\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (match.path.includes('edit')) {\n\t\t\tfetch(match.params.id);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<h5 className='card-title'>{mode} Subject</h5>\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t<div className='form-row'>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='code'>Subject Code</label>\n\t\t\t\t\t\t\t\t<input {...register('code')} type='text' id='code' className='form-control' disabled={processing} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='description'>Description</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('description')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='description'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='course_id'>Course Code</label>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t{...register('course_id')}\n\t\t\t\t\t\t\t\t\tid='course_id'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\n\t\t\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\n\t\t\t\t\t\t\t\t\t\tif (course) {\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(course);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetCourse(null);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t{courses?.map((course, index) => (\n\t\t\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{course.code}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{course && course.majors && course.majors.length > 0 ? (\n\t\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t\t<label htmlFor='major_id'>Major</label>\n\t\t\t\t\t\t\t\t\t<select {...register('major_id')} id='major_id' className='form-control'>\n\t\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t\t{course.majors.map((major, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{major.name}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='level'>Year Level</label>\n\t\t\t\t\t\t\t\t<select {...register('level')} id='level' className='form-control'>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t<option value='1st'>1st</option>\n\t\t\t\t\t\t\t\t\t<option value='2nd'>2nd</option>\n\t\t\t\t\t\t\t\t\t<option value='3rd'>3rd</option>\n\t\t\t\t\t\t\t\t\t<option value='4th'>4th</option>\n\t\t\t\t\t\t\t\t\t<option value='5th'>5th</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='units'>Number of Units</label>\n\t\t\t\t\t\t\t\t<select {...register('units')} id='units' className='form-control'>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t{[1, 2, 3, 4, 5].map((unit, index) => (\n\t\t\t\t\t\t\t\t\t\t<option value={unit} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{unit}\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-4'>\n\t\t\t\t\t\t\t\t<label htmlFor='term'>Term</label>\n\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t{...register('term')}\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tid='1st-semester'\n\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\t\tvalue='1st Semester'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='1st-semester'>\n\t\t\t\t\t\t\t\t\t\t1st Semester\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t{...register('term')}\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tid='2nd-semester'\n\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\t\tvalue='2nd Semester'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='2nd-semester'>\n\t\t\t\t\t\t\t\t\t\t2nd Semester\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='custom-control custom-radio'>\n\t\t\t\t\t\t\t\t\t<input {...register('term')} type='radio' id='summer' className='custom-control-input' value='Summer' />\n\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='summer'>\n\t\t\t\t\t\t\t\t\t\tSummer\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group d-flex'>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\n\t\t\t\t\t\t\t\tReturn\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { CourseContract } from '../../Contracts/course.contract';\nimport { MajorContract } from '../../Contracts/major.contract';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError, Asker } from '../../helpers';\nimport { useNullable, useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { courseService } from '../../Services/course.service';\nimport { subjectService } from '../../Services/subject.service';\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\n\tconst [course, setCourse] = useNullable<CourseContract>();\n\tconst [major, setMajor] = useNullable<MajorContract>();\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('subjects', () => subjectService.fetch());\n\n\tconst url = useURL();\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst deleteItem = async (id: any) => {\n\t\ttry {\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Subject?')) {\n\t\t\t\tawait subjectService.delete(id);\n\t\t\t\ttoastr.info('Subject has been deleted.', 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'Subject Code',\n\t\t\taccessor: 'code',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Subject Description',\n\t\t\taccessor: 'description',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Course',\n\t\t\taccessor: 'course',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Year Level',\n\t\t\taccessor: 'level',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Semester',\n\t\t\taccessor: 'term',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Units',\n\t\t\taccessor: 'units',\n\t\t},\n\t];\n\n\tif (user?.role === 'Registrar') {\n\t\tcolumns.push({\n\t\t\ttitle: 'Actions',\n\t\t\taccessor: 'actions',\n\t\t});\n\t}\n\n\treturn (\n\t\t<Table\n\t\t\tonRefresh={() => refetch()}\n\t\t\ttitle='Subjects'\n\t\t\tloading={loading}\n\t\t\titems={\n\t\t\t\titems\n\t\t\t\t\t?.filter((subject) => {\n\t\t\t\t\t\tif (course && major) {\n\t\t\t\t\t\t\treturn subject.course_id === course.id && subject.major_id === major.id;\n\t\t\t\t\t\t} else if (course) {\n\t\t\t\t\t\t\treturn subject.course_id === course.id;\n\t\t\t\t\t\t} else if (major) {\n\t\t\t\t\t\t\treturn subject.major_id === major.id;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t})\n\t\t\t\t\t.map((subject) => ({\n\t\t\t\t\t\t...subject,\n\t\t\t\t\t\tcourse: `${subject.course?.code}${subject.major ? ` - Major in ${subject.major.name}` : ''}`,\n\t\t\t\t\t\tactions:\n\t\t\t\t\t\t\tuser?.role === 'Registrar' ? (\n\t\t\t\t\t\t\t\t<div style={{ minWidth: '100px' }}>\n\t\t\t\t\t\t\t\t\t<Link to={url(`${subject.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(subject.id);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null,\n\t\t\t\t\t})) || []\n\t\t\t}\n\t\t\tcolumns={columns}\n\t\t\tbuttons={\n\t\t\t\t<>\n\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t</>\n\t\t\t}\n\t\t\tmisc={\n\t\t\t\t<>\n\t\t\t\t\t<label className='mb-0 mt-2 mx-1'>\n\t\t\t\t\t\tCourse:\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tclassName='custom-select custom-select-sm form-control form-control-sm'\n\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\n\t\t\t\t\t\t\t\tif (course) {\n\t\t\t\t\t\t\t\t\tsetCourse(course);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetCourse(null);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetMajor(null);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<option value='0'>All</option>\n\t\t\t\t\t\t\t{courses?.map((course, index) => (\n\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\n\t\t\t\t\t\t\t\t\t{course.code}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</label>\n\t\t\t\t\t{course ? (\n\t\t\t\t\t\t<label className='mb-0 mt-2 mx-1'>\n\t\t\t\t\t\t\tMajor:\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tclassName='custom-select custom-select-sm form-control form-control-sm'\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\tconst major = course?.majors?.find((major) => major.id === id);\n\t\t\t\t\t\t\t\t\tif (major) {\n\t\t\t\t\t\t\t\t\t\tsetMajor(major);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetMajor(null);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<option value='0'>All</option>\n\t\t\t\t\t\t\t\t{course.majors?.map((major, index) => (\n\t\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\n\t\t\t\t\t\t\t\t\t\t{major.name}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t) : null}\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport Form from './Form';\nimport List from './List';\n\ntype Props = {};\n\nconst Subjects: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t\t{\n\t\t\tpath: url('/add'),\n\t\t\tcomponent: Form,\n\t\t},\n\t\t{\n\t\t\tpath: url('/:id/edit'),\n\t\t\tcomponent: Form,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Subjects;\n","import React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { Asker, handleError, setValues } from '../../helpers';\nimport { useMode, useNullable } from '../../hooks';\nimport { userService } from '../../Services/user.service';\nimport Flatpickr from 'react-flatpickr';\nimport dayjs from 'dayjs';\nimport InputMask from 'react-input-mask';\n\ntype Props = {};\n\ntype Inputs = {\n\tuuid: string;\n\tfirst_name: string;\n\tlast_name: string;\n\tmiddle_name?: string;\n\tgender?: string;\n\taddress?: string;\n\tplace_of_birth?: string;\n\tbirthday?: string;\n\trole: string;\n\temail: string;\n\tnumber: string;\n\tactive: boolean;\n\tpassword: string;\n\tfathers_name?: string;\n\tmothers_name?: string;\n\tfathers_occupation?: string;\n\tmothers_occupation?: string;\n\tforce: boolean;\n};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useMode();\n\tconst { register, setValue, handleSubmit, reset } = useForm<Inputs>({\n\t\tdefaultValues: {\n\t\t\tforce: false,\n\t\t},\n\t});\n\tconst [birthday, setBirthday] = useNullable<Date>();\n\tconst [id, setID] = useState(-1);\n\tconst history = useHistory();\n\tconst match = useRouteMatch<{ id: string }>();\n\tconst [number, setNumber] = useState('');\n\n\tconst fetch = async (id: any) => {\n\t\ttry {\n\t\t\tconst data = await userService.fetchOne(id);\n\t\t\tsetID(data.id!);\n\t\t\tsetValues(setValue, data);\n\t\t\tsetBirthday(dayjs(data.birthday).toDate());\n\t\t\tsetNumber(data.number);\n\t\t\tsetMode('Edit');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst submit = async (data: Inputs) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tdata.role = 'Teacher';\n\t\t\tdata.active = true;\n\t\t\tdata.birthday = birthday?.toJSON();\n\t\t\tdata.number = number;\n\t\t\tawait (mode === 'Add' ? userService.create(data) : userService.update(id, data));\n\t\t\ttoastr.success('Teacher has been saved successfully.');\n\t\t\treset();\n\t\t\tsetBirthday(null);\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 409) {\n\t\t\t\tif (await Asker.save(error.response?.data?.message)) {\n\t\t\t\t\tdata.force = true;\n\t\t\t\t\tawait submit(data);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandleError(error);\n\t\t\t}\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (match.path.includes('edit')) {\n\t\t\tfetch(match.params.id);\n\t\t} else {\n\t\t\tuserService.fetch().then((users) => {\n\t\t\t\tsetValue(\n\t\t\t\t\t'uuid',\n\t\t\t\t\t`teacher-${`${users.filter((user) => user.role === 'Teacher').length + 1}`.padStart(\n\t\t\t\t\t\t5,\n\t\t\t\t\t\t'0'\n\t\t\t\t\t)}-${new Date().getFullYear()}`\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<h5 className='card-title'>{mode} Teacher</h5>\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t<div className='form-row'>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='first_name'>First Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('first_name')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='first_name'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='uuid'>Teacher Number</label>\n\t\t\t\t\t\t\t\t<input {...register('uuid')} type='text' id='uuid' className='form-control' disabled />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='last_name'>Last Name</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('last_name')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='last_name'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email Address</label>\n\t\t\t\t\t\t\t\t<input {...register('email')} type='email' id='email' className='form-control' disabled={processing} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='gender'>Gender</label>\n\t\t\t\t\t\t\t\t<select {...register('gender')} id='gender' className='form-control'>\n\t\t\t\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t\t\t\t<option value='Male'>Male</option>\n\t\t\t\t\t\t\t\t\t<option value='Female'>Female</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='number'>Phone Number</label>\n\t\t\t\t\t\t\t\t<InputMask\n\t\t\t\t\t\t\t\t\tmask='0\\999-999-9999'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='number'\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\tvalue={number}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='birthday'>Birthday</label>\n\t\t\t\t\t\t\t\t<Flatpickr\n\t\t\t\t\t\t\t\t\tvalue={birthday || undefined}\n\t\t\t\t\t\t\t\t\tid='birthday'\n\t\t\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\t\t\tmaxDate: dayjs()\n\t\t\t\t\t\t\t\t\t\t\t.year(new Date().getFullYear() - 15)\n\t\t\t\t\t\t\t\t\t\t\t.toDate(),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tsetBirthday(dates[0]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='address'>Address</label>\n\t\t\t\t\t\t\t\t<input {...register('address')} type='text' id='address' className='form-control' disabled={processing} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t\t\t<i className='ml-auto'>Account credentials will be sent via email.</i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='d-flex'>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\n\t\t\t\t\t\t\t\tReturn\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import dayjs from 'dayjs';\nimport React, { createRef, FC, useEffect } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link, useHistory } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError, Asker, toJSON } from '../../helpers';\nimport { useArray, useNullable, useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { userService } from '../../Services/user.service';\n\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('users', () => userService.fetch());\n\tconst [selected, setSelected] = useArray<number>();\n\tconst [teacher, setTeacher] = useNullable<UserContract>();\n\tconst modalRef = createRef<HTMLDivElement>();\n\tconst history = useHistory();\n\n\tconst url = useURL();\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst deleteItem = async (id: any) => {\n\t\ttry {\n\t\t\tif (await Asker.danger('Are you sure you want to delete this Teacher?')) {\n\t\t\t\tawait userService.delete(id);\n\t\t\t\ttoastr.info('Teacher has been deleted.', 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst update = async (teacher: UserContract) => {\n\t\ttry {\n\t\t\tawait userService.update(teacher.id, { active: !teacher.active });\n\t\t\ttoastr.success(`Teacher ${teacher.active ? 'disabled' : 'enabled'} successfully.`);\n\t\t\trefetch();\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'Teacher #',\n\t\t\taccessor: 'uuid',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Name',\n\t\t\taccessor: 'name',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Email',\n\t\t\taccessor: 'email',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Status',\n\t\t\taccessor: 'status',\n\t\t},\n\t];\n\n\tif (['Registrar', 'Admin'].includes(user?.role || '')) {\n\t\tcolumns.unshift({\n\t\t\ttitle: '#',\n\t\t\taccessor: 'toggle',\n\t\t});\n\t\tcolumns.push({ title: 'Actions', accessor: 'actions' });\n\t}\n\n\tuseEffect(() => {\n\t\tif (modalRef.current) {\n\t\t\t$(modalRef.current).on('hidden.bs.modal', () => setTeacher(null));\n\t\t}\n\t}, [modalRef, setTeacher]);\n\n\treturn (\n\t\t<>\n\t\t\t<Table\n\t\t\t\tonRefresh={() => refetch()}\n\t\t\t\ttitle='Teachers'\n\t\t\t\tloading={loading}\n\t\t\t\titems={\n\t\t\t\t\titems\n\t\t\t\t\t\t?.filter((user) => user.role === 'Teacher')\n\t\t\t\t\t\t.map((teacher) => ({\n\t\t\t\t\t\t\t...teacher,\n\t\t\t\t\t\t\ttoggle: (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\t\t\tid={toJSON(teacher)}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\t\t\t\t\t\tif (selected.includes(id)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst index = selected.findIndex((number) => number === id);\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected.push(id);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelected([...selected]);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tvalue={teacher.id}\n\t\t\t\t\t\t\t\t\t\t\tchecked={selected.includes(teacher.id!)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={toJSON(teacher)}></label>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tname: (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t{teacher.last_name}, {teacher.first_name} {teacher.middle_name || ''}\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tbirthday: dayjs(teacher.birthday).format('MMMM DD, YYYY'),\n\t\t\t\t\t\t\tage: new Date().getFullYear() - dayjs(teacher.birthday).year(),\n\t\t\t\t\t\t\tstatus: teacher.active ? (\n\t\t\t\t\t\t\t\t<span className='badge badge-success'>Active</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<span className='badge badge-danger'>Inactive</span>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tactions: (\n\t\t\t\t\t\t\t\t<div style={{ minWidth: '100px' }}>\n\t\t\t\t\t\t\t\t\t<Link to={url(`${teacher.id}/edit`)} className='btn btn-warning btn-sm mx-1' title='Edit'>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary btn-sm mx-1'\n\t\t\t\t\t\t\t\t\t\ttitle='View'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tsetTeacher(teacher);\n\t\t\t\t\t\t\t\t\t\t\tif (modalRef.current) {\n\t\t\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('show');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-eye'></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-${teacher.active ? 'danger' : 'info'} btn-sm mx-1`}\n\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.notice(\n\t\t\t\t\t\t\t\t\t\t\t\t\t`Are you sure you want to ${teacher.active ? 'disable' : 'enable'} this teacher? ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tteacher.active\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'If you disable this teacher, this teacher can’t access the system. And you can’t distribute subjects to this teacher.'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'If you enable this teacher, this teacher can access the system. And you can distribute subject to this teacher.'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tupdate(teacher);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttitle={teacher.active ? 'Disable' : 'Enable'}>\n\t\t\t\t\t\t\t\t\t\t<i className={`fas fa-user-${teacher.active ? 'times' : 'check'}`}></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1 d-none'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tdeleteItem(teacher.id);\n\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t})) || []\n\t\t\t\t}\n\t\t\t\tcolumns={columns}\n\t\t\t\tbuttons={\n\t\t\t\t\t<>\n\t\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\n\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{['Registrar', 'Admin'].includes(user?.role || '') ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm ml-2'\n\t\t\t\t\t\t\t\t\ttitle='Disable Selected'\n\t\t\t\t\t\t\t\t\tonClick={async (e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tif (selected.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tawait Asker.danger(\n\t\t\t\t\t\t\t\t\t\t\t\t\t`Are you sure you want to disable ${selected.length} ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}? If you disable ${selected.length === 1 ? 'this' : 'these'} ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, ${selected.length === 1 ? 'this' : 'these'} ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\n\t\t\t\t\t\t\t\t\t\t\t\t\t} can’t access the system. And you can’t distribute subjects to ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'this' : 'these'\n\t\t\t\t\t\t\t\t\t\t\t\t\t} ${selected.length === 1 ? 'teacher' : 'teachers'}.`\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait Promise.all(selected.map((id) => userService.update(id, { active: false })));\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.success(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`${selected.length} ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected.length === 1 ? 'teacher' : 'teachers'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} disabled successfully.`\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelected([]);\n\t\t\t\t\t\t\t\t\t\t\t\t\trefetch();\n\t\t\t\t\t\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.error('Unable to disable teachers.');\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<i className={`fas fa-user-times`}></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<div ref={modalRef} className='modal fade' tabIndex={-1}>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title'>View Teacher</h5>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='close'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (modalRef.current) {\n\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('hide');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t{teacher && (\n\t\t\t\t\t\t\t\t<div className='container-fluid row'>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Teacher #</label>\n\t\t\t\t\t\t\t\t\t\t{teacher.uuid}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Name</label>\n\t\t\t\t\t\t\t\t\t\t{teacher.last_name}, {teacher.first_name} {teacher.last_name || ''}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Phone Number</label>\n\t\t\t\t\t\t\t\t\t\t{teacher.number}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Email</label>\n\t\t\t\t\t\t\t\t\t\t{teacher.email}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Address</label>\n\t\t\t\t\t\t\t\t\t\t{teacher.address}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Gender</label>\n\t\t\t\t\t\t\t\t\t\t{teacher.gender}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Birthday</label>\n\t\t\t\t\t\t\t\t\t\t{dayjs(teacher.birthday).format('MMMM DD, YYYY')}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Age</label>\n\t\t\t\t\t\t\t\t\t\t{dayjs().year() - dayjs(teacher.birthday).year()}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 p-2 border'>\n\t\t\t\t\t\t\t\t\t\t<label className='font-weight-bold d-block'>Status</label>\n\t\t\t\t\t\t\t\t\t\t{teacher.active ? (\n\t\t\t\t\t\t\t\t\t\t\t<span className='badge badge-success'>Active</span>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<span className='badge badge-danger'>Inactive</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t{teacher && (\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-warning btn-sm mx-1'\n\t\t\t\t\t\t\t\t\ttitle='Edit'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tif (modalRef.current) {\n\t\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('hide');\n\t\t\t\t\t\t\t\t\t\t\thistory.push(url(`${teacher.id}/edit`));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (modalRef.current) {\n\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('hide');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport Form from './Form';\nimport List from './List';\n\ntype Props = {};\n\nconst Teachers: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t\t{\n\t\t\tpath: url('/add'),\n\t\t\tcomponent: Form,\n\t\t},\n\t\t{\n\t\t\tpath: url('/:id/edit'),\n\t\t\tcomponent: Form,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Teachers;\n","import axios from 'axios';\nimport React, { createRef, FC, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useQuery } from 'react-query';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError } from '../../helpers';\nimport { useNullable } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { userService } from '../../Services/user.service';\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\ntype Inputs = {\n\tpassword: string;\n\tnew_password: string;\n\trepeat_password: string;\n\tuser_id: number;\n};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('users', () => userService.fetch());\n\tconst user = State.getInstance().get<UserContract>('user');\n\tconst [selected, setSelected] = useNullable<number>();\n\tconst modalRef = createRef<HTMLDivElement>();\n\tconst { register, handleSubmit, reset } = useForm<Inputs>();\n\n\tconst submit = async (data: Inputs) => {\n\t\tif (!selected) {\n\t\t\treturn toastr.error('No user selected.');\n\t\t}\n\n\t\tif (data.new_password !== data.repeat_password) {\n\t\t\treturn toastr.error('New password does not match repeat password.');\n\t\t}\n\n\t\ttry {\n\t\t\tdata.user_id = selected;\n\t\t\tawait axios.post('/users/change', data);\n\t\t\ttoastr.success('User password changed successfully.');\n\t\t\tif (modalRef.current) {\n\t\t\t\t$(modalRef.current).modal('hide');\n\t\t\t}\n\t\t\tsetSelected(null);\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: '#',\n\t\t\taccessor: 'id',\n\t\t},\n\t\t{\n\t\t\ttitle: 'User Number',\n\t\t\taccessor: 'uuid',\n\t\t},\n\t\t{\n\t\t\ttitle: 'User Type',\n\t\t\taccessor: 'role',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Full Name',\n\t\t\taccessor: 'full_name',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Email',\n\t\t\taccessor: 'email',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Phone Number',\n\t\t\taccessor: 'number',\n\t\t},\n\t];\n\n\tif (user?.role === 'Admin') {\n\t\tcolumns.push({\n\t\t\ttitle: 'Actions',\n\t\t\taccessor: 'actions',\n\t\t});\n\t}\n\n\tuseEffect(() => {\n\t\tif (modalRef.current) {\n\t\t\t$(modalRef.current).on('hidden.bs.modal', () => reset());\n\t\t}\n\t\t//eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Table\n\t\t\t\tonRefresh={() => refetch()}\n\t\t\t\ttitle='Users'\n\t\t\t\tloading={loading}\n\t\t\t\titems={\n\t\t\t\t\titems?.map((user) => ({\n\t\t\t\t\t\t...user,\n\t\t\t\t\t\tfull_name: (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{user.last_name}, {user.first_name} {user.middle_name || ''}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tactions: (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-warning btn-sm mx-1'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tsetSelected(user.id!);\n\t\t\t\t\t\t\t\t\t\tif (modalRef.current) {\n\t\t\t\t\t\t\t\t\t\t\t$(modalRef.current).modal('toggle');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttitle='Change Password'>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-key'></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{/* <Link to={url(`${user.id}/edit`)} className='btn btn-warning btn-sm mx-1'>\n\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1 d-none'\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tdeleteItem(user.id);\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t</button> */}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t),\n\t\t\t\t\t})) || []\n\t\t\t\t}\n\t\t\t\tcolumns={columns}\n\t\t\t\tbuttons={\n\t\t\t\t\t<>\n\t\t\t\t\t\t{/* <Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\n\t\t\t\t\t\t<i className='fas fa-plus'></i>\n\t\t\t\t\t</Link> */}\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<div ref={modalRef} className='modal fade' tabIndex={-1}>\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg'>\n\t\t\t\t\t<div className='modal-content'>\n\t\t\t\t\t\t<div className='modal-header'>\n\t\t\t\t\t\t\t<h5 className='modal-title'>Change Password</h5>\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal'>\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t\t<div className='modal-body'>\n\t\t\t\t\t\t\t\t<div className='container-fluid'>\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='password'>Your Password</label>\n\t\t\t\t\t\t\t\t\t\t<input {...register('password')} type='password' id='password' className='form-control' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='form-group mt-3'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='new_password'>User's New Password</label>\n\t\t\t\t\t\t\t\t\t\t<input {...register('new_password')} type='password' id='new_password' className='form-control' />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='repeat_password'>Repeat New Password</label>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t{...register('repeat_password')}\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\t\tid='repeat_password'\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='modal-footer'>\n\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm'>\n\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\n\t\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport List from './List';\n\ntype Props = {};\n\nconst Users: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Users;\n","import React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useHistory, useRouteMatch } from 'react-router';\nimport { YearContract } from '../../Contracts/year.contract';\nimport { handleError, setValues } from '../../helpers';\nimport { useMode, useNullable } from '../../hooks';\nimport { yearService } from '../../Services/year.service';\nimport Flatpickr from 'react-flatpickr';\nimport dayjs from 'dayjs';\n\ntype Props = {};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [mode, setMode] = useMode();\n\tconst { register, setValue, handleSubmit, reset } = useForm<YearContract>({\n\t\tdefaultValues: {\n\t\t\tstart: new Date().getFullYear(),\n\t\t\tend: new Date().getFullYear() + 1,\n\t\t\tcurrent: true,\n\t\t},\n\t});\n\tconst [id, setID] = useState(-1);\n\tconst history = useHistory();\n\tconst match = useRouteMatch<{ id: string }>();\n\tconst [semesterStart, setSemesterStart] = useNullable<Date>();\n\tconst [semesterEnd, setSemesterEnd] = useNullable<Date>();\n\n\tconst fetch = async (id: any) => {\n\t\ttry {\n\t\t\tconst data = await yearService.fetchOne(id);\n\t\t\tsetID(data.id!);\n\t\t\tsetValues(setValue, data);\n\t\t\tsetSemesterStart(dayjs(data.semester_start).toDate());\n\t\t\tsetSemesterEnd(dayjs(data.semester_end).toDate());\n\t\t\tsetMode('Edit');\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t\thistory.goBack();\n\t\t}\n\t};\n\n\tconst submit = async (data: YearContract) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tdata.semester_start = semesterStart?.toJSON() || '';\n\t\t\tdata.semester_end = semesterEnd?.toJSON() || '';\n\t\t\tawait (mode === 'Add' ? yearService.create(data) : yearService.update(id, data));\n\t\t\ttoastr.success('School Year has been saved successfully.');\n\t\t\treset();\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (match.path.includes('edit')) {\n\t\t\tfetch(match.params.id);\n\t\t}\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<div className='card'>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<h5 className='card-title'>{mode} School Year</h5>\n\t\t\t\t\t<form onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t\t<div className='form-row'>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='start'>Start</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('start')}\n\t\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\t\tid='start'\n\t\t\t\t\t\t\t\t\tmin={new Date().getFullYear()}\n\t\t\t\t\t\t\t\t\tmax={new Date().getFullYear() + 10}\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='end'>End</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('end')}\n\t\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\t\tid='end'\n\t\t\t\t\t\t\t\t\tmin={new Date().getFullYear()}\n\t\t\t\t\t\t\t\t\tmax={new Date().getFullYear() + 10}\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='semester_start'>Semester Start</label>\n\t\t\t\t\t\t\t\t<Flatpickr\n\t\t\t\t\t\t\t\t\tvalue={semesterStart || undefined}\n\t\t\t\t\t\t\t\t\tid='semester_start'\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tsetSemesterStart(dates[0]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t\t\t<label htmlFor='semester_end'>Semester End</label>\n\t\t\t\t\t\t\t\t<Flatpickr\n\t\t\t\t\t\t\t\t\tvalue={semesterEnd || undefined}\n\t\t\t\t\t\t\t\t\tid='semester_end'\n\t\t\t\t\t\t\t\t\tonChange={(dates) => {\n\t\t\t\t\t\t\t\t\t\tif (dates.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tsetSemesterEnd(dates[0]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group col-12'>\n\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t{...register('current')}\n\t\t\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\t\tid='current'\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor='current'>\n\t\t\t\t\t\t\t\t\t\tSet as Current\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='form-group d-flex'>\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary' onClick={() => history.goBack()} disabled={processing}>\n\t\t\t\t\t\t\t\tReturn\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary ml-auto' disabled={processing}>\n\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import dayjs from 'dayjs';\nimport React, { FC } from 'react';\nimport { useQuery } from 'react-query';\nimport { Link } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { YearContract } from '../../Contracts/year.contract';\nimport { handleError, Asker } from '../../helpers';\nimport { useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { yearService } from '../../Services/year.service';\nimport Table from '../Shared/Table';\n\ntype Props = {};\n\nconst List: FC<Props> = (props) => {\n\tconst { data: items, isFetching: loading, isError, error, refetch } = useQuery('years', () => yearService.fetch());\n\n\tconst url = useURL();\n\n\tif (isError) {\n\t\thandleError(error);\n\t}\n\n\tconst setAsCurrent = async (year: YearContract) => {\n\t\ttry {\n\t\t\tif (await Asker.notice('Are you sure you want to set the current school year?')) {\n\t\t\t\tawait yearService.update(year.id, { current: true });\n\t\t\t\ttoastr.info(`Year ${year.start} - ${year.end} has been set as current school year.`, 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst deleteItem = async (id: any) => {\n\t\ttry {\n\t\t\tif (await Asker.danger('Are you sure you want to delete this School Year?')) {\n\t\t\t\tawait yearService.delete(id);\n\t\t\t\ttoastr.info('School Year has been deleted.', 'Notice');\n\t\t\t\trefetch();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\thandleError(error);\n\t\t}\n\t};\n\n\tconst user = State.getInstance().get<UserContract>('user');\n\n\tconst columns = [\n\t\t{\n\t\t\ttitle: 'ID',\n\t\t\taccessor: 'id',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Start',\n\t\t\taccessor: 'start',\n\t\t},\n\t\t{\n\t\t\ttitle: 'End',\n\t\t\taccessor: 'end',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Semester Start',\n\t\t\taccessor: 'semester_start',\n\t\t},\n\t\t{\n\t\t\ttitle: 'Semester End',\n\t\t\taccessor: 'semester_end',\n\t\t},\n\t\t{\n\t\t\ttitle: '',\n\t\t\taccessor: 'current',\n\t\t},\n\t];\n\n\tif (user?.role === 'Registrar') {\n\t\tcolumns.push({\n\t\t\ttitle: 'Actions',\n\t\t\taccessor: 'actions',\n\t\t});\n\t}\n\n\treturn (\n\t\t<Table\n\t\t\tonRefresh={() => refetch()}\n\t\t\ttitle='School Years'\n\t\t\tloading={loading}\n\t\t\titems={\n\t\t\t\titems?.map((year) => ({\n\t\t\t\t\t...year,\n\t\t\t\t\tsemester_start: dayjs(year.semester_start).format('MMMM DD, YYYY'),\n\t\t\t\t\tsemester_end: dayjs(year.semester_end).format('MMMM DD, YYYY'),\n\t\t\t\t\tcurrent: year.current ? <span className='badge badge-success'>Current</span> : '',\n\t\t\t\t\tactions:\n\t\t\t\t\t\tuser?.role === 'Registrar' ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Link to={url(`${year.id}/edit`)} className='btn btn-warning btn-sm mx-1' title='Edit'>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-edit'></i>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t{!year.current ? (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-success btn-sm mx-1'\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\tsetAsCurrent(year);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\ttitle='Set as Current'>\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-check'></i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm mx-1'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\tdeleteItem(year.id);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\ttitle='Delete'>\n\t\t\t\t\t\t\t\t\t<i className='fas fa-trash'></i>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : null,\n\t\t\t\t})) || []\n\t\t\t}\n\t\t\tcolumns={columns}\n\t\t\tbuttons={\n\t\t\t\t<>\n\t\t\t\t\t{user?.role === 'Registrar' ? (\n\t\t\t\t\t\t<Link to={url(`add`)} className='btn btn-primary btn-sm ml-2'>\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : null}\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default List;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch } from 'react-router-dom';\nimport { useURL } from '../../hooks';\nimport Form from './Form';\nimport List from './List';\n\ntype Props = {};\n\nconst Years: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\tconst routes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url('/'),\n\t\t\texact: true,\n\t\t\tcomponent: List,\n\t\t},\n\t\t{\n\t\t\tpath: url('/add'),\n\t\t\tcomponent: Form,\n\t\t},\n\t\t{\n\t\t\tpath: url('/:id/edit'),\n\t\t\tcomponent: Form,\n\t\t},\n\t];\n\n\treturn (\n\t\t<Switch>\n\t\t\t{routes.map((route, index) => (\n\t\t\t\t<Route {...route} key={index} />\n\t\t\t))}\n\t\t</Switch>\n\t);\n};\n\nexport default Years;\n","import React, { FC } from 'react';\nimport { Route, RouteProps, Switch, useHistory } from 'react-router';\nimport Admissions from '../Components/Admissions';\nimport ChangePassword from '../Components/ChangePassword';\nimport Courses from '../Components/Courses';\nimport Analytics from '../Components/Dashboard/Analytics';\nimport Navbar from '../Components/Dashboard/Navbar';\nimport Sidebar from '../Components/Dashboard/Sidebar';\nimport Enrollment from '../Components/Dashboard/Student/Enrollment';\nimport Grades from '../Components/Dashboard/Student/Grades';\nimport Profile from '../Components/Dashboard/Student/Profile';\nimport Logs from '../Components/Logs';\nimport Mails from '../Components/Mails';\nimport Registrars from '../Components/Registrars';\nimport Requirements from '../Components/Requirements';\nimport Schedules from '../Components/Schedules';\nimport Students from '../Components/Students';\nimport Subjects from '../Components/Subjects';\nimport Teachers from '../Components/Teachers';\nimport Users from '../Components/Users';\nimport Years from '../Components/Years';\nimport { useURL } from '../hooks';\nimport { State } from '../Libraries/State';\nimport { routes } from '../routes';\n\ntype Props = {};\n\nconst Dashboard: FC<Props> = (props) => {\n\tconst history = useHistory();\n\tconst state = State.getInstance();\n\tconst url = useURL();\n\n\tconst localRoutes: RouteProps[] = [\n\t\t{\n\t\t\tpath: url(''),\n\t\t\texact: true,\n\t\t\tcomponent: Analytics,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.COURSES),\n\t\t\tcomponent: Courses,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.STUDENTS),\n\t\t\tcomponent: Students,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.TEACHERS),\n\t\t\tcomponent: Teachers,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.REGISTRARS),\n\t\t\tcomponent: Registrars,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.USERS),\n\t\t\tcomponent: Users,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.MAILS),\n\t\t\tcomponent: Mails,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.CHANGE_PASSWORD),\n\t\t\tcomponent: ChangePassword,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.SUBJECTS),\n\t\t\tcomponent: Subjects,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.SCHEDULES),\n\t\t\tcomponent: Schedules,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.ADMISSIONS),\n\t\t\tcomponent: Admissions,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.YEARS),\n\t\t\tcomponent: Years,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.GRADES),\n\t\t\tcomponent: Grades,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.ENROLLMENT),\n\t\t\tcomponent: Enrollment,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.PROFILE),\n\t\t\tcomponent: Profile,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.ADMISSION_REQUIREMENTS),\n\t\t\tcomponent: Requirements,\n\t\t},\n\t\t{\n\t\t\tpath: url(routes.LOGS),\n\t\t\tcomponent: Logs,\n\t\t},\n\t];\n\n\tif (!state.has('user')) {\n\t\thistory.push(routes.HOME);\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className='vertical dark'>\n\t\t\t<div className='wrapper'>\n\t\t\t\t<Navbar />\n\t\t\t\t<Sidebar />\n\t\t\t\t<main role='main' className='main-content'>\n\t\t\t\t\t<div className='container-fluid'>\n\t\t\t\t\t\t<div className='row justify-content-center'>\n\t\t\t\t\t\t\t<div className='col-12'>\n\t\t\t\t\t\t\t\t<div className='row align-items-center mb-2'>\n\t\t\t\t\t\t\t\t\t<div className='col'>\n\t\t\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t\t\t{localRoutes.map((route, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Route {...route} key={index} />\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Dashboard;\n","export default __webpack_public_path__ + \"static/media/landing.5ad43824.jpg\";","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport background from '../Assets/landing.jpg';\nimport { routes } from '../routes';\nimport '../Styles/landing.css';\n\ntype Props = {};\n\nconst Home: FC<Props> = (props) => {\n\treturn (\n\t\t<section id='intro' className='parallax-section' style={{ background: `url(${background}) 50% 0 repeat-y fixed` }}>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='col-md-12 col-sm-12'>\n\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\tclassName='wow bounceIn animated text-shadow-dark'\n\t\t\t\t\t\t\tdata-wow-delay='0.9s'\n\t\t\t\t\t\t\tstyle={{ visibility: 'visible', animationDelay: '0.9s', animationName: 'bounceIn' }}>\n\t\t\t\t\t\t\tWelcome to\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<h1\n\t\t\t\t\t\t\tclassName='wow fadeInUp animated text-shadow-dark'\n\t\t\t\t\t\t\tdata-wow-delay='1.6s'\n\t\t\t\t\t\t\tstyle={{ visibility: 'visible', animationDelay: '1.6s', animationName: 'fadeInUp' }}>\n\t\t\t\t\t\t\tEMC Registration System\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={routes.LOGIN}\n\t\t\t\t\t\t\tclassName='btn btn-lg btn-danger smoothScroll wow fadeInUp animated'\n\t\t\t\t\t\t\tdata-wow-delay='2.3s'\n\t\t\t\t\t\t\tstyle={{ visibility: 'visible', animationDelay: '2.3s', animationName: 'fadeInUp' }}>\n\t\t\t\t\t\t\tLog In\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={routes.PREREGISTRATION}\n\t\t\t\t\t\t\tclassName='btn btn-lg btn-danger smoothScroll wow fadeInUp animated'\n\t\t\t\t\t\t\tdata-wow-delay='2.3s'\n\t\t\t\t\t\t\tstyle={{ visibility: 'visible', animationDelay: '2.3s', animationName: 'fadeInUp' }}>\n\t\t\t\t\t\t\tPre Registration\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n\nexport default Home;\n","import axios from 'axios';\nimport React, { FC, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { UserContract } from '../../Contracts/user.contract';\nimport { handleError } from '../../helpers';\nimport { State } from '../../Libraries/State';\nimport { routes } from '../../routes';\n\ntype Props = {};\n\ntype Inputs = {\n\temail: string;\n\tpassword: string;\n};\n\nconst Form: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst { register, handleSubmit } = useForm<Inputs>();\n\tconst history = useHistory();\n\tconst state = State.getInstance();\n\tconst params = useParams<{ role: string }>();\n\tconst role = params.role;\n\n\tconst submit = async (payload: Inputs) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tconst {\n\t\t\t\tdata: { user, token },\n\t\t\t} = await axios.post<{ user: UserContract; token: string }>('/auth/login', { ...payload, role });\n\t\t\tstate.set('user', user);\n\t\t\tstate.set('token', token);\n\t\t\ttoastr.success(`Welcome back, ${user?.first_name}.`);\n\t\t\thistory.push(routes.DASHBOARD);\n\t\t} catch (error) {\n\t\t\thandleError(error, false);\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tif (state.has('user')) {\n\t\thistory.push(routes.DASHBOARD);\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className='wrapper vh-100 overflow-hidden'>\n\t\t\t<div className='row align-items-center h-100'>\n\t\t\t\t<form className='col-lg-3 col-md-4 col-10 mx-auto text-center' onSubmit={handleSubmit(submit)}>\n\t\t\t\t\t<div className='card'>\n\t\t\t\t\t\t<div className='card-body'>\n\t\t\t\t\t\t\t<div className='text-left'>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref='/'\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Link className='navbar-brand mx-auto mt-2 flex-fill text-center' to={routes.HOME}>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc='/logo.jpg'\n\t\t\t\t\t\t\t\t\talt='EMC'\n\t\t\t\t\t\t\t\t\tstyle={{ width: '80px', height: '80px' }}\n\t\t\t\t\t\t\t\t\tclassName='rounded-circle border'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<h1 className='h6 mb-3'>Login</h1>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='email' className='sr-only'>\n\t\t\t\t\t\t\t\t\tEmail Address\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('email')}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg'\n\t\t\t\t\t\t\t\t\tplaceholder='Email Address'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t<label htmlFor='password' className='sr-only'>\n\t\t\t\t\t\t\t\t\tPassword\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t{...register('password')}\n\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\tid='password'\n\t\t\t\t\t\t\t\t\tclassName='form-control form-control-lg'\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Link to={routes.FORGOT_PASSWORD} className='d-block'>\n\t\t\t\t\t\t\t\tForgot password?\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link to={routes.HOME} className='d-block'>\n\t\t\t\t\t\t\t\tReturn to Home Page\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<button className='btn btn-primary btn-block mt-5 btn-lg' type='submit' disabled={processing}>\n\t\t\t\t\t\t\t\t{processing ? <i className='fa fa-circle-notch fa-spin'></i> : 'Login'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Form;\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useURL } from '../../hooks';\n\ntype Props = {};\n\nconst Selection: FC<Props> = (props) => {\n\tconst url = useURL();\n\n\treturn (\n\t\t<div className='vh-100 d-flex'>\n\t\t\t<div className='card align-self-center mx-auto'>\n\t\t\t\t<div className='card-body'>\n\t\t\t\t\t<Link className='m-2 d-block btn btn-primary btn-lg' to={url(`admin`)}>\n\t\t\t\t\t\tAdmin\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link className='m-2 d-block btn btn-info btn-lg' to={url(`registrar`)}>\n\t\t\t\t\t\tRegistrar\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link className='m-2 d-block btn btn-success btn-lg' to={url(`teacher`)}>\n\t\t\t\t\t\tTeacher\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link className='m-2 d-block btn btn-danger btn-lg' to={url(`student`)}>\n\t\t\t\t\t\tStudent\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Selection;\n","import React, { FC } from 'react';\nimport { Route, Switch, useHistory } from 'react-router';\nimport { useURL } from '../../hooks';\nimport { State } from '../../Libraries/State';\nimport { routes } from '../../routes';\nimport Form from './Form';\nimport Selection from './Selection';\n\ntype Props = {};\n\nconst Login: FC<Props> = (props) => {\n\tconst url = useURL();\n\tconst state = State.getInstance();\n\tconst history = useHistory();\n\n\tif (state.has('user')) {\n\t\thistory.push(routes.DASHBOARD);\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={url('/')} exact component={Selection} />\n\t\t\t<Route path={url('/:role')} component={Form} />\n\t\t</Switch>\n\t);\n};\n\nexport default Login;\n","import dayjs from 'dayjs';\nimport React, { FC, useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useQuery } from 'react-query';\nimport { useArray, useNullable } from '../hooks';\nimport { courseService } from '../Services/course.service';\nimport { yearService } from '../Services/year.service';\nimport Flatpickr from 'react-flatpickr';\nimport { useHistory } from 'react-router';\nimport { requirementService } from '../Services/requirement.service';\nimport { Asker, handleError } from '../helpers';\nimport { userService } from '../Services/user.service';\nimport axios from 'axios';\nimport { CourseContract } from '../Contracts/course.contract';\nimport InputMask from 'react-input-mask';\n\ntype Props = {};\n\ntype Inputs = {\n\tcourse_id: number;\n\tlevel: string;\n\tstatus: string;\n\tterm: string;\n\tstudent_id: number;\n\tyear_id: number;\n\tmajor_id?: number;\n\tpre_registration: boolean;\n\trequirements: string[];\n\tstudent: {\n\t\tuuid: string;\n\t\tfirst_name: string;\n\t\tlast_name: string;\n\t\tmiddle_name?: string;\n\t\tgender?: string;\n\t\taddress?: string;\n\t\tplace_of_birth?: string;\n\t\tbirthday?: string;\n\t\trole: string;\n\t\temail: string;\n\t\tnumber: string;\n\t\tactive: boolean;\n\t\tpassword: string;\n\t\tfathers_name?: string;\n\t\tmothers_name?: string;\n\t\tfathers_occupation?: string;\n\t\tmothers_occupation?: string;\n\t};\n\tforce: boolean;\n};\n\nconst PreRegistration: FC<Props> = (props) => {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [all, setAll] = useState(false);\n\tconst { register, handleSubmit, reset, setValue } = useForm<Inputs>({\n\t\tdefaultValues: {\n\t\t\tforce: false,\n\t\t\tlevel: '1st',\n\t\t},\n\t});\n\tconst [birthday, setBirthday] = useNullable<Date>();\n\tconst [course, setCourse] = useNullable<CourseContract>();\n\tconst { data: courses } = useQuery('courses', () => courseService.fetch());\n\tconst { data: years } = useQuery('years', () => yearService.fetch(), {\n\t\tonSuccess(years) {\n\t\t\tif (years.length === 0) {\n\t\t\t\ttoastr.info(\n\t\t\t\t\t'Registrar has not set a school year. Pre Registration will not be available until a registrar creates one.',\n\t\t\t\t\t'Notice'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t});\n\tconst { data: requirements } = useQuery('requirements', () => requirementService.fetch());\n\tconst [selected, setSelected] = useArray<string>();\n\tconst [number, setNumber] = useState('');\n\tconst history = useHistory();\n\n\tconst submit = async (data: Inputs) => {\n\t\tsetProcessing(true);\n\t\ttry {\n\t\t\tdata.status = 'Regular';\n\t\t\tdata.term = '1st Semester';\n\t\t\tdata.year_id = years?.find((year) => year.current)?.id || 0;\n\t\t\tdata.pre_registration = true;\n\t\t\tdata.requirements = selected;\n\t\t\tdata.student.number = number;\n\t\t\tdata.student.birthday = birthday?.toJSON() || '';\n\t\t\tawait axios.post('/admission/pre-registration', data);\n\t\t\ttoastr.success('Pre Registration saved successfully.');\n\t\t\treset();\n\t\t\thistory.goBack();\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 409) {\n\t\t\t\tif (await Asker.notice(error.response?.data?.message)) {\n\t\t\t\t\tdata.force = true;\n\t\t\t\t\tawait submit(data);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thandleError(error);\n\t\t\t}\n\t\t} finally {\n\t\t\tsetProcessing(false);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tuserService.fetch().then((users) => {\n\t\t\tsetValue(\n\t\t\t\t'student.uuid',\n\t\t\t\t`student-${`${users.filter((user) => user.role === 'Student').length}`.padStart(5, '0')}-${new Date().getFullYear()}`\n\t\t\t);\n\t\t});\n\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<div className='container py-5'>\n\t\t\t<h3>Pre Registration Form</h3>\n\t\t\t<form className='form-row' onSubmit={handleSubmit(submit)}>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='first_name'>First Name</label>\n\t\t\t\t\t<input {...register('student.first_name')} type='text' id='first_name' className='form-control' disabled={processing} />\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='address'>Address</label>\n\t\t\t\t\t<input {...register('student.address')} type='text' id='address' className='form-control' disabled={processing} />\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='middle_name'>Middle Name</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\t{...register('student.middle_name')}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tid='middle_name'\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='number'>Phone Number</label>\n\t\t\t\t\t<InputMask\n\t\t\t\t\t\tmask='0\\999-999-9999'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tid='number'\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\tvalue={number}\n\t\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='last_name'>Last Name</label>\n\t\t\t\t\t<input {...register('student.last_name')} type='text' id='last_name' className='form-control' disabled={processing} />\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='email'>Email Address</label>\n\t\t\t\t\t<input {...register('student.email')} type='email' id='email' className='form-control' />\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='gender'>Gender</label>\n\t\t\t\t\t<select {...register('student.gender')} id='gender' className='form-control' disabled={processing}>\n\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t<option value='Male'>Male</option>\n\t\t\t\t\t\t<option value='Female'>Female</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='birthday'>Birthday</label>\n\t\t\t\t\t<Flatpickr\n\t\t\t\t\t\tvalue={birthday || undefined}\n\t\t\t\t\t\tid='birthday'\n\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\tmaxDate: dayjs()\n\t\t\t\t\t\t\t\t.year(new Date().getFullYear() - 15)\n\t\t\t\t\t\t\t\t.toDate(),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={(dates) => {\n\t\t\t\t\t\t\tif (dates.length > 0) {\n\t\t\t\t\t\t\t\tsetBirthday(dates[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='course_id'>Course</label>\n\t\t\t\t\t<select\n\t\t\t\t\t\t{...register('course_id')}\n\t\t\t\t\t\tid='course_id'\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tconst id = e.target.value.toNumber();\n\t\t\t\t\t\t\tconst course = courses?.find((course) => course.id === id);\n\t\t\t\t\t\t\tif (course) {\n\t\t\t\t\t\t\t\tsetCourse(course);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetCourse(null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t<option> -- Select -- </option>\n\t\t\t\t\t\t{courses\n\t\t\t\t\t\t\t?.filter((course) => course.open)\n\t\t\t\t\t\t\t.map((course, index) => (\n\t\t\t\t\t\t\t\t<option value={course.id} key={index}>\n\t\t\t\t\t\t\t\t\t{course.description}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t{course && course.majors && course.majors.length > 0 ? (\n\t\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t\t<label htmlFor='major_id'>Major</label>\n\t\t\t\t\t\t<select {...register('major_id')} id='major_id' className='form-control'>\n\t\t\t\t\t\t\t{course?.majors?.map((major, index) => (\n\t\t\t\t\t\t\t\t<option value={major.id} key={index}>\n\t\t\t\t\t\t\t\t\t{major.name}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t\t<div className='form-group col-12 p-2'>\n\t\t\t\t\t<div className='text-center'>\n\t\t\t\t\t\t<h3>Requirements</h3>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='p-2 border rounded row'>\n\t\t\t\t\t\t{requirements?.length === 0 ? 'No Requirements' : ''}\n\t\t\t\t\t\t{requirements?.map((requirement, index) => (\n\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 col-xl-3' key={index}>\n\t\t\t\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t\t\t\t<div className='custom-control custom-checkbox'>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\n\t\t\t\t\t\t\t\t\t\t\tclassName='custom-control-input'\n\t\t\t\t\t\t\t\t\t\t\tid={JSON.stringify(requirement)}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst name = e.target.value;\n\t\t\t\t\t\t\t\t\t\t\t\tif (selected.includes(name)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst index = selected.findIndex((m) => m === name);\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected.push(name);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelected([...selected]);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tchecked={selected.includes(requirement.name)}\n\t\t\t\t\t\t\t\t\t\t\tvalue={requirement.name}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<label className='custom-control-label' htmlFor={JSON.stringify(requirement)}>\n\t\t\t\t\t\t\t\t\t\t\t{requirement.name}\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<div className='col-12 d-flex'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={`btn btn-${!all ? 'secondary' : 'danger'} btn-sm ml-auto`}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tif (requirements) {\n\t\t\t\t\t\t\t\t\t\tif (!all) {\n\t\t\t\t\t\t\t\t\t\t\tsetSelected(requirements.map((requirement) => requirement.name));\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tsetSelected([]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsetAll(!all);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{!all ? 'Select All' : 'Unselect All'}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='fathers_name'>Name of Father</label>\n\t\t\t\t\t<input {...register('student.fathers_name')} type='text' id='fathers_name' className='form-control' />\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='mothers_name'>Name of Mother</label>\n\t\t\t\t\t<input {...register('student.mothers_name')} type='text' id='mothers_name' className='form-control' />\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='fathers_occupation'>Occupation of Father</label>\n\t\t\t\t\t<input {...register('student.fathers_occupation')} type='text' id='fathers_occupation' className='form-control' />\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6'>\n\t\t\t\t\t<label htmlFor='mothers_occupation'>Occupation of Mother</label>\n\t\t\t\t\t<input {...register('student.mothers_occupation')} type='text' id='mothers_occupation' className='form-control' />\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 col-md-6 d-none'>\n\t\t\t\t\t<label htmlFor='uuid'>Student Number</label>\n\t\t\t\t\t<input {...register('student.uuid')} type='text' id='uuid' className='form-control' />\n\t\t\t\t</div>\n\t\t\t\t<div className='form-group col-12 d-flex'>\n\t\t\t\t\t<span className='mr-auto'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\thistory.goBack();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={processing}>\n\t\t\t\t\t\t\tReturn\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className='ml-auto'>\n\t\t\t\t\t\t<button type='submit' className='btn btn-primary btn-sm' disabled={processing}>\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default PreRegistration;\n","import React, { useEffect, useMemo } from 'react';\nimport { v4 } from 'uuid';\nimport { BrowserRouter as Router, Switch, Route, RouteProps } from 'react-router-dom';\nimport { routes } from '../routes';\nimport Dashboard from './Dashboard';\nimport Home from './Home';\nimport Login from './Login';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport axios from 'axios';\nimport { State } from '../Libraries/State';\nimport PreRegistration from '../Components/PreRegistration';\n\nconst urls = [\n\t// '/js/jquery.min.js',\n\t'/js/popper.min.js',\n\t'/js/moment.min.js',\n\t'/js/bootstrap.min.js',\n\t'/js/simplebar.min.js',\n\t'/js/daterangepicker.js',\n\t'/js/jquery.stickOnScroll.js',\n\t'/js/tinycolor-min.js',\n\t'/js/config.js',\n\t'/js/d3.min.js',\n\t'/js/topojson.min.js',\n\t'/js/datamaps.all.min.js',\n\t'/js/datamaps-zoomto.js',\n\t'/js/datamaps.custom.js',\n\t'/js/Chart.min.js',\n\t'/js/chart-setup.js',\n\t'/js/gauge.min.js',\n\t'/js/jquery.sparkline.min.js',\n\t'/js/apexcharts.min.js',\n\t'/js/apexcharts.custom.js',\n\t'/js/jquery.mask.min.js',\n\t'/js/select2.min.js',\n\t'/js/jquery.steps.min.js',\n\t'/js/jquery.validate.min.js',\n\t'/js/jquery.timepicker.js',\n\t'/js/dropzone.min.js',\n\t'/js/uppy.min.js',\n\t'/js/quill.min.js',\n\t'/js/setup-1.js',\n\t'/js/uppy.js',\n\t'/js/apps.js',\n];\n\nexport default function App() {\n\tconst state = State.getInstance();\n\n\tconst links: RouteProps[] = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tpath: routes.HOME,\n\t\t\t\texact: true,\n\t\t\t\tcomponent: Home,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: routes.LOGIN,\n\t\t\t\tcomponent: Login,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: routes.DASHBOARD,\n\t\t\t\tcomponent: Dashboard,\n\t\t\t},\n\t\t\t{\n\t\t\t\tpath: routes.PREREGISTRATION,\n\t\t\t\tcomponent: PreRegistration,\n\t\t\t},\n\t\t],\n\t\t[]\n\t);\n\n\tconst check = async () => {\n\t\ttry {\n\t\t\tconst { data } = await axios.get('/auth/check');\n\t\t\tstate.set('user', data);\n\t\t} catch (error) {\n\t\t\tif (error.response?.status === 401) {\n\t\t\t\tstate.remove('user').remove('token');\n\t\t\t}\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tcheck();\n\t\tconst id = v4();\n\n\t\tconst scripts = urls.map((url) => {\n\t\t\tconst script = document.createElement('script');\n\n\t\t\tscript.src = url;\n\t\t\tscript.classList.add(id);\n\t\t\tscript.defer = true;\n\n\t\t\treturn script;\n\t\t});\n\n\t\tdocument.body.append(...scripts);\n\n\t\treturn () => {\n\t\t\t$(`.${id}`).remove();\n\t\t};\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\treturn (\n\t\t<QueryClientProvider client={new QueryClient()}>\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t{links.map((link, index) => (\n\t\t\t\t\t\t<Route {...link} key={index} />\n\t\t\t\t\t))}\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</QueryClientProvider>\n\t);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log('This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://cra.link/PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then((registration) => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry);\n\t\t\tgetFID(onPerfEntry);\n\t\t\tgetFCP(onPerfEntry);\n\t\t\tgetLCP(onPerfEntry);\n\t\t\tgetTTFB(onPerfEntry);\n\t\t});\n\t}\n};\n\nexport default reportWebVitals;\n","import './shims';\nimport './boot';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Views/App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport './Styles/global.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\nserviceWorkerRegistration.unregister();\n\nreportWebVitals();\n"],"sourceRoot":""}