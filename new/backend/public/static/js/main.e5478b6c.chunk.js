(this.webpackJsonpemc=this.webpackJsonpemc||[]).push([[0],{102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){"use strict";c.r(t);var s=c(27),a=c.n(s);Error.prototype.toJSON=function(){var e={},t=this;return Object.getOwnPropertyNames(t).forEach((function(c){e[c]=t[c]}),t),"stack"in e&&(e.stack=e.stack.split(/\r?\n/).map((function(e){return e.trim()})).filter((function(e,t){return 0!==t}))),e},String.prototype.toNumber=function(){var e=this.split(".");if(e.length>1){var t=(e[0].match(/\d/g)||[]).join(""),c=(e[1].match(/\d/g)||[]).join("");return Number("".concat(t,".").concat(c))||0}var s=this.match(/\d/g);return s&&Number(s.join(""))||0},String.prototype.trim=function(){return Object(s.trim)(this.toString())};var n="1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM";String.random=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t="",c=0;c<e;c++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},Array.prototype.first=function(){if(this.length>0)return this[0]},Array.prototype.last=function(){if(this.length>0)return this[this.length-1]},HTMLElement.prototype.disable=function(e){!1===e?this.removeAttribute("disabled"):this.setAttribute("disabled","disabled")};var r=c(28),l=c.n(r),i=(c(68),c(16)),o=c.n(i),d=c(33),u=c.n(d),j=(c(86),c(60),c(87),c(2)),b=c(6),m=c(11),h=c(108),O=function(){function e(t){Object(b.a)(this,e),this.id=void 0,this.name=void 0,this.id=Object(h.a)(),this.name=t}return Object(m.a)(e,[{key:"getID",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"toString",value:function(){return"'".concat(this.id," - ").concat(this.name,"'")}}]),e}(),f=function(){function e(t,c){Object(b.a)(this,e),this.key=void 0,this.callback=void 0,this.key=t,this.callback=c}return Object(m.a)(e,[{key:"execute",value:function(e){this.callback(e)}},{key:"getKey",value:function(){return this.key}}]),e}(),x=function(){function e(){Object(b.a)(this,e),this.observers={}}return Object(m.a)(e,[{key:"listen",value:function(e,t){e in this.observers||(this.observers[e]=[]);var c=new O(e);return this.observers[e].unshift(new f(c,t)),c}},{key:"unlisten",value:function(e){var t=e.getName(),c=e.getID();if(t in this.observers){var s=this.observers[t].findIndex((function(e){return e.getKey().getID()===c}));s>=0&&this.observers[t].splice(s,1)}}},{key:"dispatch",value:function(e,t){return e in this.observers?(this.observers[e].forEach((function(e){return e.execute(t)})),this):this}}]),e}(),v=function(){function e(t){Object(b.a)(this,e),this.storage=void 0,this.key="emc-state-key",this.bus=void 0,this.storage=window.localStorage,this.bus=new x,t&&(this.key=t);var c=this.getAll();this.setAll(Object(j.a)({},c))}return Object(m.a)(e,[{key:"clear",value:function(){return this.setAll({})}},{key:"getAll",value:function(){try{var e=this.storage.getItem(this.key);return e?JSON.parse(e):{}}catch(t){return{}}}},{key:"setAll",value:function(e){return this.storage.setItem(this.key,JSON.stringify(e)),this}},{key:"has",value:function(e){return e in this.getAll()}},{key:"get",value:function(e){return this.has(e)?this.getAll()[e]:null}},{key:"set",value:function(e,t){var c=this.getAll();return c[e]=t,this.dispatch(e,t),this.setAll(c)}},{key:"remove",value:function(e){if(this.has(e)){var t=this.getAll();delete t[e],this.setAll(t)}return this}},{key:"dispatch",value:function(e,t){return this.bus.dispatch(e,t),this}},{key:"listen",value:function(e,t){return this.bus.listen(e,t)}},{key:"unlisten",value:function(e){return this.bus.unlisten(e),this}}],[{key:"getInstance",value:function(){return this.instance}}]),e}();v.instance=new v;c(88);var p=c(13),N=c.n(p),g=c(42),y=c.n(g),k=c(63),w=c.n(k);N.a.extend(y.a),N.a.extend(w.a),l.a.options.escapeHtml=!0,window.toastr=l.a,window.$=u.a,window.jQuery=u.a;var S="https://emc-onlineregistration.ml";o.a.defaults.baseURL="".concat(S,"/api"),o.a.defaults.withCredentials=!0,o.a.defaults.headers.common.Accept="application/json",o.a.get("".concat(S,"/sanctum/csrf-cookie")).catch(console.error);var _=v.getInstance();if(_.has("token")){var F=_.get("token");o.a.defaults.headers.common.Authorization="Bearer ".concat(F)}_.listen("token",(function(e){o.a.defaults.headers.common.Authorization="Bearer ".concat(e)})),o.a.interceptors.request.use((function(e){return _.has("token")&&(e.headers.Authorization="Bearer ".concat(_.get("token"))),e}));var C=c(1),D=c.n(C),A=c(46),E=c.n(A),R=c(9),M=c(3),Y=c.n(M),I=c(5),T=c(8),P=c(10),L="/admissions",B="/dashboard",U="/",q="/forgot-password",V="/change-password",G="/login",J="/pre-registration",W="/courses",z="/students",H="/teachers",Z="/registrars",K="/schedules",Q="/subjects",X="/users",ee="/mails",te="/school-years",ce="/grades",se="/enrollment",ae="/profile",ne="/admission-requirements",re="/logs";function le(){var e=Object(P.h)();return function(t){return"".concat(e.path).concat(t)}}function ie(){return Object(C.useState)("Add")}function oe(e){return Object(C.useState)(e||null)}function de(e){return Object(C.useState)(e||[])}var ue=c(4),je=c(18),be=(c(17),c(43)),me=c.n(be);N.a.extend(y.a);var he=function(){function e(){Object(b.a)(this,e)}return Object(m.a)(e,null,[{key:"notice",value:function(){var e=Object(I.a)(Y.a.mark((function e(t,c){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fe,e.next=3,me()({title:c,text:t,buttons:["Cancel","Confirm"],icon:"warning"});case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},{key:"danger",value:function(){var e=Object(I.a)(Y.a.mark((function e(t,c){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fe,e.next=3,me()({title:c,text:t,buttons:["Cancel","Confirm"],dangerMode:!0,icon:"warning"});case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(I.a)(Y.a.mark((function e(t,c){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fe,e.next=3,me()({title:c,text:t,buttons:["Cancel","Save"],icon:"info"});case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()}]),e}();function Oe(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?t:c}function fe(e){return!!e}function xe(e){return Object(s.isArray)(e)}function ve(e){return Object(s.trim)(JSON.stringify(e))}function pe(e){var t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")}function Ne(e,t){for(var c in t)e(c,t[c])}var ge=null,ye=null;function ke(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return l.a.error("Something went wrong, please try again later.","Oops!");if(e.response){var c=e.response;if(c.data.errors&&422===c.status)return Object.values(c.data.errors).map((function(e){return e.map((function(e){return l.a.error(e)}))}));if(c.data.message){if([500,400,403,404].includes(c.status))return l.a.error(c.data.message);if(401===c.status)return void(null===ye&&(l.a.error("Authentication has expired. Please try logging in and try again."),ye=setTimeout((function(){null!==ye&&(clearTimeout(ye),ye=null)}),5e3)));if(xe(c.data.message))return c.data.message.forEach((function(e){return l.a.error(we(e),void 0,{extendedTimeOut:2e3})}));if(Object(s.isString)(c.data.message))return l.a.error(we(c.data.message))}}else if(e.message){if(!e.message.includes("Network Error"))return l.a.error(e.message);if(null===ge&&t)return l.a.error("Unable to connect. Please check your internet connection or the server may be down."),void(ge=setTimeout((function(){null!==ge&&(clearTimeout(ge),ge=null)}),5e3))}}function we(e){return pe(a.a.snakeCase(e).split("_").map((function(e){return"id"===e.toLowerCase()?"ID":e})).join(" "))}new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"});var Se=c(15),_e=c(14),Fe=function(){function e(t){Object(b.a)(this,e),this.url=void 0,this.url=t}return Object(m.a)(e,[{key:"fetch",value:function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get(this.resolveURL(t));case 2:return c=e.sent,s=c.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchOne",value:function(){var e=Object(I.a)(Y.a.mark((function e(t,c){var s,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("".concat(this.resolveURL(c),"/").concat(t));case 2:return s=e.sent,a=s.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,c){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(I.a)(Y.a.mark((function e(t,c){var s,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("".concat(this.resolveURL(c)),t);case 2:return s=e.sent,a=s.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,c){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(I.a)(Y.a.mark((function e(t,c,s){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.put("".concat(this.resolveURL(s),"/").concat(t),c);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,c,s){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(I.a)(Y.a.mark((function e(t,c){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete("".concat(this.resolveURL(c),"/").concat(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t,c){return e.apply(this,arguments)}}()},{key:"resolveURL",value:function(e){return"".concat(this.url).concat(e?"?".concat(new URLSearchParams(e).toString()):"")}}]),e}(),Ce=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/admissions"),De=c(24),Ae=c.n(De),Ee=c(109),Re=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/courses"),Me=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/years"),Ye=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/users"),Ie=c(31),Te=c.n(Ie),Pe=c(0),Le=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=ie(),r=Object(ue.a)(n,2),l=r[0],i=r[1],o=Object(je.a)({defaultValues:{force:!1}}),d=o.register,u=o.setValue,b=o.handleSubmit,m=o.reset,h=Object(C.useState)(-1),O=Object(ue.a)(h,2),f=O[0],x=O[1],v=Object(P.f)(),p=Object(P.h)(),g=oe(),y=Object(ue.a)(g,2),k=y[0],w=y[1],S=oe(),_=Object(ue.a)(S,2),F=_[0],D=_[1],A=Object(C.useState)(""),E=Object(ue.a)(A,2),R=E[0],M=E[1],T=oe(),L=Object(ue.a)(T,2),B=L[0],U=L[1],$=Object(Ee.a)("courses",(function(){return Re.fetch()})).data,q=Object(Ee.a)("years",(function(){return Me.fetch()})).data,V=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s,a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce.fetchOne(t);case 3:if(a=e.sent,x(a.id),Ne(u,a),w(N()(null===(c=a.student)||void 0===c?void 0:c.birthday).toDate()),a.student)for(n in a.student)u("student.".concat(n),a.student[n]);a.major_id&&D(a.major_id),M(null===(s=a.student)||void 0===s?void 0:s.number),U(a.course),i("Edit"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),ke(e.t0),v.goBack();case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s,n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,F&&(t.major_id=F),t.requirements=[],t.student.number=R,t.student.birthday=null===k||void 0===k?void 0:k.toJSON(),t.year_id=null===q||void 0===q||null===(c=q.find((function(e){return e.current})))||void 0===c?void 0:c.id,e.next=9,"Add"===l?Ce.create(t):Ce.update(f,t);case 9:toastr.success("Admission has been saved successfully."),w(null),m(),e.next=27;break;case 14:if(e.prev=14,e.t0=e.catch(1),409!==(null===(s=e.t0.response)||void 0===s?void 0:s.status)){e.next=26;break}return e.next=19,he.save(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message);case 19:if(!e.sent){e.next=24;break}return t.force=!0,e.next=23,G(t);case 23:return e.abrupt("return");case 24:e.next=27;break;case 26:ke(e.t0);case 27:return e.prev=27,a(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[1,14,27,30]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){p.path.includes("edit")?V(p.params.id):Ye.fetch().then((function(e){u("student.uuid","student-".concat("".concat(e.filter((function(e){return"Student"===e.role})).length+1).padStart(5,"0"),"-").concat((new Date).getFullYear()))}))}),[]),Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsx)("div",{className:"card",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsxs)("h5",{className:"card-title",children:[l," Admission"]}),Object(Pe.jsxs)("form",{onSubmit:b(G),children:[Object(Pe.jsxs)("div",{className:"form-row",children:[Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"first_name",children:"First Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.first_name")),{},{type:"text",id:"first_name",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"year_id",children:"School Year"}),Object(Pe.jsx)("select",{id:"year_id",className:"form-control",disabled:!0,children:null===q||void 0===q?void 0:q.filter((function(e){return e.current})).map((function(e,t){return Object(Pe.jsxs)("option",{value:e.id,children:[e.start," - ",e.end]},t)}))})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"middle_name",children:"Middle Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.middle_name")),{},{type:"text",id:"middle_name",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"uuid",children:"Student Number"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.uuid")),{},{type:"text",id:"uuid",className:"form-control",disabled:s||"Edit"===l}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.last_name")),{},{type:"text",id:"last_name",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"address",children:"Address"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.address")),{},{type:"text",id:"address",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("student.gender")),{},{id:"gender",className:"form-control",disabled:s,children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),Object(Pe.jsx)("option",{value:"Male",children:"Male"}),Object(Pe.jsx)("option",{value:"Female",children:"Female"})]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.email")),{},{type:"email",id:"email",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),Object(Pe.jsx)(Ae.a,{value:k||void 0,id:"birthday",options:{maxDate:N()().year((new Date).getFullYear()-15).toDate()},onChange:function(e){e.length>0&&w(e[0])},className:"form-control",disabled:s})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"number",children:"Phone Number"}),Object(Pe.jsx)(Te.a,{mask:"0\\999-999-9999",type:"text",id:"number",className:"form-control",disabled:s,value:R,onChange:function(e){return M(e.target.value)}})]}),Object(Pe.jsx)("div",{className:"col-12 d-flex",children:Object(Pe.jsx)("i",{className:"ml-auto",children:"Student user account credentials will be sent via email."})}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"fathers_name",children:"Name of Father"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.fathers_name")),{},{type:"text",id:"fathers_name",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"mothers_name",children:"Name of Mother"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.mothers_name")),{},{type:"text",id:"mothers_name",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"fathers_occupation",children:"Occupation of Father"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.fathers_occupation")),{},{type:"text",id:"fathers_occupation",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"mothers_occupation",children:"Occupation of Mother"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("student.mothers_occupation")),{},{type:"text",id:"mothers_occupation",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"course_id",children:"Course"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("course_id")),{},{id:"course_id",className:"form-control",onChange:function(e){var t=e.target.value.toNumber(),c=null===$||void 0===$?void 0:$.find((function(e){return e.id===t}));U(c||null)},children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),null===$||void 0===$?void 0:$.filter((function(e){return e.open})).map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.description},t)}))]}))]}),B&&B.majors&&B.majors.length>0?Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"major_id",children:"Major"}),Object(Pe.jsxs)("select",{id:"major_id",className:"form-control",onChange:function(e){D(e.target.value.toNumber())},children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),B.majors.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.name},t)}))]})]}):null,Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"term",children:"Term"}),Object(Pe.jsxs)("div",{className:"row",children:[Object(Pe.jsx)("div",{className:"col-12 col-md-4",children:Object(Pe.jsxs)("div",{className:"custom-control custom-radio",children:[Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("term")),{},{type:"radio",id:"1st-semester",className:"custom-control-input",value:"1st Semester"})),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:"1st-semester",children:"1st Semester"})]})}),Object(Pe.jsx)("div",{className:"col-12 col-md-4",children:Object(Pe.jsxs)("div",{className:"custom-control custom-radio",children:[Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("term")),{},{type:"radio",id:"2nd-semester",className:"custom-control-input",value:"2nd Semester"})),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:"2nd-semester",children:"2nd Semester"})]})}),Object(Pe.jsx)("div",{className:"col-12 col-md-4",children:Object(Pe.jsxs)("div",{className:"custom-control custom-radio",children:[Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("term")),{},{type:"radio",id:"summer",className:"custom-control-input",value:"Summer"})),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:"summer",children:"Summer"})]})})]})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"level",children:"Year Level"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("level")),{},{id:"level",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),Object(Pe.jsx)("option",{value:"1st",children:"1st"}),Object(Pe.jsx)("option",{value:"2nd",children:"2nd"}),Object(Pe.jsx)("option",{value:"3rd",children:"3rd"}),Object(Pe.jsx)("option",{value:"4th",children:"4th"}),Object(Pe.jsx)("option",{value:"5th",children:"5th"})]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"status",children:"Student Status"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("status")),{},{id:"status",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),Object(Pe.jsx)("option",{value:"Regular",children:"Regular"}),Object(Pe.jsx)("option",{value:"Irregular",children:"Irregular"})]}))]})]}),Object(Pe.jsxs)("div",{className:"form-group d-flex",children:[Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return v.goBack()},disabled:s,children:"Return"}),Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary ml-auto",disabled:s,children:"Submit"})]})]})]})})})},Be=function(e){var t=e.columns,c=e.title,s=e.buttons,a=e.casts,n=e.loading,r=e.onRefresh,l=e.items,i=e.misc,o=Object(h.a)(),d=oe(),u=Object(ue.a)(d,2),j=u[0],b=u[1],m=v.getInstance();return Object(C.useEffect)((function(){var e=$("#".concat(o));if(j&&j.destroy(),e.DataTable)try{b(e.DataTable())}catch(s){console.error(s)}setTimeout((function(){$(".dataTables_length").find("select").on("input",(function(){var e=$(this).val();m.set("".concat(c.trim().toLowerCase(),"-entries"),e)}))}),500);var t=m.get("".concat(c.trim().toLowerCase(),"-entries"))||"10";return $(".dataTables_length").find("select").val(t).trigger("change"),function(){j&&(j.destroy(),b(null))}}),[]),Object(C.useEffect)((function(){var e=$(".dataTables_empty");(l.length>0||n)&&e.addClass("d-none"),n||0!==l.length||e.removeClass("d-none")})),Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsxs)("div",{className:"card shadow",children:[Object(Pe.jsx)("div",{className:"card-header",children:Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsxs)("div",{className:"row",children:[Object(Pe.jsxs)("div",{className:"col-12 d-flex align-items-center",children:[Object(Pe.jsx)("h4",{className:"card-title mb-0",children:c}),Object(Pe.jsx)("button",{className:"btn btn-info btn-sm ml-auto",disabled:n,onClick:function(e){e.preventDefault(),r()},title:"Refresh",children:Object(Pe.jsx)("i",{className:"fas fa-sync-alt ".concat(Oe(n,"fa-spin"))})}),s]}),i?Object(Pe.jsx)("div",{className:"col-12",children:i}):null]})})}),Object(Pe.jsx)("div",{className:"card-body table-responsive",children:Object(Pe.jsxs)("table",{id:o,className:"table table-hover",children:[Object(Pe.jsx)("thead",{children:Object(Pe.jsx)("tr",{children:t.map((function(e,t){return Object(Pe.jsx)("th",{children:e.title},t)}))})}),Object(Pe.jsx)("tbody",{children:l.map((function(e,c){return Object(Pe.jsx)("tr",{children:t.map((function(t,c){var s,n,r=t.accessor;return Object(Pe.jsx)("td",{children:(s=r,n=e[r],a&&s in a?a[s](n):n)},c)}))},c)}))})]})})]})})},Ue=function(e){var t=Object(Ee.a)("admissions",(function(){return Ce.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch,l=le(),i=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye.update(t.id,{active:!t.active});case 3:toastr.success("Student ".concat(t.active?"disabled":"enabled"," successfully.")),r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ke(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();a&&ke(n);var o=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.danger("Are you sure you want to delete this Admission?");case 3:if(!e.sent){e.next=8;break}return e.next=6,Ce.delete(t);case 6:toastr.info("Admission has been deleted.","Notice"),r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),d=v.getInstance().get("user"),u=[{title:"Student ID Number",accessor:"id_number"},{title:"Student",accessor:"student"},{title:"Gender",accessor:"gender"},{title:"Course",accessor:"course"},{title:"Year Level",accessor:"level"},{title:"Semester",accessor:"term"},{title:"Requirements",accessor:"requirements"}];return"Registrar"===(null===d||void 0===d?void 0:d.role)&&u.push({title:"Actions",accessor:"actions"}),Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"Admissions",loading:s,items:(null===c||void 0===c?void 0:c.filter((function(e){var t,c;return!(null===(t=e.student)||void 0===t?void 0:t.active)&&(null===(c=e.year)||void 0===c?void 0:c.current)&&!e.done})).map((function(e){var t,c,s,a,n,r,u,b,m,h;return Object(j.a)(Object(j.a)({},e),{},{id_number:null===(t=e.student)||void 0===t?void 0:t.uuid,student:"".concat(null===(c=e.student)||void 0===c?void 0:c.last_name,", ").concat(null===(s=e.student)||void 0===s?void 0:s.first_name," ").concat((null===(a=e.student)||void 0===a?void 0:a.middle_name)||""),gender:null===(n=e.student)||void 0===n?void 0:n.gender,course:"".concat(null===(r=e.course)||void 0===r?void 0:r.code).concat(e.major?" - Major in ".concat(e.major.name):""),requirements:null===(u=e.requirements)||void 0===u?void 0:u.map((function(e,t){return Object(Pe.jsx)("span",{className:"d-block",children:e},t)})),actions:"Registrar"===(null===d||void 0===d?void 0:d.role)?Object(Pe.jsxs)("div",{style:{minWidth:"100px"},children:[Object(Pe.jsx)(T.b,{to:l("".concat(e.id,"/edit")),className:"btn btn-warning btn-sm mx-1",title:"Edit",children:Object(Pe.jsx)("i",{className:"fas fa-edit"})}),Object(Pe.jsx)("button",{className:"btn btn-".concat((null===(b=e.student)||void 0===b?void 0:b.active)?"danger":"info"," btn-sm mx-1"),onClick:function(){var t=Object(I.a)(Y.a.mark((function t(c){var s;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,he.notice("Are you sure you want to ".concat((null===(s=e.student)||void 0===s?void 0:s.active)?"unconfirm":"confirm"," this student?"));case 3:if(!t.sent){t.next=5;break}i(e.student);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),title:(null===(m=e.student)||void 0===m?void 0:m.active)?"Unconfirm":"Confirm",children:Object(Pe.jsx)("i",{className:"fas fa-user-".concat((null===(h=e.student)||void 0===h?void 0:h.active)?"times":"check")})}),Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mx-1 d-none",onClick:function(t){t.preventDefault(),o(e.id)},children:Object(Pe.jsx)("i",{className:"fas fa-trash"})})]}):null})})))||[],columns:u,buttons:Object(Pe.jsx)(Pe.Fragment,{children:"Registrar"===(null===d||void 0===d?void 0:d.role)?Object(Pe.jsx)(T.b,{to:l("add"),className:"btn btn-primary btn-sm ml-2",children:Object(Pe.jsx)("i",{className:"fas fa-plus"})}):null})})},$e=function(e){var t=le(),c=[{path:t("/"),exact:!0,component:Ue},{path:t("/add"),component:Le},{path:t("/:id/edit"),component:Le}];return Object(Pe.jsx)(P.c,{children:c.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},qe=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=Object(je.a)(),r=n.register,l=n.handleSubmit,i=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,o.a.post("/auth/change-password",t);case 4:toastr.success("Password changed successfully."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),ke(e.t0);case 10:return e.prev=10,a(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(Pe.jsx)("div",{className:"container-fluid d-flex",children:Object(Pe.jsx)("div",{className:"mx-auto",children:Object(Pe.jsxs)("form",{onSubmit:l(i),children:[Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"old_password",children:"Old Password"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},r("old_password")),{},{type:"password",id:"old_password",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"new_password",children:"New Password"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},r("new_password")),{},{type:"password",id:"new_password",className:"form-control",disabled:s,pattern:"^(?=\\P{Ll}*\\p{Ll})(?=\\P{Lu}*\\p{Lu})(?=\\P{N}*\\p{N})(?=[\\p{L}\\p{N}]*[^\\p{L}\\p{N}])[\\s\\S]{8,}$"})),Object(Pe.jsx)("small",{className:"form-text text-muted",children:"Password must contain atleast uppercase and lowercase letters, numbers and special characters."})]}),Object(Pe.jsx)("div",{className:"form-group",children:Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:s,children:"Submit"})})]})})})},Ve=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=ie(),r=Object(ue.a)(n,2),l=r[0],i=r[1],o=Object(je.a)({defaultValues:{force:!1}}),d=o.register,u=o.setValue,b=o.handleSubmit,m=o.reset,h=Object(C.useState)(-1),O=Object(ue.a)(h,2),f=O[0],x=O[1],v=de(),p=Object(ue.a)(v,2),N=p[0],g=p[1],y=Object(P.f)(),k=Object(P.h)(),w=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re.fetchOne(t);case 3:c=e.sent,x(c.id),Ne(u,c),g(c.majors),i("Edit"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0),y.goBack();case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s,n,r,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=0,s=[/[A-Z]{4}/g,/[A-Z]{4} - [A-Z]{1,}/g];case 2:if(!(c<s.length)){e.next=35;break}if(!s[c].test(t.code)){e.next=32;break}return a(!0),e.prev=6,t.majors=N,e.next=10,"Add"===l?Re.create(t):Re.update(f,t);case 10:return toastr.success("Course has been saved successfully."),g([]),e.abrupt("return",m());case 15:if(e.prev=15,e.t0=e.catch(6),409!==(null===(n=e.t0.response)||void 0===n?void 0:n.status)){e.next=27;break}return e.next=20,he.save(null===(r=e.t0.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message);case 20:if(!e.sent){e.next=25;break}return t.force=!0,e.next=24,S(t);case 24:return e.abrupt("return");case 25:e.next=28;break;case 27:ke(e.t0);case 28:return e.prev=28,a(!1),e.finish(28);case 31:return e.abrupt("break",35);case 32:c++,e.next=2;break;case 35:return e.abrupt("return",toastr.error("Course Code does not follow correct format."));case 36:case"end":return e.stop()}}),e,null,[[6,15,28,31]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){k.path.includes("edit")&&w(k.params.id)}),[]),Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsx)("div",{className:"card",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsxs)("h5",{className:"card-title",children:[l," Course"]}),Object(Pe.jsxs)("form",{onSubmit:b(S),children:[Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"code",children:"Course Code"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("code")),{},{type:"text",id:"code",className:"form-control",disabled:s})),Object(Pe.jsx)("small",{className:"form-text text-muted",children:"Course code may not be editable in the future, be careful on your entry."})]}),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"description",children:"Course Description"}),Object(Pe.jsx)("textarea",Object(j.a)(Object(j.a)({},d("description")),{},{id:"description",cols:30,rows:4,className:"form-control",disabled:s}))]}),Object(Pe.jsx)("div",{className:"form-group",children:Object(Pe.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("open")),{},{type:"checkbox",className:"custom-control-input",id:"open",disabled:s})),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:"open",children:"Open for Enrollment"})]})}),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("h4",{children:"Majors"}),Object(Pe.jsx)("button",{className:"btn btn-info btn-sm",onClick:function(e){e.preventDefault(),N.push({name:"",course_id:0}),g(Object(R.a)(N))},children:"Add"}),Object(Pe.jsx)("div",{className:"row",children:N.map((function(e,t){return Object(Pe.jsx)("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3 p-2",children:Object(Pe.jsxs)("div",{className:"p-2 border rounded",children:[Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mb-2",onClick:function(e){e.preventDefault(),N.splice(t,1),g(Object(R.a)(N))},children:"Remove"}),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsxs)("label",{children:["Major ",t+1]}),Object(Pe.jsx)("input",{type:"text",className:"form-control",onChange:function(c){e.name=c.target.value,N.splice(t,1,e),g(Object(R.a)(N))},value:e.name})]})]})},t)}))})]}),Object(Pe.jsxs)("div",{className:"form-group d-flex",children:[Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return y.goBack()},disabled:s,children:"Return"}),Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary ml-auto",disabled:s,children:"Submit"})]})]})]})})})},Ge=function(e){var t=Object(Ee.a)("courses",(function(){return Re.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch,l=le();a&&ke(n);var i=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.danger("Are you sure you want to delete this Course?");case 3:if(!e.sent){e.next=8;break}return e.next=6,Re.delete(t);case 6:toastr.info("Course has been deleted.","Notice"),r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),o=v.getInstance().get("user"),d=[{title:"Course Code",accessor:"code"},{title:"Course Description",accessor:"description"},{title:"Majors",accessor:"majors"},{title:"Status",accessor:"open"}];return"Registrar"===(null===o||void 0===o?void 0:o.role)&&d.push({title:"Actions",accessor:"actions"}),Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"Courses",loading:s,items:(null===c||void 0===c?void 0:c.map((function(e){var t;return Object(j.a)(Object(j.a)({},e),{},{open:e.open?Object(Pe.jsx)("span",{className:"badge badge-success",children:"Open for Enrollment"}):Object(Pe.jsx)("span",{className:"badge badge-danger",children:"Not Open for Enrollment"}),majors:null===(t=e.majors)||void 0===t?void 0:t.map((function(e,t){return Object(Pe.jsx)("span",{className:"d-block",children:e.name},t)})),actions:"Registrar"===(null===o||void 0===o?void 0:o.role)?Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(T.b,{to:l("".concat(e.id,"/edit")),className:"btn btn-warning btn-sm mx-1",children:Object(Pe.jsx)("i",{className:"fas fa-edit"})}),Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mx-1",onClick:function(t){t.preventDefault(),i(e.id)},children:Object(Pe.jsx)("i",{className:"fas fa-trash"})})]}):null})})))||[],columns:d,buttons:Object(Pe.jsx)(Pe.Fragment,{children:"Registrar"===(null===o||void 0===o?void 0:o.role)?Object(Pe.jsx)(T.b,{to:l("add"),className:"btn btn-primary btn-sm ml-2",children:Object(Pe.jsx)("i",{className:"fas fa-plus"})}):null})})},Je=function(e){var t=le(),c=[{path:t("/"),exact:!0,component:Ge},{path:t("/add"),component:Ve},{path:t("/:id/edit"),component:Ve}];return Object(Pe.jsx)(P.c,{children:c.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},We=c(39);We.a.register.apply(We.a,Object(R.a)(We.b));var ze=function(e){var t=v.getInstance().get("user"),c=Object(C.useState)({students:{old:0,new:0},courses:[],genders:{males:0,females:0},graduates:0,enrollees:{pending:0},subjects:[]}),s=Object(ue.a)(c,2),a=s[0],n=s[1],r=function(){var e=Object(I.a)(Y.a.mark((function e(){var t,c,s,a,r,l,i,d;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([o.a.get("/analytics/students").then((function(e){return e.data})),o.a.get("/analytics/courses").then((function(e){return e.data})),o.a.get("/analytics/genders").then((function(e){return e.data})),o.a.get("/analytics/graduates").then((function(e){return e.data})),o.a.get("/analytics/enrollees").then((function(e){return e.data})),o.a.get("/analytics/subjects").then((function(e){return e.data}))]);case 3:return t=e.sent,c=Object(ue.a)(t,6),s=c[0],a=c[1],r=c[2],l=c[3],i=c[4],d=c[5],n({students:s,courses:a,subjects:d,genders:r,graduates:l,enrollees:i}),e.abrupt("return",{courses:a,subjects:d});case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{courses:[],subjects:[]});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){var e=[];return r().then((function(t){var c=t.courses,s=t.subjects;try{e.push(new We.a($("#course"),{type:"bar",data:{labels:c.map((function(e){return e.code})),datasets:[{label:"# of Students",data:c.map((function(e){return e.admissions_count})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,ticks:{precision:0}}}}})),e.push(new We.a($("#subject"),{type:"bar",data:{labels:s.map((function(e){return e.code})),datasets:[{label:"# of Students",data:s.map((function(e){return e.students_count})),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,ticks:{precision:0}}}}}))}catch(a){console.log("chartjs",a)}})),function(){e.forEach((function(e){return e.destroy()}))}}),[]),Object(Pe.jsx)("div",{className:"container-fluid ".concat(Oe("Student"===(null===t||void 0===t?void 0:t.role),"d-none")),children:Object(Pe.jsxs)("div",{className:"row",children:[Object(Pe.jsx)("div",{className:"col-12 col-md-6",children:Object(Pe.jsx)("div",{className:"card bg-dark text-white shadow",children:Object(Pe.jsx)("div",{className:"card-body",children:Object(Pe.jsxs)("div",{className:"row align-items-center",children:[Object(Pe.jsx)("div",{className:"col-3 text-center",children:Object(Pe.jsx)("span",{className:"circle circle-sm",children:Object(Pe.jsx)("i",{className:"fe fe-16 fe-users mb-0"})})}),Object(Pe.jsxs)("div",{className:"col pr-0",children:[Object(Pe.jsx)("p",{className:"small mb-0",children:"Male Students"}),Object(Pe.jsx)("span",{className:"text-white h3 mb-0",id:"male-students",children:a.genders.males})]})]})})})}),Object(Pe.jsx)("div",{className:"col-12 col-md-6",children:Object(Pe.jsx)("div",{className:"card bg-dark text-white shadow",children:Object(Pe.jsx)("div",{className:"card-body",children:Object(Pe.jsxs)("div",{className:"row align-items-center",children:[Object(Pe.jsx)("div",{className:"col-3 text-center",children:Object(Pe.jsx)("span",{className:"circle circle-sm",children:Object(Pe.jsx)("i",{className:"fe fe-16 fe-users mb-0"})})}),Object(Pe.jsxs)("div",{className:"col pr-0",children:[Object(Pe.jsx)("p",{className:"small mb-0",children:"Female Students"}),Object(Pe.jsx)("span",{className:"text-white h3 mb-0",id:"female-students",children:a.genders.females})]})]})})})}),"Registrar"===(null===t||void 0===t?void 0:t.role)?Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)("div",{className:"col-12 col-md-6 mt-5",children:Object(Pe.jsx)("div",{className:"card bg-dark text-white shadow",children:Object(Pe.jsx)("div",{className:"card-body",children:Object(Pe.jsxs)("div",{className:"row align-items-center",children:[Object(Pe.jsx)("div",{className:"col-3 text-center",children:Object(Pe.jsx)("span",{className:"circle circle-sm",children:Object(Pe.jsx)("i",{className:"fe fe-16 fe-users mb-0"})})}),Object(Pe.jsxs)("div",{className:"col pr-0",children:[Object(Pe.jsx)("p",{className:"small mb-0",children:"Pending Enrollees"}),Object(Pe.jsx)("span",{className:"text-white h3 mb-0",id:"pending-enrollees",children:a.enrollees.pending})]})]})})})}),Object(Pe.jsx)("div",{className:"col-12 col-md-6 mt-5",children:Object(Pe.jsx)("div",{className:"card bg-dark text-white shadow",children:Object(Pe.jsx)("div",{className:"card-body",children:Object(Pe.jsxs)("div",{className:"row align-items-center",children:[Object(Pe.jsx)("div",{className:"col-3 text-center",children:Object(Pe.jsx)("span",{className:"circle circle-sm",children:Object(Pe.jsx)("i",{className:"fe fe-16 fe-users mb-0"})})}),Object(Pe.jsxs)("div",{className:"col pr-0",children:[Object(Pe.jsx)("p",{className:"small mb-0",children:"Graduates"}),Object(Pe.jsx)("span",{className:"text-white h3 mb-0",id:"graduates",children:a.graduates})]})]})})})})]}):null,Object(Pe.jsx)("div",{className:"col-12",children:Object(Pe.jsx)("hr",{className:"mt-5"})}),Object(Pe.jsx)("div",{className:"col-12 col-md-6",children:Object(Pe.jsxs)("div",{className:"card shadow",children:[Object(Pe.jsx)("div",{className:"card-header",children:Object(Pe.jsx)("h4",{className:"card-title",children:"Students per Course"})}),Object(Pe.jsx)("div",{className:"card-body",children:Object(Pe.jsx)("canvas",{id:"course"})})]})}),Object(Pe.jsx)("div",{className:"col-12 col-md-6",children:Object(Pe.jsxs)("div",{className:"card shadow",children:[Object(Pe.jsx)("div",{className:"card-header",children:Object(Pe.jsx)("h4",{className:"card-title",children:"Students per Subject"})}),Object(Pe.jsx)("div",{className:"card-body",children:Object(Pe.jsx)("canvas",{id:"subject"})})]})})]})})},He=function(e){var t=v.getInstance(),c=Object(C.useState)(t.get("mode")||"dark"),s=Object(ue.a)(c,2),a=s[0],n=s[1],r=Object(C.useState)(!1),l=Object(ue.a)(r,2),i=l[0],o=l[1],d=Object(P.f)(),u=document.getElementById("lightTheme"),j=document.getElementById("darkTheme");return Object(C.useEffect)((function(){"dark"===a?($(".vertical").addClass("dark"),u.disable(!0),j.disable(!1)):($(".vertical").removeClass("dark"),j.disable(!0),u.disable(!1))}),[a,u,j]),Object(Pe.jsxs)("nav",{className:"topnav navbar navbar-light",children:[Object(Pe.jsx)("button",{type:"button",className:"navbar-toggler text-muted mt-2 p-0 mr-3",onClick:function(e){e.preventDefault();var t=$(".vertical"),c=$("#account-role-display");t.hasClass("collapsed")?(c.removeClass("d-none"),t.removeClass("collapsed")):(c.addClass("d-none"),t.addClass("collapsed"))},children:Object(Pe.jsx)("i",{className:"fe fe-menu navbar-toggler-icon"})}),Object(Pe.jsxs)("ul",{className:"nav",children:[Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsx)("a",{className:"nav-link text-muted my-2",href:"/",onClick:function(e){e.preventDefault(),"dark"===a?(t.set("mode","light"),n("light")):(t.set("mode","dark"),n("dark"))},children:Object(Pe.jsx)("i",{className:"fe fe-sun fe-16"})})}),Object(Pe.jsxs)("li",{className:"nav-item dropdown ".concat(Oe(i,"show")),children:[Object(Pe.jsx)("a",{className:"nav-link dropdown-toggle text-muted pr-0",href:"/",role:"button",onClick:function(e){e.preventDefault(),o(!i)},children:Object(Pe.jsx)("span",{className:"avatar avatar-sm mt-2",children:Object(Pe.jsx)("img",{src:"https://via.placeholder.com/200",alt:"...",className:"avatar-img rounded-circle"})})}),Object(Pe.jsx)("div",{className:"dropdown-menu dropdown-menu-right ".concat(Oe(i,"show")),children:Object(Pe.jsxs)("a",{className:"dropdown-item d-flex align-items-center",href:"/",onClick:function(){var e=Object(I.a)(Y.a.mark((function e(c){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,he.notice("Are you sure you want to logout?");case 3:if(!e.sent){e.next=6;break}t.remove("user").remove("token"),d.push(U);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(Pe.jsx)("i",{className:"la la-sign-out-alt mr-1"}),Object(Pe.jsx)("span",{children:"Logout"})]})})]})]})]})},Ze=function(e){var t=Object(Ee.a)("admissions",(function(){return Ce.fetch()})).data,c=le(),s=v.getInstance().get("user"),a={Admin:[W,z,H,Z,X,ee,re],Registrar:[W,z,H,Q,K,L,te,ne],Teacher:[W,z,Q,K],Student:[ce,K,ae,se]};return s?Object(Pe.jsxs)("aside",{className:"sidebar-left border-right bg-white shadow",id:"leftSidebar","data-simplebar":!0,children:[Object(Pe.jsx)("a",{href:"/",className:"btn collapseSidebar toggle-btn d-lg-none text-muted ml-2 mt-3","data-toggle":"toggle",children:Object(Pe.jsx)("i",{className:"fe fe-x",children:Object(Pe.jsx)("span",{className:"sr-only"})})}),Object(Pe.jsxs)("nav",{className:"vertnav navbar navbar-light",children:[Object(Pe.jsx)("div",{className:"w-100 mb-4 d-flex",children:Object(Pe.jsx)(T.c,{className:"navbar-brand mx-auto mt-2 flex-fill text-center",to:B,children:Object(Pe.jsx)("img",{src:"/logo.jpg",alt:"EMC",className:"shadow border rounded-circle",style:{height:"50px",width:"50px"}})})}),Object(Pe.jsxs)("ul",{className:"navbar-nav flex-fill w-100 mb-2",children:[Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(""),className:"nav-link",activeClassName:"active",exact:!0,children:[Object(Pe.jsx)("i",{className:"fe fe-home fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Dashboard"})]})}),a[s.role].includes(W)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(W),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-navigation fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Courses"})]})}):null,"Student"!==s.role?Object(Pe.jsxs)("li",{className:"nav-item dropdown",children:[Object(Pe.jsxs)("a",{href:"/users",className:"dropdown-toggle nav-link collapsed",onClick:function(e){e.preventDefault(),$("#users").collapse("toggle")},children:[Object(Pe.jsx)("i",{className:"fe fe-user fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Users"})]}),Object(Pe.jsxs)("ul",{className:"collapse list-unstyled pl-4 w-100",id:"users",children:[a[s.role].includes(z)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(z),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-user fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Students"})]})}):null,a[s.role].includes(H)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(H),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-user fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Teachers"})]})}):null,a[s.role].includes(Z)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(Z),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-user fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Registrars"})]})}):null]})]}):null,a[s.role].includes(ee)?Object(Pe.jsx)("li",{className:"nav-item d-none",children:Object(Pe.jsxs)(T.c,{to:c(ee),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-mail fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Email Outbox"})]})}):null,a[s.role].includes(Q)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(Q),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-book fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Subjects"})]})}):null,a[s.role].includes(K)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(K),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-calendar fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Schedules"})]})}):null,a[s.role].includes(L)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(L),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-pen-tool fe-16"}),Object(Pe.jsxs)("span",{className:"ml-3 item-text",children:["Admissions",t&&t.filter((function(e){var t,c;return(null===(t=e.year)||void 0===t?void 0:t.current)&&!e.done&&!(null===(c=e.student)||void 0===c?void 0:c.active)})).length>0?Object(Pe.jsx)("span",{className:"ml-1 badge badge-danger",children:t.filter((function(e){var t,c;return(null===(t=e.year)||void 0===t?void 0:t.current)&&!e.done&&!(null===(c=e.student)||void 0===c?void 0:c.active)})).length}):null]})]})}):null,a[s.role].includes(ne)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(ne),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-clipboard fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Admission Requirements"})]})}):null,a[s.role].includes(te)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(te),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-calendar fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"School Years"})]})}):null,a[s.role].includes(ce)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(ce),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-bookmark fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Grades"})]})}):null,a[s.role].includes(se)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(se),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-book-open fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Enrollment"})]})}):null,a[s.role].includes(ae)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(ae),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-user fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Profile"})]})}):null,a[s.role].includes(re)?Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(re),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-book fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Logs"})]})}):null,Object(Pe.jsx)("li",{className:"nav-item",children:Object(Pe.jsxs)(T.c,{to:c(V),className:"nav-link",activeClassName:"active",children:[Object(Pe.jsx)("i",{className:"fe fe-key fe-16"}),Object(Pe.jsx)("span",{className:"ml-3 item-text",children:"Change Password"})]})})]}),Object(Pe.jsxs)("p",{id:"account-role-display",children:["Signed in as: ",Object(Pe.jsx)("b",{children:null===s||void 0===s?void 0:s.role})]})]})]}):null},Ke=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/subjects"),Qe=function(e){var t,c,s,a,n=Object(C.useState)(!1),r=Object(ue.a)(n,2),l=r[0],i=r[1],d=Object(C.useState)(!1),u=Object(ue.a)(d,2),j=u[0],b=u[1],m=v.getInstance().get("user"),h=de(),O=Object(ue.a)(h,2),f=O[0],x=O[1],p=de(),N=Object(ue.a)(p,2),g=N[0],y=N[1],k=Object(Ee.a)(["user",null===m||void 0===m?void 0:m.id],(function(){return Ye.fetchOne(null===m||void 0===m?void 0:m.id)}),{onSuccess:function(e){var t;e.active||toastr.info("Your account is currently inactive. Please settle your payment to be reactivated by the registrar."),y(null===(t=e.subjects)||void 0===t?void 0:t.map((function(e){return e.id})))}}).data,w=Object(C.createRef)(),S=Object(Ee.a)("subjects",(function(){return Ke.fetch()})).data,_=Object(C.useState)(!1),F=Object(ue.a)(_,2),D=F[0],A=F[1],E=null===k||void 0===k||null===(t=k.admissions)||void 0===t?void 0:t.find((function(e){var t;return null===(t=e.year)||void 0===t?void 0:t.current})),M=function(){var e=Object(I.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===k||void 0===k?void 0:k.active){e.next=2;break}return e.abrupt("return");case 2:return i(!0),e.prev=3,e.next=6,he.notice("If you continue you can't edit the selected subjects.");case 6:if(!e.sent){e.next=10;break}return e.next=9,o.a.post("/users/".concat(null===k||void 0===k?void 0:k.id,"/subjects"),{subjects:f});case 9:toastr.success("Subjects enrolled successfully.");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),ke(e.t0);case 15:return e.prev=15,i(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return k&&E&&k.active?Object(Pe.jsxs)("div",{ref:w,className:"container",children:[Object(Pe.jsx)("div",{className:"row",children:Object(Pe.jsxs)("div",{className:"col-12 col-md-8 offset-md-2 text-center",children:[Object(Pe.jsx)("h4",{children:"EASTERN MINDORO COLLEGE"}),Object(Pe.jsx)("p",{children:"Bongabong, Oriental Mindoro"}),Object(Pe.jsx)("h6",{children:"College Enrollment Slip"}),Object(Pe.jsx)("p",{style:{fontSize:"1.5rem"},children:null===E||void 0===E||null===(c=E.course)||void 0===c?void 0:c.description})]})}),Object(Pe.jsxs)("div",{className:"d-flex mt-5",children:[Object(Pe.jsxs)("span",{className:"mr-auto",children:[Object(Pe.jsx)("b",{children:"Name:"})," ",k.last_name,", ",k.first_name," ",k.middle_name||""]}),Object(Pe.jsxs)("span",{className:"ml-auto",children:[Object(Pe.jsx)("b",{children:"Semester:"})," ",E.term]})]}),Object(Pe.jsxs)("div",{className:"d-flex",children:[Object(Pe.jsxs)("span",{className:"mr-auto",children:[Object(Pe.jsx)("b",{children:"Year Level:"})," ",E.level]}),Object(Pe.jsxs)("span",{className:"ml-auto",children:[Object(Pe.jsx)("b",{children:"Status: "})," ",E.status]})]}),Object(Pe.jsxs)("div",{className:"d-flex mt-3",children:[Object(Pe.jsxs)("span",{className:"mr-auto",children:[Object(Pe.jsx)("b",{children:"Student Number:"})," ",k.uuid]}),Object(Pe.jsxs)("span",{className:"ml-auto",children:[Object(Pe.jsx)("b",{children:"Year:"})," ",null===(s=E.year)||void 0===s?void 0:s.start," - ",null===(a=E.year)||void 0===a?void 0:a.end]})]}),Object(Pe.jsx)("div",{className:"d-flex mt-2",children:Object(Pe.jsx)("button",{className:"btn btn-".concat(D?"danger":"secondary"," btn-sm d-inline"),onClick:function(e){if(e.preventDefault(),S){if(D)x([]);else{var t=S.filter((function(e){return!g.includes(e.id)}));x([].concat(Object(R.a)(f),Object(R.a)(t.map((function(e){return e.id})))))}A(!D)}},children:D?"Unselect All":"Select All"})}),Object(Pe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),M()},className:"table-responsive",children:[Object(Pe.jsxs)("table",{className:"table table-bordered mt-3 w-100",style:{display:"table"},children:[Object(Pe.jsx)("thead",{children:Object(Pe.jsxs)("tr",{children:[Object(Pe.jsx)("th",{}),Object(Pe.jsx)("th",{children:"Subject Code"}),Object(Pe.jsx)("th",{children:"Description"}),Object(Pe.jsx)("th",{children:"Units"})]})}),Object(Pe.jsxs)("tbody",{children:[null===S||void 0===S?void 0:S.filter((function(e){return j?g.includes(e.id):e.level===E.level&&e.term===E.term&&e.course_id===E.course_id})).map((function(e,t){return Object(Pe.jsxs)("tr",{children:[Object(Pe.jsxs)("td",{children:[Object(Pe.jsx)("input",{type:"checkbox",checked:void 0!==f.find((function(t){return e.id===t})),disabled:l||g.includes(e.id),value:e.id,onChange:function(e){var t,c=e.target.value.toNumber();f.includes(c)?function(e){var t=f.findIndex((function(t){return t===e}));f.splice(t,1),x(Object(R.a)(f))}(c):(t=c,f.push(t),x(Object(R.a)(f)))}}),j?null:Object(Pe.jsx)("sup",{className:"ml-1",children:Object(Pe.jsx)("i",{children:g.includes(e.id)?"Enrolled":""})})]}),Object(Pe.jsx)("td",{children:e.code}),Object(Pe.jsx)("td",{children:e.description}),Object(Pe.jsx)("td",{children:e.units})]},t)})),Object(Pe.jsxs)("tr",{children:[Object(Pe.jsx)("td",{style:{maxWidth:"30px"},children:"Total Units"}),Object(Pe.jsx)("td",{}),Object(Pe.jsx)("td",{}),Object(Pe.jsx)("td",{children:null===S||void 0===S?void 0:S.filter((function(e){return f.includes(e.id)||g.includes(e.id)})).reduce((function(e,t){return t.units.toNumber()+e}),0)})]})]})]}),Object(Pe.jsxs)("div",{className:"form-group mt-2 d-flex",children:[Object(Pe.jsx)("span",{className:"mr-auto",children:Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:l,children:"Save"})}),Object(Pe.jsx)("span",{className:"ml-auto",children:Object(Pe.jsx)("button",{className:"btn btn-info btn-sm",onClick:function(e){e.preventDefault(),b(!0),$("#leftSidebar").addClass("d-none"),$(".topnav").addClass("d-none"),$("input").addClass("d-none"),$("button").addClass("d-none"),setTimeout((function(){window.print(),b(!1),$("#leftSidebar").removeClass("d-none"),$(".topnav").removeClass("d-none"),$("input").removeClass("d-none"),$("button").removeClass("d-none")}),100)},children:"Download"})})]})]})]}):null},Xe=function(e){var t=v.getInstance().get("user"),c=de(),s=Object(ue.a)(c,2),a=s[0],n=s[1],r=function(){var e=Object(I.a)(Y.a.mark((function e(){var t,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/auth/admissions");case 3:t=e.sent,c=t.data,n(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ke(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){r()}),[]),t?Object(Pe.jsxs)("div",{className:"container",children:[Object(Pe.jsx)("div",{className:"row",children:Object(Pe.jsxs)("div",{className:"col-12 col-md-6 offset-md-3 text-center",children:[Object(Pe.jsx)("h4",{children:"EASTERN MINDORO COLLEGE"}),Object(Pe.jsx)("p",{children:"Bongabong, Oriental Mindoro"})]})}),a.map((function(e,c){var s,a,n,r,l,i;return Object(Pe.jsxs)(C.Fragment,{children:[Object(Pe.jsxs)("div",{className:"d-flex mt-5",children:[Object(Pe.jsxs)("span",{className:"mr-auto",children:[Object(Pe.jsx)("b",{children:"Name:"})," ",t.last_name,", ",t.first_name," ",t.middle_name||""]}),Object(Pe.jsxs)("span",{className:"ml-auto",children:[Object(Pe.jsx)("b",{children:"Semester:"})," ",e.term]})]}),Object(Pe.jsxs)("div",{className:"d-flex",children:[Object(Pe.jsxs)("span",{className:"mr-auto",children:[Object(Pe.jsx)("b",{children:"Year Level:"})," ",e.level]}),Object(Pe.jsxs)("span",{className:"ml-auto",children:[Object(Pe.jsx)("b",{children:"Status: "})," ",e.status]})]}),Object(Pe.jsxs)("div",{className:"d-flex mt-3",children:[Object(Pe.jsxs)("span",{className:"mr-auto",children:[Object(Pe.jsx)("b",{children:"Student Number:"})," ",t.uuid]}),Object(Pe.jsxs)("span",{className:"ml-auto",children:[Object(Pe.jsx)("b",{children:"Year:"})," ",null===(s=e.year)||void 0===s?void 0:s.start," - ",null===(a=e.year)||void 0===a?void 0:a.end]})]}),Object(Pe.jsxs)("table",{className:"table table-bordered mt-3",children:[Object(Pe.jsx)("thead",{children:Object(Pe.jsxs)("tr",{children:[Object(Pe.jsx)("th",{children:"Subject Code"}),Object(Pe.jsx)("th",{children:"Description"}),Object(Pe.jsx)("th",{children:"Units"}),Object(Pe.jsx)("th",{children:"Grades"}),Object(Pe.jsx)("th",{children:"Grade Status"})]})}),Object(Pe.jsxs)("tbody",{children:[null===(n=e.student)||void 0===n||null===(r=n.grades)||void 0===r?void 0:r.map((function(e,t){var c,s,a;return Object(Pe.jsxs)("tr",{children:[Object(Pe.jsx)("td",{children:null===(c=e.subject)||void 0===c?void 0:c.code}),Object(Pe.jsx)("td",{style:{minWidth:"100px"},children:null===(s=e.subject)||void 0===s?void 0:s.description}),Object(Pe.jsx)("td",{children:null===(a=e.subject)||void 0===a?void 0:a.units}),Object(Pe.jsx)("td",{children:e.grade}),Object(Pe.jsx)("td",{children:e.status})]},t)})),Object(Pe.jsxs)("tr",{children:[Object(Pe.jsx)("td",{children:Object(Pe.jsx)("b",{children:"Total Units"})}),Object(Pe.jsx)("td",{}),Object(Pe.jsx)("td",{children:null===(l=e.student)||void 0===l||null===(i=l.grades)||void 0===i?void 0:i.reduce((function(e,t){return e+t.grade}),0)}),Object(Pe.jsx)("td",{}),Object(Pe.jsx)("td",{})]})]})]})]},c)}))]}):null},et=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=v.getInstance().get("user"),r=Object(je.a)({defaultValues:Object(j.a)({},n)}),l=r.register,i=r.handleSubmit,d=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n?void 0:n.active){e.next=2;break}return e.abrupt("return");case 2:return a(!0),e.prev=3,e.next=6,o.a.post("/auth/profile",t);case 6:toastr.success("Profile updated successfully."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),ke(e.t0);case 12:return e.prev=12,a(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})));return function(t){return e.apply(this,arguments)}}();return n?(n.active||toastr.info("Your account is currently inactive. Profile changes will not be saved."),Object(Pe.jsx)("div",{className:"container",children:Object(Pe.jsxs)("form",{className:"row",onSubmit:i(d),children:[Object(Pe.jsx)("div",{className:"col-12 col-md-6",children:Object(Pe.jsxs)("div",{className:"row",children:[Object(Pe.jsx)("div",{className:"col-3 my-2",children:"Student Number"}),Object(Pe.jsx)("div",{className:"col-9 my-2 d-flex align-items-center",children:Object(Pe.jsx)("b",{children:n.uuid})}),Object(Pe.jsx)("div",{className:"col-3 my-2 d-flex align-items-center",children:"Name"}),Object(Pe.jsx)("div",{className:"col-9 my-2 d-flex align-items-center",children:Object(Pe.jsxs)("b",{children:[n.last_name,", ",n.first_name," ",n.middle_name||""]})}),Object(Pe.jsx)("div",{className:"col-3 my-2 d-flex align-items-center",children:"Gender"}),Object(Pe.jsx)("div",{className:"col-9 my-2 d-flex align-items-center",children:Object(Pe.jsx)("b",{children:n.gender})}),Object(Pe.jsx)("div",{className:"col-3 my-2 d-flex align-items-center",children:"Date of Birth"}),Object(Pe.jsx)("div",{className:"col-9 my-2 d-flex align-items-center",children:Object(Pe.jsx)("b",{children:N()(n.birthday).format("MMMM DD, YYYY")})}),Object(Pe.jsx)("div",{className:"col-3 my-2 d-flex align-items-center",children:"Place of Birth"}),Object(Pe.jsx)("div",{className:"col-9 my-2 d-flex align-items-center",children:Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},l("place_of_birth")),{},{type:"text",className:"form-control",disabled:s}))})]})}),Object(Pe.jsx)("div",{className:"col-12 col-md-6",children:Object(Pe.jsxs)("div",{className:"row",children:[Object(Pe.jsx)("div",{className:"col-3 my-2 d-flex align-items-center",children:"Address"}),Object(Pe.jsx)("div",{className:"col-9 my-2 d-flex align-items-center",children:Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},l("address")),{},{type:"text",className:"form-control",disabled:s}))}),Object(Pe.jsx)("div",{className:"col-3 my-2 d-flex align-items-center",children:"Mobile Number"}),Object(Pe.jsx)("div",{className:"col-9 my-2 d-flex align-items-center",children:Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},l("number")),{},{type:"text",className:"form-control",pattern:"09[0-9]{2}-[0-9]{3}-[0-9]{4}",placeholder:"0912-345-6789",disabled:s}))}),Object(Pe.jsx)("div",{className:"col-3 my-2 d-flex align-items-center",children:"Email Address"}),Object(Pe.jsx)("div",{className:"col-9 my-2 d-flex align-items-center",children:Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},l("email")),{},{type:"email",className:"form-control",disabled:s}))})]})}),Object(Pe.jsxs)("div",{className:"col-12 text-center pt-5",children:[Object(Pe.jsx)("button",{type:"submit",className:"btn btn-info btn-sm",disabled:s,children:"Save"}),Object(Pe.jsx)("p",{className:"my-3",children:Object(Pe.jsx)("i",{children:"I hereby certify that all of the information provided are true and correct to the best of my knowledge."})})]})]})})):null},tt=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/logs"),ct=function(e){var t=Object(Ee.a)("logs",(function(){return tt.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch;a&&ke(n);return Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"Logs",loading:s,items:(null===c||void 0===c?void 0:c.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{created_at:N()(e.created_at).format("MMMM DD, YYYY hh:mm A")})})))||[],columns:[{title:"ID",accessor:"id"},{title:"Message",accessor:"message"},{title:"Date",accessor:"created_at"}]})},st=function(e){var t=[{path:le()("/"),exact:!0,component:ct}];return Object(Pe.jsx)(P.c,{children:t.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},at=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/mails"),nt={Sent:"success",Pending:"warning",Failed:"danger"},rt=function(e){var t=Object(Ee.a)("mails",(function(){return at.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch,l=Object(C.createRef)();return a&&ke(n),Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"Email Outbox",loading:s,items:(null===c||void 0===c?void 0:c.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{created_at:N()(e.created_at).format("MMMM DD, YYYY hh:mm A"),status:Object(Pe.jsx)("span",{className:"badge badge-".concat(nt[e.status]),children:e.status}),sent:e.sent?N()(e.sent).format("MMMM DD, YYYY hh:mm A"):"",actions:Object(Pe.jsx)(Pe.Fragment,{children:Object(Pe.jsx)("button",{className:"btn btn-primary btn-sm mx-1",onClick:function(t){if(t.preventDefault(),l.current){var c=$(l.current);c.find(".modal-body").html(e.body),c.find("#password").addClass("d-none"),c.modal("show")}},children:"View"})})})})))||[],columns:[{title:"Created",accessor:"created_at"},{title:"To",accessor:"to"},{title:"Subject",accessor:"subject"},{title:"Status",accessor:"status"},{title:"Sent",accessor:"sent"},{title:"Actions",accessor:"actions"}]}),Object(Pe.jsx)("div",{ref:l,className:"modal fade",tabIndex:-1,children:Object(Pe.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:Object(Pe.jsxs)("div",{className:"modal-content",children:[Object(Pe.jsxs)("div",{className:"modal-header",children:[Object(Pe.jsx)("h5",{className:"modal-title",children:"View Mail"}),Object(Pe.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(Pe.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Pe.jsx)("div",{className:"modal-body"}),Object(Pe.jsx)("div",{className:"modal-footer",children:Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Close"})})]})})})]})},lt=function(e){var t=[{path:le()("/"),exact:!0,component:rt}];return Object(Pe.jsx)(P.c,{children:t.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},it=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=ie(),r=Object(ue.a)(n,2),l=r[0],i=r[1],o=Object(je.a)({defaultValues:{force:!1}}),d=o.register,u=o.setValue,b=o.handleSubmit,m=o.reset,h=oe(),O=Object(ue.a)(h,2),f=O[0],x=O[1],v=Object(C.useState)(-1),p=Object(ue.a)(v,2),g=p[0],y=p[1],k=Object(P.f)(),w=Object(P.h)(),S=Object(C.useState)(""),_=Object(ue.a)(S,2),F=_[0],D=_[1],A=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye.fetchOne(t);case 3:c=e.sent,y(c.id),Ne(u,c),x(N()(c.birthday).toDate()),D(c.number),i("Edit"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),ke(e.t0),k.goBack();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,t.role="Registrar",t.active=!0,t.birthday=null===f||void 0===f?void 0:f.toJSON(),t.number=F,e.next=8,"Add"===l?Ye.create(t):Ye.update(g,t);case 8:toastr.success("Registrar has been saved successfully."),m(),x(null),e.next=26;break;case 13:if(e.prev=13,e.t0=e.catch(1),409!==(null===(c=e.t0.response)||void 0===c?void 0:c.status)){e.next=25;break}return e.next=18,he.save(null===(s=e.t0.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message);case 18:if(!e.sent){e.next=23;break}return t.force=!0,e.next=22,E(t);case 22:return e.abrupt("return");case 23:e.next=26;break;case 25:ke(e.t0);case 26:return e.prev=26,a(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,13,26,29]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){w.path.includes("edit")?A(w.params.id):Ye.fetch().then((function(e){u("uuid","registrar-".concat("".concat(e.filter((function(e){return"Registrar"===e.role})).length+1).padStart(5,"0"),"-").concat((new Date).getFullYear()))}))}),[]),Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsx)("div",{className:"card",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsxs)("h5",{className:"card-title",children:[l," Registrar"]}),Object(Pe.jsxs)("form",{onSubmit:b(E),children:[Object(Pe.jsxs)("div",{className:"form-row",children:[Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"first_name",children:"First Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("first_name")),{},{type:"text",id:"first_name",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"uuid",children:"Registrar Number"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("uuid")),{},{type:"text",id:"uuid",className:"form-control",disabled:s||"Edit"===l}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("last_name")),{},{type:"text",id:"last_name",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("email")),{},{type:"email",id:"email",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("gender")),{},{id:"gender",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),Object(Pe.jsx)("option",{value:"Male",children:"Male"}),Object(Pe.jsx)("option",{value:"Female",children:"Female"})]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"number",children:"Phone Number"}),Object(Pe.jsx)(Te.a,{mask:"0\\999-999-9999",type:"text",id:"number",className:"form-control",disabled:s,value:F,onChange:function(e){return D(e.target.value)}})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),Object(Pe.jsx)(Ae.a,{value:f||void 0,id:"birthday",options:{maxDate:N()().year((new Date).getFullYear()-15).toDate()},onChange:function(e){e.length>0&&x(e[0])},className:"form-control",disabled:s})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"address",children:"Address"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("address")),{},{type:"text",id:"address",className:"form-control",disabled:s}))]})]}),Object(Pe.jsx)("div",{className:"d-flex",children:Object(Pe.jsx)("i",{className:"ml-auto",children:"Account credentials will be sent via email."})}),Object(Pe.jsxs)("div",{className:"d-flex",children:[Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return k.goBack()},disabled:s,children:"Return"}),Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary ml-auto",disabled:s,children:"Submit"})]})]})]})})})},ot=function(e){var t=Object(Ee.a)("users",(function(){return Ye.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch,l=le();a&&ke(n);var i=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.danger("Are you sure you want to delete this Registrar?");case 3:if(!e.sent){e.next=8;break}return e.next=6,Ye.delete(t);case 6:toastr.info("Registrar has been deleted.","Notice"),r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye.update(t.id,{active:!t.active});case 3:toastr.success("Registrar ".concat(t.active?"disabled":"enabled"," successfully.")),r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ke(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=v.getInstance().get("user"),u=[{title:"Registrar #",accessor:"uuid"},{title:"Name",accessor:"name"},{title:"Phone Number",accessor:"number"},{title:"Status",accessor:"status"}];return"Admin"===(null===d||void 0===d?void 0:d.role)&&u.push({title:"Actions",accessor:"actions"}),Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"Registrars",loading:s,items:(null===c||void 0===c?void 0:c.filter((function(e){return"Registrar"===e.role})).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{name:Object(Pe.jsxs)(Pe.Fragment,{children:[e.last_name,", ",e.first_name," ",e.middle_name||""]}),birthday:N()(e.birthday).format("MMMM DD, YYYY"),age:(new Date).getFullYear()-N()(e.birthday).year(),status:e.active?Object(Pe.jsx)("span",{className:"badge badge-success",children:"Active"}):Object(Pe.jsx)("span",{className:"badge badge-danger",children:"Inactive"}),actions:Object(Pe.jsxs)("div",{style:{minWidth:"100px"},children:[Object(Pe.jsx)(T.b,{to:l("".concat(e.id,"/edit")),className:"btn btn-warning btn-sm mx-1",title:"Edit",children:Object(Pe.jsx)("i",{className:"fas fa-edit"})}),Object(Pe.jsx)("button",{className:"btn btn-".concat(e.active?"danger":"info"," btn-sm mx-1"),onClick:function(){var t=Object(I.a)(Y.a.mark((function t(c){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,he.notice("Are you sure you want to ".concat(e.active?"disable":"enable"," this registrar?"));case 3:if(!t.sent){t.next=5;break}o(e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),title:e.active?"Disable":"Enable",children:Object(Pe.jsx)("i",{className:"fas fa-user-".concat(e.active?"times":"check")})}),Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mx-1 d-none",onClick:function(t){t.preventDefault(),i(e.id)},children:Object(Pe.jsx)("i",{className:"fas fa-trash"})})]})})})))||[],columns:u,buttons:Object(Pe.jsx)(Pe.Fragment,{children:"Admin"===(null===d||void 0===d?void 0:d.role)?Object(Pe.jsx)(T.b,{to:l("add"),className:"btn btn-primary btn-sm ml-2",children:Object(Pe.jsx)("i",{className:"fas fa-plus"})}):null})})},dt=function(e){var t=le(),c=[{path:t("/"),exact:!0,component:ot},{path:t("/add"),component:it},{path:t("/:id/edit"),component:it}];return Object(Pe.jsx)(P.c,{children:c.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},ut=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/requirements"),jt=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=ie(),r=Object(ue.a)(n,2),l=r[0],i=r[1],o=Object(je.a)(),d=o.register,u=o.setValue,b=o.handleSubmit,m=o.reset,h=Object(C.useState)(-1),O=Object(ue.a)(h,2),f=O[0],x=O[1],v=Object(P.f)(),p=Object(P.h)(),N=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut.fetchOne(t);case 3:c=e.sent,x(c.id),Ne(u,c),i("Edit"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),ke(e.t0),v.goBack();case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,"Add"===l?ut.create(t):ut.update(f,t);case 4:toastr.success("Requirement has been saved successfully."),m(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ke(e.t0);case 11:return e.prev=11,a(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){p.path.includes("edit")&&N(p.params.id)}),[]),Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsx)("div",{className:"card",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsxs)("h5",{className:"card-title",children:[l," Requirement"]}),Object(Pe.jsxs)("form",{onSubmit:b(g),children:[Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"name",children:"Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("name")),{},{type:"text",id:"code",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group d-flex",children:[Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return v.goBack()},disabled:s,children:"Return"}),Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary ml-auto",disabled:s,children:"Submit"})]})]})]})})})},bt=function(e){var t=Object(Ee.a)("requirements",(function(){return ut.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch,l=le();a&&ke(n);var i=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.danger("Are you sure you want to delete this Requirement?");case 3:if(!e.sent){e.next=8;break}return e.next=6,ut.delete(t);case 6:toastr.info("Requirement has been deleted.","Notice"),r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),o=v.getInstance().get("user"),d=[{title:"ID",accessor:"id"},{title:"Name",accessor:"name"},{title:"Created",accessor:"created_at"}];return"Registrar"===(null===o||void 0===o?void 0:o.role)&&d.push({title:"Actions",accessor:"actions"}),Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"Requirements",loading:s,items:(null===c||void 0===c?void 0:c.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{created_at:N()(e.created_at).format("MMMM DD, YYYY hh:mm A"),actions:"Registrar"===(null===o||void 0===o?void 0:o.role)?Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(T.b,{to:l("".concat(e.id,"/edit")),className:"btn btn-warning btn-sm mx-1",children:Object(Pe.jsx)("i",{className:"fas fa-edit"})}),Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mx-1",onClick:function(t){t.preventDefault(),i(e.id)},children:Object(Pe.jsx)("i",{className:"fas fa-trash"})})]}):null})})))||[],columns:d,buttons:Object(Pe.jsx)(Pe.Fragment,{children:"Registrar"===(null===o||void 0===o?void 0:o.role)?Object(Pe.jsx)(T.b,{to:l("add"),className:"btn btn-primary btn-sm ml-2",children:Object(Pe.jsx)("i",{className:"fas fa-plus"})}):null})})},mt=function(e){var t=le(),c=[{path:t("/"),exact:!0,component:bt},{path:t("/add"),component:jt},{path:t("/:id/edit"),component:jt}];return Object(Pe.jsx)(P.c,{children:c.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},ht=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/schedules"),Ot=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=ie(),r=Object(ue.a)(n,2),l=r[0],i=r[1],o=Object(je.a)({defaultValues:{force:!1}}),d=o.register,u=o.setValue,b=o.handleSubmit,m=o.reset,h=oe(),O=Object(ue.a)(h,2),f=O[0],x=O[1],v=de([{day:"",start_time:null,end_time:null}]),p=Object(ue.a)(v,2),g=p[0],y=p[1],k=Object(C.useState)(-1),w=Object(ue.a)(k,2),S=w[0],_=w[1],F=Object(P.f)(),D=Object(P.h)(),A=Object(Ee.a)("courses",(function(){return Re.fetch()})).data,E=Object(Ee.a)("users",(function(){return Ye.fetch()})).data,M=Object(Ee.a)("subjects",(function(){return Ke.fetch()})).data,T=Object(Ee.a)("years",(function(){return Me.fetch()})).data,L=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ht.fetchOne(t);case 3:c=e.sent,_(c.id),i("Edit"),Ne(u,c),y(Object(R.a)(c.payload)),x(c.course),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),ke(e.t0),F.goBack();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s,n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),e.prev=1,!(c=null===T||void 0===T?void 0:T.find((function(e){return e.current})))){e.next=7;break}t.year_id=c.id,e.next=8;break;case 7:return e.abrupt("return",toastr.error("A School Year is not set, please create/make one as current."));case 8:return t.payload=g,e.next=11,"Add"===l?ht.create(t):ht.update(S,t);case 11:toastr.success("Schedule has been saved successfully."),m(),y([]),x(null),e.next=30;break;case 17:if(e.prev=17,e.t0=e.catch(1),409!==(null===(s=e.t0.response)||void 0===s?void 0:s.status)){e.next=29;break}return e.next=22,he.save(null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message);case 22:if(!e.sent){e.next=27;break}return t.force=!0,e.next=26,B(t);case 26:return e.abrupt("return");case 27:e.next=30;break;case 29:ke(e.t0);case 30:return e.prev=30,a(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[1,17,30,33]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){D.path.includes("edit")&&L(D.params.id)}),[]),Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsx)("div",{className:"card",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsxs)("h5",{className:"card-title",children:[l," Schedule"]}),Object(Pe.jsxs)("form",{onSubmit:b(B),children:[Object(Pe.jsxs)("div",{className:"form-row",children:[Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"course_id",children:"Course"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("course_id")),{},{id:"course_id",className:"form-control",onChange:function(e){var t=e.target.value.toNumber(),c=null===A||void 0===A?void 0:A.find((function(e){return e.id===t}));x(c||null)},children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),null===A||void 0===A?void 0:A.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.code},t)}))]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"teacher_id",children:"Teacher"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("teacher_id")),{},{id:"teacher_id",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),null===E||void 0===E?void 0:E.filter((function(e){return"Teacher"===e.role})).map((function(e,t){return Object(Pe.jsxs)("option",{value:e.id,children:[e.last_name,", ",e.first_name," ",e.middle_name||""]},t)}))]}))]}),f&&f.majors&&f.majors.length>0?Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"major_id",children:"Major"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("major_id")),{},{id:"major_id",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),f.majors.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.name},t)}))]}))]}):null,Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6 ".concat((f&&f.majors&&f.majors.length,"")),children:[Object(Pe.jsx)("label",{htmlFor:"subject_id",children:"Subject"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("subject_id")),{},{id:"subject_id",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),null===M||void 0===M?void 0:M.filter((function(e){var t,c=0===(null===(t=e.schedules)||void 0===t?void 0:t.length);return"Add"===l?c:c||e.id===S})).map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.description},t)}))]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"year",children:"Year Level"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("year")),{},{id:"year",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),Object(Pe.jsx)("option",{value:"1st",children:"1st"}),Object(Pe.jsx)("option",{value:"2nd",children:"2nd"}),Object(Pe.jsx)("option",{value:"3rd",children:"3rd"}),Object(Pe.jsx)("option",{value:"4th",children:"4th"}),Object(Pe.jsx)("option",{value:"5th",children:"5th"})]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12",children:[Object(Pe.jsx)("button",{className:"btn btn-info btn-sm mt-2 mb-4",onClick:function(e){e.preventDefault(),g.push({day:"",start_time:null,end_time:null}),y(Object(R.a)(g))},children:"Add Row"}),Object(Pe.jsxs)("table",{className:"table",children:[Object(Pe.jsx)("thead",{children:Object(Pe.jsxs)("tr",{children:[Object(Pe.jsx)("th",{children:"Day"}),Object(Pe.jsx)("th",{children:"Start Time"}),Object(Pe.jsx)("th",{children:"End Time"}),Object(Pe.jsx)("th",{})]})}),Object(Pe.jsx)("tbody",{children:g.map((function(e,t){var c=e.day,a=e.start_time,n=e.end_time;return Object(Pe.jsxs)("tr",{children:[Object(Pe.jsx)("td",{children:Object(Pe.jsx)("input",{type:"text",className:"form-control",value:c,onChange:function(e){g.splice(t,1,{day:e.target.value,start_time:a,end_time:n}),y(Object(R.a)(g))}})}),Object(Pe.jsx)("td",{children:Object(Pe.jsx)(Ae.a,{value:a?N()(a).toDate():void 0,options:{enableTime:!0,mode:"time",altFormat:"G:i K",altInput:!0},onChange:function(e){e.length>0&&(g.splice(t,1,{day:c,start_time:e[0].toJSON(),end_time:n}),y(Object(R.a)(g)))},className:"form-control",disabled:s})}),Object(Pe.jsx)("td",{children:Object(Pe.jsx)(Ae.a,{value:n?N()(n).toDate():void 0,options:{enableTime:!0,mode:"time",altFormat:"G:i K",altInput:!0},onChange:function(e){e.length>0&&(g.splice(t,1,{day:c,end_time:e[0].toJSON(),start_time:a}),y(Object(R.a)(g)))},className:"form-control",disabled:s})}),Object(Pe.jsx)("td",{children:Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(e){e.preventDefault(),g.splice(t,1),y(Object(R.a)(g))},children:"Remove"})})]},t)}))})]})]})]}),Object(Pe.jsxs)("div",{className:"form-group d-flex",children:[Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return F.goBack()},disabled:s,children:"Return"}),Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary ml-auto",disabled:s,children:"Submit"})]})]})]})})})},ft=function(e){var t=Object(Ee.a)("schedules",(function(){return ht.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch,l=le();a&&ke(n);var i=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.danger("Are you sure you want to delete this Schedule?");case 3:if(!e.sent){e.next=8;break}return e.next=6,ht.delete(t);case 6:toastr.info("Schedule has been deleted.","Notice"),r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),o=v.getInstance().get("user"),d=[{title:"Course",accessor:"course"},{title:"Subject",accessor:"subject"},{title:"Teacher",accessor:"teacher"},{title:"Year",accessor:"year"},{title:"Times",accessor:"times"}];return"Registrar"===(null===o||void 0===o?void 0:o.role)&&d.push({title:"Actions",accessor:"actions"}),Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"Schedules",loading:s,items:(null===c||void 0===c?void 0:c.map((function(e){var t,c,s,a,n;return Object(j.a)(Object(j.a)({},e),{},{subject:null===e||void 0===e||null===(t=e.subject)||void 0===t?void 0:t.description,course:"".concat(null===(c=e.course)||void 0===c?void 0:c.code).concat(e.major?" - Major in ".concat(e.major.name):""),teacher:"".concat(null===(s=e.teacher)||void 0===s?void 0:s.last_name,", ").concat(null===(a=e.teacher)||void 0===a?void 0:a.first_name," ").concat((null===(n=e.teacher)||void 0===n?void 0:n.middle_name)||""),times:Object(Pe.jsx)(Pe.Fragment,{children:e.payload.map((function(e,t){return e.start_time&&e.end_time?Object(Pe.jsxs)("span",{className:"d-block",children:[e.day," ",N()(e.start_time).format("hh:mm A")," - ",N()(e.end_time).format("hh:mm A")]},t):null}))}),actions:Object(Pe.jsx)("div",{style:{minWidth:"100px"},children:"Registrar"===(null===o||void 0===o?void 0:o.role)?Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(T.b,{to:l("".concat(e.id,"/edit")),className:"btn btn-warning btn-sm mx-1",children:Object(Pe.jsx)("i",{className:"fas fa-edit"})}),Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mx-1",onClick:function(t){t.preventDefault(),i(e.id)},children:Object(Pe.jsx)("i",{className:"fas fa-trash"})})]}):null})})})))||[],columns:d,buttons:Object(Pe.jsx)(Pe.Fragment,{children:"Registrar"===(null===o||void 0===o?void 0:o.role)?Object(Pe.jsx)(T.b,{to:l("add"),className:"btn btn-primary btn-sm ml-2",children:Object(Pe.jsx)("i",{className:"fas fa-plus"})}):null})})},xt=function(e){var t,c,s,a=v.getInstance().get("user"),n=Object(Ee.a)(["user",null===a||void 0===a?void 0:a.id],(function(){return Ye.fetchOne(null===a||void 0===a?void 0:a.id)})).data,r=Object(Ee.a)("schedules",(function(){return ht.fetch()})).data,l=null===n||void 0===n||null===(t=n.admissions)||void 0===t?void 0:t.last();return n&&l?Object(Pe.jsxs)("div",{className:"container",children:[Object(Pe.jsx)("div",{className:"row",children:Object(Pe.jsxs)("div",{className:"col-12 col-md-6 offset-md-3 text-center",children:[Object(Pe.jsx)("h4",{children:"EASTERN MINDORO COLLEGE"}),Object(Pe.jsx)("p",{children:"Bongabong, Oriental Mindoro"})]})}),Object(Pe.jsxs)("div",{className:"d-flex mt-5",children:[Object(Pe.jsxs)("span",{className:"mr-auto",children:[Object(Pe.jsx)("b",{children:"Name:"})," ",n.last_name,", ",n.first_name," ",n.middle_name||""]}),Object(Pe.jsxs)("span",{className:"ml-auto",children:[Object(Pe.jsx)("b",{children:"Semester:"})," ",l.term]})]}),Object(Pe.jsxs)("div",{className:"d-flex",children:[Object(Pe.jsxs)("span",{className:"mr-auto",children:[Object(Pe.jsx)("b",{children:"Year Level:"})," ",l.level]}),Object(Pe.jsxs)("span",{className:"ml-auto",children:[Object(Pe.jsx)("b",{children:"Status: "})," ",l.status]})]}),Object(Pe.jsxs)("div",{className:"d-flex mt-3",children:[Object(Pe.jsxs)("span",{className:"mr-auto",children:[Object(Pe.jsx)("b",{children:"Student Number:"})," ",n.uuid]}),Object(Pe.jsxs)("span",{className:"ml-auto",children:[Object(Pe.jsx)("b",{children:"Year:"})," ",null===(c=l.year)||void 0===c?void 0:c.start," - ",null===(s=l.year)||void 0===s?void 0:s.end]})]}),Object(Pe.jsxs)("table",{className:"table table-bordered mt-3",children:[Object(Pe.jsx)("thead",{children:Object(Pe.jsxs)("tr",{children:[Object(Pe.jsx)("th",{children:"Subject Code"}),Object(Pe.jsx)("th",{children:"Description"}),Object(Pe.jsx)("th",{children:"Schedules"}),Object(Pe.jsx)("th",{children:"Instructor"})]})}),Object(Pe.jsx)("tbody",{children:null===r||void 0===r?void 0:r.map((function(e,t){var c,s,a,n,r;return Object(Pe.jsxs)("tr",{children:[Object(Pe.jsx)("td",{children:null===(c=e.subject)||void 0===c?void 0:c.code}),Object(Pe.jsx)("td",{children:null===(s=e.subject)||void 0===s?void 0:s.description}),Object(Pe.jsx)("td",{children:e.payload.map((function(e){return e.start_time||e.end_time?Object(Pe.jsxs)("span",{className:"d-block",children:[e.day," ",N()(e.start_time).format("hh:mm A")," - ",N()(e.end_time).format("hh:mm A")]}):null}))}),Object(Pe.jsxs)("td",{children:[null===(a=e.teacher)||void 0===a?void 0:a.last_name,", ",null===(n=e.teacher)||void 0===n?void 0:n.first_name," ",(null===(r=e.teacher)||void 0===r?void 0:r.middle_name)||""]})]},t)}))})]})]}):null},vt=function(e){var t=le(),c=v.getInstance().get("user"),s=[{path:t("/"),exact:!0,component:"Student"!==(null===c||void 0===c?void 0:c.role)?ft:xt}];return"Student"!==(null===c||void 0===c?void 0:c.role)&&(s.push({path:t("/add"),component:Ot}),s.push({path:t("/:id/edit"),component:Ot})),Object(Pe.jsx)(P.c,{children:s.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},pt=new(function(e){Object(Se.a)(c,e);var t=Object(_e.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return c}(Fe))("/grades"),Nt=function(e){var t,c,s=Object(Ee.a)("users",(function(){return Ye.fetch()})),a=s.data,n=s.isFetching,r=s.isError,l=s.error,i=s.refetch,d=Object(Ee.a)("years",(function(){return Me.fetch()})).data,u=Object(Ee.a)("subjects",(function(){return Ke.fetch()})).data,b=Object(Ee.a)("courses",(function(){return Re.fetch()})).data,m=oe(),h=Object(ue.a)(m,2),O=h[0],f=h[1],x=oe(),p=Object(ue.a)(x,2),g=p[0],y=p[1],k=Object(je.a)({defaultValues:{grade:65}}),w=k.register,S=k.handleSubmit,_=k.reset,F=oe(),D=Object(ue.a)(F,2),A=D[0],E=D[1],R=Object(C.createRef)(),M=le(),P=v.getInstance().get("user");r&&ke(l);var L=function(){var e=Object(I.a)(Y.a.mark((function e(){var t,c,s,a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.notice("Are you sure you want to evaluate all students?","Notice");case 2:if(!e.sent){e.next=19;break}return e.prev=3,toastr.info("Processing students. Please wait.","Notice"),e.next=7,o.a.post("/admissions/increment");case 7:t=e.sent,c=t.data,s=c.missing,a=c.failed,n=c.passed,toastr.success("Processing done. \n                    <br />Passed Students: ".concat(n,"\n                    <br />Failed Students: ").concat(a," \n                    <br />Subjects with missing grades: ").concat(s),"Success",{escapeHtml:!1}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),toastr.error("Unable to process students."),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.current&&$(R.current).modal("hide"),e.prev=1,t.student_id=A,t.teacher_id=P.id,e.next=6,pt.create(t);case 6:toastr.success("Grade added succesfully."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ke(e.t0);case 12:return e.prev=12,E(null),_(),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[1,9,12,16]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.danger("Are you sure you want to delete this Student?");case 3:if(!e.sent){e.next=8;break}return e.next=6,Ye.delete(t);case 6:toastr.info("Student has been deleted.","Notice"),i();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),q=[{title:"ID Number",accessor:"uuid"},{title:"Name",accessor:"name"},{title:"Year",accessor:"year"},{title:"Course",accessor:"course"},{title:"Status",accessor:"status"}];return["Registrar","Teacher"].includes((null===P||void 0===P?void 0:P.role)||"")&&q.push({title:"Actions",accessor:"actions"}),Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(Be,{onRefresh:function(){return i()},title:"Students",loading:n,items:(null===a||void 0===a?void 0:a.filter((function(e){return"Student"===e.role&&e.active})).filter((function(e){var t,c=null===(t=e.admissions)||void 0===t?void 0:t.find((function(e){var t;return null===(t=e.year)||void 0===t?void 0:t.current}));return!!c&&(O&&g?c.course_id===O.id&&c.major_id===g.id:O?c.course_id===O.id:!g||c.major_id===g.id)})).map((function(e){var t,c,s,a,n,r,l,i,o,d,u,b;return Object(j.a)(Object(j.a)({},e),{},{name:Object(Pe.jsxs)(Pe.Fragment,{children:[e.last_name,", ",e.first_name," ",e.middle_name||""]}),year:null===(t=e.admissions)||void 0===t||null===(c=t.filter((function(e){var t;return null===(t=e.year)||void 0===t?void 0:t.current}))[0])||void 0===c?void 0:c.level,course:"".concat(null===(s=e.admissions)||void 0===s||null===(a=s.filter((function(e){var t;return null===(t=e.year)||void 0===t?void 0:t.current}))[0])||void 0===a||null===(n=a.course)||void 0===n?void 0:n.code).concat((null===(r=e.admissions)||void 0===r||null===(l=r.filter((function(e){var t;return null===(t=e.year)||void 0===t?void 0:t.current}))[0])||void 0===l?void 0:l.major)?" - Major in ".concat(null===(i=e.admissions)||void 0===i||null===(o=i.filter((function(e){var t;return null===(t=e.year)||void 0===t?void 0:t.current}))[0])||void 0===o||null===(d=o.major)||void 0===d?void 0:d.name):""),birthday:N()(e.birthday).format("MMMM DD, YYYY"),age:(new Date).getFullYear()-N()(e.birthday).year(),status:e.active?Object(Pe.jsx)("span",{className:"badge badge-success",children:"Confirmed"}):Object(Pe.jsx)("span",{className:"badge badge-danger",children:"Unconfirmed"}),actions:Object(Pe.jsxs)("div",{style:{minWidth:"100px"},children:["Registrar"===(null===P||void 0===P?void 0:P.role)?Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(T.b,{to:"/dashboard/admissions/".concat(null===(u=e.admissions)||void 0===u||null===(b=u.last())||void 0===b?void 0:b.id,"/edit"),className:"btn btn-warning btn-sm mx-1",title:"Edit",children:Object(Pe.jsx)("i",{className:"fas fa-edit"})}),Object(Pe.jsx)(T.b,{to:M("".concat(e.id,"/subjects")),className:"btn btn-primary btn-sm mx-1",title:"Add Subjects",children:Object(Pe.jsx)("i",{className:"fas fa-book"})})]}):null,"Teacher"===(null===P||void 0===P?void 0:P.role)?Object(Pe.jsx)("button",{className:"btn btn-primary btn-sm mx-1",title:"Add Grade",onClick:function(t){t.preventDefault(),R.current&&(E(e.id),$(R.current).modal("toggle"))},children:Object(Pe.jsx)("i",{className:"fas fa-chart-bar"})}):null,Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mx-1 d-none",onClick:function(t){t.preventDefault(),U(e.id)},children:Object(Pe.jsx)("i",{className:"fas fa-trash"})})]})})})))||[],columns:q,misc:Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsxs)("label",{className:"mb-0 mt-2 mx-1",children:["Course:",Object(Pe.jsxs)("select",{className:"custom-select custom-select-sm form-control form-control-sm",onChange:function(e){var t=e.target.value.toNumber();if(0===t)f(null),y(null);else{var c=null===b||void 0===b?void 0:b.find((function(e){return e.id===t}));c&&f(c)}},children:[Object(Pe.jsx)("option",{value:"0",children:"All"}),null===b||void 0===b?void 0:b.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.code},t)}))]})]}),O?Object(Pe.jsxs)("label",{className:"mb-0 mt-2 mx-1",children:["Major:",Object(Pe.jsxs)("select",{className:"custom-select custom-select-sm form-control form-control-sm",onChange:function(e){var t=e.target.value.toNumber();if(0===t)y(null);else{var c,s=null===O||void 0===O||null===(c=O.majors)||void 0===c?void 0:c.find((function(e){return e.id===t}));s&&y(s)}},children:[Object(Pe.jsx)("option",{value:"0",children:"All"}),null===(t=O.majors)||void 0===t?void 0:t.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.name},t)}))]})]}):null]}),buttons:Object(Pe.jsx)(Pe.Fragment,{children:Object(Pe.jsx)("button",{className:"btn btn-secondary btn-sm mx-1",title:"Evaluate Students",onClick:function(e){e.preventDefault(),L()},children:Object(Pe.jsx)("i",{className:"fas fa-chevron-up"})})})}),Object(Pe.jsx)("div",{ref:R,className:"modal fade",tabIndex:-1,children:Object(Pe.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:Object(Pe.jsxs)("div",{className:"modal-content",children:[Object(Pe.jsxs)("div",{className:"modal-header",children:[Object(Pe.jsx)("h5",{className:"modal-title",children:"Add Grade"}),Object(Pe.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(Pe.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Pe.jsxs)("form",{onSubmit:S(B),children:[Object(Pe.jsxs)("div",{className:"modal-body",children:[Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({type:"hidden"},w("year_id")),{},{value:null===d||void 0===d||null===(c=d.filter((function(e){return e.current}))[0])||void 0===c?void 0:c.id})),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"subject_id",children:"Subject"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},w("subject_id")),{},{id:"subject_id",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),null===u||void 0===u?void 0:u.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.code},t)}))]}))]}),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"grade",children:"Grade"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},w("grade")),{},{type:"number",id:"grade",min:0,max:100,className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"status",children:"Status"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},w("status")),{},{type:"text",id:"status",className:"form-control"}))]})]}),Object(Pe.jsxs)("div",{className:"modal-footer",children:[Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Submit"}),Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Close"})]})]})]})})})]})},gt=function(e){var t,c,a,n=Object(C.useState)(!1),r=Object(ue.a)(n,2),l=r[0],i=r[1],d=Object(P.g)().id,u=Object(P.f)(),j=de(),b=Object(ue.a)(j,2),m=b[0],h=b[1],O=Object(Ee.a)(["users",d],(function(){return Ye.fetchOne(d)}),{onSuccess:function(e){var t;h(null===(t=e.subjects)||void 0===t?void 0:t.map((function(e){return e.id})))}}),f=O.data,x=O.error,v=O.isError,p=Object(Ee.a)("subjects",(function(){return Ke.fetch()})).data,N=null===f||void 0===f||null===(t=f.admissions)||void 0===t?void 0:t.find((function(e){var t;return null===(t=e.year)||void 0===t?void 0:t.current})),g=function(){var e=Object(I.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,o.a.post("/users/".concat(null===f||void 0===f?void 0:f.id,"/subjects"),{subjects:m});case 4:toastr.success("Subjects enrolled successfully."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),ke(e.t0);case 10:return e.prev=10,i(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return v?(ke(x),u.goBack(),null):f&&N?Object(Pe.jsx)("div",{className:"container",children:Object(Pe.jsxs)("div",{className:"card",children:[Object(Pe.jsxs)("div",{className:"card-header",children:[Object(Pe.jsx)("h4",{className:"card-title",children:"Student Subjects"}),Object(Pe.jsxs)("p",{className:"card-text",children:[f.last_name,", ",f.first_name," ",f.middle_name||""]}),Object(Pe.jsxs)("p",{className:"card-text",children:["School Year: ",null===N||void 0===N||null===(c=N.year)||void 0===c?void 0:c.start," - ",null===N||void 0===N||null===(a=N.year)||void 0===a?void 0:a.end]}),Object(Pe.jsxs)("small",{className:"form-text text-muted",children:["Subjects with"," ",Object(Pe.jsx)("sup",{children:Object(Pe.jsx)("i",{children:Object(Pe.jsx)("i",{className:"fas fa-check"})})})," ","are enrolled."]})]}),Object(Pe.jsx)("div",{className:"card-body",children:Object(Pe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g()},children:[Object(Pe.jsx)("div",{className:"form-row",children:null===p||void 0===p?void 0:p.filter((function(e){return e.level===N.level&&e.term===N.term&&e.course_id===N.course_id})).map((function(e,t){var c;return Object(Pe.jsx)("div",{className:"form-group col-12 col-md-4 col-lg-3",children:Object(Pe.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(Pe.jsx)("input",{type:"checkbox",className:"custom-control-input",id:Object(s.trim)("".concat(e.code,"-").concat(e.id)),disabled:l,checked:m.includes(e.id),onChange:function(e){var t=e.target.value.toNumber();if(m.includes(t)){var c=m.findIndex((function(e){return e===t}));m.splice(c,1)}else m.push(t);h(Object(R.a)(m))},value:e.id}),Object(Pe.jsxs)("label",{className:"custom-control-label",htmlFor:Object(s.trim)("".concat(e.code,"-").concat(e.id)),children:[e.code," - ",e.description," ",Object(Pe.jsx)("sup",{children:Object(Pe.jsx)("i",{children:(null===(c=f.subjects)||void 0===c?void 0:c.find((function(t){return t.id===e.id})))?Object(Pe.jsx)("i",{className:"fas fa-check"}):null})})]})]})},t)}))}),Object(Pe.jsx)("div",{className:"form-group",children:Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:l,children:"Save"})})]})})]})}):Object(Pe.jsx)("div",{className:"container",children:Object(Pe.jsx)("div",{className:"text-center",children:Object(Pe.jsx)("i",{className:"fas fa-circle-notch fa-spin"})})})},yt=function(e){var t=le(),c=[{path:t("/"),exact:!0,component:Nt},{path:t("/:id/subjects"),component:gt}];return Object(Pe.jsx)(P.c,{children:c.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},kt=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=ie(),r=Object(ue.a)(n,2),l=r[0],i=r[1],o=Object(je.a)({defaultValues:{force:!1}}),d=o.register,u=o.setValue,b=o.handleSubmit,m=o.reset,h=Object(C.useState)(-1),O=Object(ue.a)(h,2),f=O[0],x=O[1],v=oe(),p=Object(ue.a)(v,2),N=p[0],g=p[1],y=Object(P.f)(),k=Object(P.h)(),w=Object(Ee.a)("courses",(function(){return Re.fetch()})).data,S=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke.fetchOne(t);case 3:c=e.sent,x(c.id),Ne(u,c),i("Edit"),g(c.course),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0),y.goBack();case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,"Add"===l?Ke.create(t):Ke.update(f,t);case 4:toastr.success("Subject has been saved successfully."),m(),e.next=21;break;case 8:if(e.prev=8,e.t0=e.catch(1),409!==(null===(c=e.t0.response)||void 0===c?void 0:c.status)){e.next=20;break}return e.next=13,he.save(null===(s=e.t0.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message);case 13:if(!e.sent){e.next=18;break}return t.force=!0,e.next=17,_(t);case 17:return e.abrupt("return");case 18:e.next=21;break;case 20:ke(e.t0);case 21:return e.prev=21,a(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,8,21,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){k.path.includes("edit")&&S(k.params.id)}),[]),Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsx)("div",{className:"card",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsxs)("h5",{className:"card-title",children:[l," Subject"]}),Object(Pe.jsxs)("form",{onSubmit:b(_),children:[Object(Pe.jsxs)("div",{className:"form-row",children:[Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"code",children:"Subject Code"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("code")),{},{type:"text",id:"code",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"description",children:"Description"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("description")),{},{type:"text",id:"description",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"course_id",children:"Course Code"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("course_id")),{},{id:"course_id",className:"form-control",onChange:function(e){var t=e.target.value.toNumber(),c=null===w||void 0===w?void 0:w.find((function(e){return e.id===t}));g(c||null)},children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),null===w||void 0===w?void 0:w.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.code},t)}))]}))]}),N&&N.majors&&N.majors.length>0?Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"major_id",children:"Major"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("major_id")),{},{id:"major_id",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),N.majors.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.name},t)}))]}))]}):null,Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"level",children:"Year Level"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("level")),{},{id:"level",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),Object(Pe.jsx)("option",{value:"1st",children:"1st"}),Object(Pe.jsx)("option",{value:"2nd",children:"2nd"}),Object(Pe.jsx)("option",{value:"3rd",children:"3rd"}),Object(Pe.jsx)("option",{value:"4th",children:"4th"}),Object(Pe.jsx)("option",{value:"5th",children:"5th"})]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"units",children:"Number of Units"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("units")),{},{id:"units",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),[1,2,3,4,5].map((function(e,t){return Object(Pe.jsx)("option",{value:e,children:e},t)}))]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-4",children:[Object(Pe.jsx)("label",{htmlFor:"term",children:"Term"}),Object(Pe.jsxs)("div",{className:"custom-control custom-radio",children:[Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("term")),{},{type:"radio",id:"1st-semester",className:"custom-control-input",value:"1st Semester"})),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:"1st-semester",children:"1st Semester"})]}),Object(Pe.jsxs)("div",{className:"custom-control custom-radio",children:[Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("term")),{},{type:"radio",id:"2nd-semester",className:"custom-control-input",value:"2nd Semester"})),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:"2nd-semester",children:"2nd Semester"})]}),Object(Pe.jsxs)("div",{className:"custom-control custom-radio",children:[Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("term")),{},{type:"radio",id:"summer",className:"custom-control-input",value:"Summer"})),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:"summer",children:"Summer"})]})]})]}),Object(Pe.jsxs)("div",{className:"form-group d-flex",children:[Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return y.goBack()},disabled:s,children:"Return"}),Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary ml-auto",disabled:s,children:"Submit"})]})]})]})})})},wt=function(e){var t,c=Object(Ee.a)("courses",(function(){return Re.fetch()})).data,s=oe(),a=Object(ue.a)(s,2),n=a[0],r=a[1],l=oe(),i=Object(ue.a)(l,2),o=i[0],d=i[1],u=Object(Ee.a)("subjects",(function(){return Ke.fetch()})),b=u.data,m=u.isFetching,h=u.isError,O=u.error,f=u.refetch,x=le();h&&ke(O);var p=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.danger("Are you sure you want to delete this Subject?");case 3:if(!e.sent){e.next=8;break}return e.next=6,Ke.delete(t);case 6:toastr.info("Subject has been deleted.","Notice"),f();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),N=v.getInstance().get("user"),g=[{title:"Subject Code",accessor:"code"},{title:"Subject Description",accessor:"description"},{title:"Course",accessor:"course"},{title:"Year Level",accessor:"level"},{title:"Semester",accessor:"term"},{title:"Units",accessor:"units"}];return"Registrar"===(null===N||void 0===N?void 0:N.role)&&g.push({title:"Actions",accessor:"actions"}),Object(Pe.jsx)(Be,{onRefresh:function(){return f()},title:"Subjects",loading:m,items:(null===b||void 0===b?void 0:b.filter((function(e){return n&&o?e.course_id===n.id&&e.major_id===o.id:n?e.course_id===n.id:!o||e.major_id===o.id})).map((function(e){var t;return Object(j.a)(Object(j.a)({},e),{},{course:"".concat(null===(t=e.course)||void 0===t?void 0:t.code).concat(e.major?" - Major in ".concat(e.major.name):""),actions:"Registrar"===(null===N||void 0===N?void 0:N.role)?Object(Pe.jsxs)("div",{style:{minWidth:"100px"},children:[Object(Pe.jsx)(T.b,{to:x("".concat(e.id,"/edit")),className:"btn btn-warning btn-sm mx-1",children:Object(Pe.jsx)("i",{className:"fas fa-edit"})}),Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mx-1",onClick:function(t){t.preventDefault(),p(e.id)},children:Object(Pe.jsx)("i",{className:"fas fa-trash"})})]}):null})})))||[],columns:g,buttons:Object(Pe.jsx)(Pe.Fragment,{children:"Registrar"===(null===N||void 0===N?void 0:N.role)?Object(Pe.jsx)(T.b,{to:x("add"),className:"btn btn-primary btn-sm ml-2",children:Object(Pe.jsx)("i",{className:"fas fa-plus"})}):null}),misc:Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsxs)("label",{className:"mb-0 mt-2 mx-1",children:["Course:",Object(Pe.jsxs)("select",{className:"custom-select custom-select-sm form-control form-control-sm",onChange:function(e){var t=e.target.value.toNumber(),s=null===c||void 0===c?void 0:c.find((function(e){return e.id===t}));r(s||null),d(null)},children:[Object(Pe.jsx)("option",{value:"0",children:"All"}),null===c||void 0===c?void 0:c.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.code},t)}))]})]}),n?Object(Pe.jsxs)("label",{className:"mb-0 mt-2 mx-1",children:["Major:",Object(Pe.jsxs)("select",{className:"custom-select custom-select-sm form-control form-control-sm",onChange:function(e){var t,c=e.target.value.toNumber(),s=null===n||void 0===n||null===(t=n.majors)||void 0===t?void 0:t.find((function(e){return e.id===c}));d(s||null)},children:[Object(Pe.jsx)("option",{value:"0",children:"All"}),null===(t=n.majors)||void 0===t?void 0:t.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.name},t)}))]})]}):null]})})},St=function(e){var t=le(),c=[{path:t("/"),exact:!0,component:wt},{path:t("/add"),component:kt},{path:t("/:id/edit"),component:kt}];return Object(Pe.jsx)(P.c,{children:c.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},_t=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=ie(),r=Object(ue.a)(n,2),l=r[0],i=r[1],o=Object(je.a)({defaultValues:{force:!1}}),d=o.register,u=o.setValue,b=o.handleSubmit,m=o.reset,h=oe(),O=Object(ue.a)(h,2),f=O[0],x=O[1],v=Object(C.useState)(-1),p=Object(ue.a)(v,2),g=p[0],y=p[1],k=Object(P.f)(),w=Object(P.h)(),S=Object(C.useState)(""),_=Object(ue.a)(S,2),F=_[0],D=_[1],A=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye.fetchOne(t);case 3:c=e.sent,y(c.id),Ne(u,c),x(N()(c.birthday).toDate()),D(c.number),i("Edit"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),ke(e.t0),k.goBack();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,t.role="Teacher",t.active=!0,t.birthday=null===f||void 0===f?void 0:f.toJSON(),t.number=F,e.next=8,"Add"===l?Ye.create(t):Ye.update(g,t);case 8:toastr.success("Teacher has been saved successfully."),m(),x(null),e.next=26;break;case 13:if(e.prev=13,e.t0=e.catch(1),409!==(null===(c=e.t0.response)||void 0===c?void 0:c.status)){e.next=25;break}return e.next=18,he.save(null===(s=e.t0.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message);case 18:if(!e.sent){e.next=23;break}return t.force=!0,e.next=22,E(t);case 22:return e.abrupt("return");case 23:e.next=26;break;case 25:ke(e.t0);case 26:return e.prev=26,a(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,13,26,29]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){w.path.includes("edit")?A(w.params.id):Ye.fetch().then((function(e){u("uuid","teacher-".concat("".concat(e.filter((function(e){return"Teacher"===e.role})).length+1).padStart(5,"0"),"-").concat((new Date).getFullYear()))}))}),[]),Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsx)("div",{className:"card",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsxs)("h5",{className:"card-title",children:[l," Teacher"]}),Object(Pe.jsxs)("form",{onSubmit:b(E),children:[Object(Pe.jsxs)("div",{className:"form-row",children:[Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"first_name",children:"First Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("first_name")),{},{type:"text",id:"first_name",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"uuid",children:"Teacher Number"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("uuid")),{},{type:"text",id:"uuid",className:"form-control",disabled:s||"Edit"===l}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("last_name")),{},{type:"text",id:"last_name",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("email")),{},{type:"email",id:"email",className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},d("gender")),{},{id:"gender",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),Object(Pe.jsx)("option",{value:"Male",children:"Male"}),Object(Pe.jsx)("option",{value:"Female",children:"Female"})]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"number",children:"Phone Number"}),Object(Pe.jsx)(Te.a,{mask:"0\\999-999-9999",type:"text",id:"number",className:"form-control",disabled:s,value:F,onChange:function(e){return D(e.target.value)}})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),Object(Pe.jsx)(Ae.a,{value:f||void 0,id:"birthday",options:{maxDate:N()().year((new Date).getFullYear()-15).toDate()},onChange:function(e){e.length>0&&x(e[0])},className:"form-control",disabled:s})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"address",children:"Address"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("address")),{},{type:"text",id:"address",className:"form-control",disabled:s}))]})]}),Object(Pe.jsx)("div",{className:"d-flex",children:Object(Pe.jsx)("i",{className:"ml-auto",children:"Account credentials will be sent via email."})}),Object(Pe.jsxs)("div",{className:"d-flex",children:[Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return k.goBack()},disabled:s,children:"Return"}),Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary ml-auto",disabled:s,children:"Submit"})]})]})]})})})},Ft=function(e){var t=Object(Ee.a)("users",(function(){return Ye.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch,l=de(),i=Object(ue.a)(l,2),o=i[0],d=i[1],u=oe(),b=Object(ue.a)(u,2),m=b[0],h=b[1],O=Object(C.createRef)(),f=Object(P.f)(),x=le();a&&ke(n);var p=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.danger("Are you sure you want to delete this Teacher?");case 3:if(!e.sent){e.next=8;break}return e.next=6,Ye.delete(t);case 6:toastr.info("Teacher has been deleted.","Notice"),r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye.update(t.id,{active:!t.active});case 3:toastr.success("Teacher ".concat(t.active?"disabled":"enabled"," successfully.")),r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ke(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),y=v.getInstance().get("user"),k=[{title:"Teacher #",accessor:"uuid"},{title:"Name",accessor:"name"},{title:"Email",accessor:"email"},{title:"Status",accessor:"status"}];return["Registrar","Admin"].includes((null===y||void 0===y?void 0:y.role)||"")&&(k.unshift({title:"#",accessor:"toggle"}),k.push({title:"Actions",accessor:"actions"})),Object(C.useEffect)((function(){O.current&&$(O.current).on("hidden.bs.modal",(function(){return h(null)}))}),[O,h]),Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"Teachers",loading:s,items:(null===c||void 0===c?void 0:c.filter((function(e){return"Teacher"===e.role})).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{toggle:Object(Pe.jsx)(Pe.Fragment,{children:Object(Pe.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(Pe.jsx)("input",{type:"checkbox",className:"custom-control-input",id:ve(e),onChange:function(e){var t=e.target.value.toNumber();if(o.includes(t)){var c=o.findIndex((function(e){return e===t}));o.splice(c,1)}else o.push(t);d(Object(R.a)(o))},value:e.id,checked:o.includes(e.id)}),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:ve(e)})]})}),name:Object(Pe.jsxs)(Pe.Fragment,{children:[e.last_name,", ",e.first_name," ",e.middle_name||""]}),birthday:N()(e.birthday).format("MMMM DD, YYYY"),age:(new Date).getFullYear()-N()(e.birthday).year(),status:e.active?Object(Pe.jsx)("span",{className:"badge badge-success",children:"Active"}):Object(Pe.jsx)("span",{className:"badge badge-danger",children:"Inactive"}),actions:Object(Pe.jsxs)("div",{style:{minWidth:"100px"},children:[Object(Pe.jsx)(T.b,{to:x("".concat(e.id,"/edit")),className:"btn btn-warning btn-sm mx-1",title:"Edit",children:Object(Pe.jsx)("i",{className:"fas fa-edit"})}),Object(Pe.jsx)("button",{className:"btn btn-primary btn-sm mx-1",title:"View",onClick:function(t){t.preventDefault(),h(e),O.current&&$(O.current).modal("show")},children:Object(Pe.jsx)("i",{className:"fas fa-eye"})}),Object(Pe.jsx)("button",{className:"btn btn-".concat(e.active?"danger":"info"," btn-sm mx-1"),onClick:function(){var t=Object(I.a)(Y.a.mark((function t(c){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,he.notice("Are you sure you want to ".concat(e.active?"disable":"enable"," this teacher? ").concat(e.active?"If you disable this teacher, this teacher can\u2019t access the system. And you can\u2019t distribute subjects to this teacher.":"If you enable this teacher, this teacher can access the system. And you can distribute subject to this teacher."));case 3:if(!t.sent){t.next=5;break}g(e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),title:e.active?"Disable":"Enable",children:Object(Pe.jsx)("i",{className:"fas fa-user-".concat(e.active?"times":"check")})}),Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mx-1 d-none",onClick:function(t){t.preventDefault(),p(e.id)},children:Object(Pe.jsx)("i",{className:"fas fa-trash"})})]})})})))||[],columns:k,buttons:Object(Pe.jsx)(Pe.Fragment,{children:["Registrar","Admin"].includes((null===y||void 0===y?void 0:y.role)||"")?Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(T.b,{to:x("add"),className:"btn btn-primary btn-sm ml-2",children:Object(Pe.jsx)("i",{className:"fas fa-plus"})}),Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm ml-2",title:"Disable Selected",onClick:function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(o.length>0)){e.next=17;break}return e.next=4,he.danger("Are you sure you want to disable ".concat(o.length," ").concat(1===o.length?"teacher":"teachers","? If you disable ").concat(1===o.length?"this":"these"," ").concat(1===o.length?"teacher":"teachers",", ").concat(1===o.length?"this":"these"," ").concat(1===o.length?"teacher":"teachers"," can\u2019t access the system. And you can\u2019t distribute subjects to ").concat(1===o.length?"this":"these"," ").concat(1===o.length?"teacher":"teachers","."));case 4:if(!e.sent){e.next=17;break}return e.prev=5,e.next=8,Promise.all(o.map((function(e){return Ye.update(e,{active:!1})})));case 8:toastr.success("".concat(o.length," ").concat(1===o.length?"teacher":"teachers"," disabled successfully.")),d([]),r(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0),toastr.error("Unable to disable teachers.");case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),children:Object(Pe.jsx)("i",{className:"fas fa-user-times"})})]}):null})}),Object(Pe.jsx)("div",{ref:O,className:"modal fade",tabIndex:-1,children:Object(Pe.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:Object(Pe.jsxs)("div",{className:"modal-content",children:[Object(Pe.jsxs)("div",{className:"modal-header",children:[Object(Pe.jsx)("h5",{className:"modal-title",children:"View Teacher"}),Object(Pe.jsx)("button",{type:"button",className:"close",onClick:function(e){e.preventDefault(),O.current&&$(O.current).modal("hide")},children:Object(Pe.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Pe.jsx)("div",{className:"modal-body",children:m&&Object(Pe.jsxs)("div",{className:"container-fluid row",children:[Object(Pe.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 p-2 border",children:[Object(Pe.jsx)("label",{className:"font-weight-bold d-block",children:"Teacher #"}),m.uuid]}),Object(Pe.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 p-2 border",children:[Object(Pe.jsx)("label",{className:"font-weight-bold d-block",children:"Name"}),m.last_name,", ",m.first_name," ",m.last_name||""]}),Object(Pe.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 p-2 border",children:[Object(Pe.jsx)("label",{className:"font-weight-bold d-block",children:"Phone Number"}),m.number]}),Object(Pe.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 p-2 border",children:[Object(Pe.jsx)("label",{className:"font-weight-bold d-block",children:"Email"}),m.email]}),Object(Pe.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 p-2 border",children:[Object(Pe.jsx)("label",{className:"font-weight-bold d-block",children:"Address"}),m.address]}),Object(Pe.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 p-2 border",children:[Object(Pe.jsx)("label",{className:"font-weight-bold d-block",children:"Gender"}),m.gender]}),Object(Pe.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 p-2 border",children:[Object(Pe.jsx)("label",{className:"font-weight-bold d-block",children:"Birthday"}),N()(m.birthday).format("MMMM DD, YYYY")]}),Object(Pe.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 p-2 border",children:[Object(Pe.jsx)("label",{className:"font-weight-bold d-block",children:"Age"}),N()().year()-N()(m.birthday).year()]}),Object(Pe.jsxs)("div",{className:"col-12 col-md-6 col-lg-4 p-2 border",children:[Object(Pe.jsx)("label",{className:"font-weight-bold d-block",children:"Status"}),m.active?Object(Pe.jsx)("span",{className:"badge badge-success",children:"Active"}):Object(Pe.jsx)("span",{className:"badge badge-danger",children:"Inactive"})]})]})}),Object(Pe.jsxs)("div",{className:"modal-footer",children:[m&&Object(Pe.jsx)("button",{className:"btn btn-warning btn-sm mx-1",title:"Edit",onClick:function(e){e.preventDefault(),O.current&&($(O.current).modal("hide"),f.push(x("".concat(m.id,"/edit"))))},children:"Edit"}),Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(e){e.preventDefault(),O.current&&$(O.current).modal("hide")},children:"Close"})]})]})})})]})},Ct=function(e){var t=le(),c=[{path:t("/"),exact:!0,component:Ft},{path:t("/add"),component:_t},{path:t("/:id/edit"),component:_t}];return Object(Pe.jsx)(P.c,{children:c.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},Dt=function(e){var t=Object(Ee.a)("users",(function(){return Ye.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch,l=v.getInstance().get("user"),i=oe(),d=Object(ue.a)(i,2),u=d[0],b=d[1],m=Object(C.createRef)(),h=Object(je.a)(),O=h.register,f=h.handleSubmit,x=h.reset,p=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",toastr.error("No user selected."));case 2:if(t.new_password===t.repeat_password){e.next=4;break}return e.abrupt("return",toastr.error("New password does not match repeat password."));case 4:return e.prev=4,t.user_id=u,e.next=8,o.a.post("/users/change",t);case 8:toastr.success("User password changed successfully."),m.current&&$(m.current).modal("hide"),b(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),ke(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();a&&ke(n);var N=[{title:"#",accessor:"id"},{title:"User Number",accessor:"uuid"},{title:"User Type",accessor:"role"},{title:"Full Name",accessor:"full_name"},{title:"Email",accessor:"email"},{title:"Phone Number",accessor:"number"}];return"Admin"===(null===l||void 0===l?void 0:l.role)&&N.push({title:"Actions",accessor:"actions"}),Object(C.useEffect)((function(){m.current&&$(m.current).on("hidden.bs.modal",(function(){return x()}))}),[]),Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"Users",loading:s,items:(null===c||void 0===c?void 0:c.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{full_name:Object(Pe.jsxs)(Pe.Fragment,{children:[e.last_name,", ",e.first_name," ",e.middle_name||""]}),actions:Object(Pe.jsx)(Pe.Fragment,{children:Object(Pe.jsx)("button",{className:"btn btn-warning btn-sm mx-1",onClick:function(t){t.preventDefault(),b(e.id),m.current&&$(m.current).modal("toggle")},title:"Change Password",children:Object(Pe.jsx)("i",{className:"fas fa-key"})})})})})))||[],columns:N,buttons:Object(Pe.jsx)(Pe.Fragment,{})}),Object(Pe.jsx)("div",{ref:m,className:"modal fade",tabIndex:-1,children:Object(Pe.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:Object(Pe.jsxs)("div",{className:"modal-content",children:[Object(Pe.jsxs)("div",{className:"modal-header",children:[Object(Pe.jsx)("h5",{className:"modal-title",children:"Change Password"}),Object(Pe.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:Object(Pe.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(Pe.jsxs)("form",{onSubmit:f(p),children:[Object(Pe.jsx)("div",{className:"modal-body",children:Object(Pe.jsxs)("div",{className:"container-fluid",children:[Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},O("password")),{},{type:"password",id:"password",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group mt-3",children:[Object(Pe.jsx)("label",{htmlFor:"new_password",children:"User's New Password"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},O("new_password")),{},{type:"password",id:"new_password",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"repeat_password",children:"Repeat New Password"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},O("repeat_password")),{},{type:"password",id:"repeat_password",className:"form-control"}))]})]})}),Object(Pe.jsxs)("div",{className:"modal-footer",children:[Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Submit"}),Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Close"})]})]})]})})})]})},At=function(e){var t=[{path:le()("/"),exact:!0,component:Dt}];return Object(Pe.jsx)(P.c,{children:t.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},Et=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=ie(),r=Object(ue.a)(n,2),l=r[0],i=r[1],o=Object(je.a)({defaultValues:{start:(new Date).getFullYear(),end:(new Date).getFullYear()+1,current:!0}}),d=o.register,u=o.setValue,b=o.handleSubmit,m=o.reset,h=Object(C.useState)(-1),O=Object(ue.a)(h,2),f=O[0],x=O[1],v=Object(P.f)(),p=Object(P.h)(),g=oe(),y=Object(ue.a)(g,2),k=y[0],w=y[1],S=oe(),_=Object(ue.a)(S,2),F=_[0],D=_[1],A=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.fetchOne(t);case 3:c=e.sent,x(c.id),Ne(u,c),w(N()(c.semester_start).toDate()),D(N()(c.semester_end).toDate()),i("Edit"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),ke(e.t0),v.goBack();case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,t.semester_start=(null===k||void 0===k?void 0:k.toJSON())||"",t.semester_end=(null===F||void 0===F?void 0:F.toJSON())||"",e.next=6,"Add"===l?Me.create(t):Me.update(f,t);case 6:toastr.success("School Year has been saved successfully."),m(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),ke(e.t0);case 13:return e.prev=13,a(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){p.path.includes("edit")&&A(p.params.id)}),[]),Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsx)("div",{className:"card",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsxs)("h5",{className:"card-title",children:[l," School Year"]}),Object(Pe.jsxs)("form",{onSubmit:b(E),children:[Object(Pe.jsxs)("div",{className:"form-row",children:[Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"start",children:"Start"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("start")),{},{type:"number",id:"start",min:(new Date).getFullYear(),max:(new Date).getFullYear()+10,className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"end",children:"End"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("end")),{},{type:"number",id:"end",min:(new Date).getFullYear(),max:(new Date).getFullYear()+10,className:"form-control",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"semester_start",children:"Semester Start"}),Object(Pe.jsx)(Ae.a,{value:k||void 0,id:"semester_start",onChange:function(e){e.length>0&&w(e[0])},className:"form-control",disabled:s})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"semester_end",children:"Semester End"}),Object(Pe.jsx)(Ae.a,{value:F||void 0,id:"semester_end",onChange:function(e){e.length>0&&D(e[0])},className:"form-control",disabled:s})]}),Object(Pe.jsx)("div",{className:"form-group col-12",children:Object(Pe.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},d("current")),{},{type:"checkbox",className:"custom-control-input",id:"current",disabled:s})),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:"current",children:"Set as Current"})]})})]}),Object(Pe.jsxs)("div",{className:"form-group d-flex",children:[Object(Pe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return v.goBack()},disabled:s,children:"Return"}),Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary ml-auto",disabled:s,children:"Submit"})]})]})]})})})},Rt=function(e){var t=Object(Ee.a)("years",(function(){return Me.fetch()})),c=t.data,s=t.isFetching,a=t.isError,n=t.error,r=t.refetch,l=le();a&&ke(n);var i=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.notice("Are you sure you want to set the current school year?");case 3:if(!e.sent){e.next=8;break}return e.next=6,Me.update(t.id,{current:!0});case 6:toastr.info("Year ".concat(t.start," - ").concat(t.end," has been set as current school year."),"Notice"),r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(I.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.danger("Are you sure you want to delete this School Year?");case 3:if(!e.sent){e.next=8;break}return e.next=6,Me.delete(t);case 6:toastr.info("School Year has been deleted.","Notice"),r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ke(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),d=v.getInstance().get("user"),u=[{title:"ID",accessor:"id"},{title:"Start",accessor:"start"},{title:"End",accessor:"end"},{title:"Semester Start",accessor:"semester_start"},{title:"Semester End",accessor:"semester_end"},{title:"",accessor:"current"}];return"Registrar"===(null===d||void 0===d?void 0:d.role)&&u.push({title:"Actions",accessor:"actions"}),Object(Pe.jsx)(Be,{onRefresh:function(){return r()},title:"School Years",loading:s,items:(null===c||void 0===c?void 0:c.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{semester_start:N()(e.semester_start).format("MMMM DD, YYYY"),semester_end:N()(e.semester_end).format("MMMM DD, YYYY"),current:e.current?Object(Pe.jsx)("span",{className:"badge badge-success",children:"Current"}):"",actions:"Registrar"===(null===d||void 0===d?void 0:d.role)?Object(Pe.jsxs)(Pe.Fragment,{children:[Object(Pe.jsx)(T.b,{to:l("".concat(e.id,"/edit")),className:"btn btn-warning btn-sm mx-1",title:"Edit",children:Object(Pe.jsx)("i",{className:"fas fa-edit"})}),e.current?null:Object(Pe.jsx)("button",{className:"btn btn-success btn-sm mx-1",onClick:function(t){t.preventDefault(),i(e)},title:"Set as Current",children:Object(Pe.jsx)("i",{className:"fas fa-check"})}),Object(Pe.jsx)("button",{className:"btn btn-danger btn-sm mx-1",onClick:function(t){t.preventDefault(),o(e.id)},title:"Delete",children:Object(Pe.jsx)("i",{className:"fas fa-trash"})})]}):null})})))||[],columns:u,buttons:Object(Pe.jsx)(Pe.Fragment,{children:"Registrar"===(null===d||void 0===d?void 0:d.role)?Object(Pe.jsx)(T.b,{to:l("add"),className:"btn btn-primary btn-sm ml-2",children:Object(Pe.jsx)("i",{className:"fas fa-plus"})}):null})})},Mt=function(e){var t=le(),c=[{path:t("/"),exact:!0,component:Rt},{path:t("/add"),component:Et},{path:t("/:id/edit"),component:Et}];return Object(Pe.jsx)(P.c,{children:c.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})},Yt=function(e){var t=Object(P.f)(),c=v.getInstance(),s=le(),a=[{path:s(""),exact:!0,component:ze},{path:s(W),component:Je},{path:s(z),component:yt},{path:s(H),component:Ct},{path:s(Z),component:dt},{path:s(X),component:At},{path:s(ee),component:lt},{path:s(V),component:qe},{path:s(Q),component:St},{path:s(K),component:vt},{path:s(L),component:$e},{path:s(te),component:Mt},{path:s(ce),component:Xe},{path:s(se),component:Qe},{path:s(ae),component:et},{path:s(ne),component:mt},{path:s(re),component:st}];return c.has("user")?Object(Pe.jsx)("div",{className:"vertical dark",children:Object(Pe.jsxs)("div",{className:"wrapper",children:[Object(Pe.jsx)(He,{}),Object(Pe.jsx)(Ze,{}),Object(Pe.jsx)("main",{role:"main",className:"main-content",children:Object(Pe.jsx)("div",{className:"container-fluid",children:Object(Pe.jsx)("div",{className:"row justify-content-center",children:Object(Pe.jsx)("div",{className:"col-12",children:Object(Pe.jsx)("div",{className:"row align-items-center mb-2",children:Object(Pe.jsx)("div",{className:"col",children:Object(Pe.jsx)(P.c,{children:a.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})})})})})})})]})}):(t.push(U),null)},It=c.p+"static/media/landing.5ad43824.jpg",Tt=(c(102),function(e){return Object(Pe.jsx)("section",{id:"intro",className:"parallax-section",style:{background:"url(".concat(It,") 50% 0 repeat-y fixed")},children:Object(Pe.jsx)("div",{className:"container",children:Object(Pe.jsx)("div",{className:"row",children:Object(Pe.jsxs)("div",{className:"col-md-12 col-sm-12",children:[Object(Pe.jsx)("h3",{className:"wow bounceIn animated text-shadow-dark","data-wow-delay":"0.9s",style:{visibility:"visible",animationDelay:"0.9s",animationName:"bounceIn"},children:"Welcome to"}),Object(Pe.jsx)("h1",{className:"wow fadeInUp animated text-shadow-dark","data-wow-delay":"1.6s",style:{visibility:"visible",animationDelay:"1.6s",animationName:"fadeInUp"},children:"EMC Registration System"}),Object(Pe.jsx)(T.b,{to:G,className:"btn btn-lg btn-danger smoothScroll wow fadeInUp animated","data-wow-delay":"2.3s",style:{visibility:"visible",animationDelay:"2.3s",animationName:"fadeInUp"},children:"Log In"}),Object(Pe.jsx)(T.b,{to:J,className:"btn btn-lg btn-danger smoothScroll wow fadeInUp animated","data-wow-delay":"2.3s",style:{visibility:"visible",animationDelay:"2.3s",animationName:"fadeInUp"},children:"Pre Registration"})]})})})})}),Pt=function(e){var t=Object(C.useState)(!1),c=Object(ue.a)(t,2),s=c[0],a=c[1],n=Object(je.a)(),r=n.register,l=n.handleSubmit,i=Object(P.f)(),d=v.getInstance(),u=Object(P.g)().role,b=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s,n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,o.a.post("/auth/login",Object(j.a)(Object(j.a)({},t),{},{role:u}));case 4:c=e.sent,s=c.data,n=s.user,r=s.token,d.set("user",n),d.set("token",r),toastr.success("Welcome back, ".concat(null===n||void 0===n?void 0:n.first_name,".")),i.push(B),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),ke(e.t0,!1);case 17:return e.prev=17,a(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(t){return e.apply(this,arguments)}}();return d.has("user")?(i.push(B),null):Object(Pe.jsx)("div",{className:"wrapper vh-100 overflow-hidden",children:Object(Pe.jsx)("div",{className:"row align-items-center h-100",children:Object(Pe.jsx)("form",{className:"col-lg-3 col-md-4 col-10 mx-auto text-center",onSubmit:l(b),children:Object(Pe.jsx)("div",{className:"card",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsx)("div",{className:"text-left",children:Object(Pe.jsx)("a",{href:"/",onClick:function(e){e.preventDefault(),i.goBack()},children:"Back"})}),Object(Pe.jsx)(T.b,{className:"navbar-brand mx-auto mt-2 flex-fill text-center",to:U,children:Object(Pe.jsx)("img",{src:"/logo.jpg",alt:"EMC",style:{width:"80px",height:"80px"},className:"rounded-circle border"})}),Object(Pe.jsx)("h1",{className:"h6 mb-3",children:"Login"}),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email Address"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},r("email")),{},{type:"text",id:"email",className:"form-control form-control-lg",placeholder:"Email Address",disabled:s}))]}),Object(Pe.jsxs)("div",{className:"form-group",children:[Object(Pe.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},r("password")),{},{type:"password",id:"password",className:"form-control form-control-lg",placeholder:"Password",disabled:s}))]}),Object(Pe.jsx)(T.b,{to:q,className:"d-block",children:"Forgot password?"}),Object(Pe.jsx)(T.b,{to:U,className:"d-block",children:"Return to Home Page"}),Object(Pe.jsx)("button",{className:"btn btn-primary btn-block mt-5 btn-lg",type:"submit",disabled:s,children:s?Object(Pe.jsx)("i",{className:"fa fa-circle-notch fa-spin"}):"Login"})]})})})})})},Lt=function(e){var t=le();return Object(Pe.jsx)("div",{className:"vh-100 d-flex",children:Object(Pe.jsx)("div",{className:"card align-self-center mx-auto",children:Object(Pe.jsxs)("div",{className:"card-body",children:[Object(Pe.jsx)(T.b,{className:"m-2 d-block btn btn-primary btn-lg",to:t("admin"),children:"Admin"}),Object(Pe.jsx)(T.b,{className:"m-2 d-block btn btn-info btn-lg",to:t("registrar"),children:"Registrar"}),Object(Pe.jsx)(T.b,{className:"m-2 d-block btn btn-success btn-lg",to:t("teacher"),children:"Teacher"}),Object(Pe.jsx)(T.b,{className:"m-2 d-block btn btn-danger btn-lg",to:t("student"),children:"Student"})]})})})},Bt=function(e){var t=le(),c=v.getInstance(),s=Object(P.f)();return c.has("user")?(s.push(B),null):Object(Pe.jsxs)(P.c,{children:[Object(Pe.jsx)(P.a,{path:t("/"),exact:!0,component:Lt}),Object(Pe.jsx)(P.a,{path:t("/:role"),component:Pt})]})},Ut=c(65),$t=c(107),qt=function(e){var t,c=Object(C.useState)(!1),s=Object(ue.a)(c,2),a=s[0],n=s[1],r=Object(C.useState)(!1),l=Object(ue.a)(r,2),i=l[0],d=l[1],u=Object(je.a)({defaultValues:{force:!1}}),b=u.register,m=u.handleSubmit,h=u.reset,O=u.setValue,f=oe(),x=Object(ue.a)(f,2),v=x[0],p=x[1],g=oe(),y=Object(ue.a)(g,2),k=y[0],w=y[1],S=Object(Ee.a)("courses",(function(){return Re.fetch()})).data,_=Object(Ee.a)("years",(function(){return Me.fetch()}),{onSuccess:function(e){0===e.length&&toastr.info("Registrar has not set a school year. Pre Registration will not be available until a registrar creates one.","Notice")}}).data,F=Object(Ee.a)("requirements",(function(){return ut.fetch()})).data,D=de(),A=Object(ue.a)(D,2),E=A[0],M=A[1],T=Object(C.useState)(""),L=Object(ue.a)(T,2),B=L[0],U=L[1],$=Object(P.f)(),q=function(){var e=Object(I.a)(Y.a.mark((function e(t){var c,s,a,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,t.status="Regular",t.term="1st Semester",t.year_id=(null===_||void 0===_||null===(c=_.find((function(e){return e.current})))||void 0===c?void 0:c.id)||0,t.pre_registration=!0,t.requirements=E,t.student.number=B,e.next=10,o.a.post("/admission/pre-registration",t);case 10:toastr.success("Pre Registration saved successfully."),h(),$.goBack(),e.next=28;break;case 15:if(e.prev=15,e.t0=e.catch(1),409!==(null===(s=e.t0.response)||void 0===s?void 0:s.status)){e.next=27;break}return e.next=20,he.notice(null===(a=e.t0.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message);case 20:if(!e.sent){e.next=25;break}return t.force=!0,e.next=24,q(t);case 24:return e.abrupt("return");case 25:e.next=28;break;case 27:ke(e.t0);case 28:return e.prev=28,n(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[1,15,28,31]])})));return function(t){return e.apply(this,arguments)}}();return Object(C.useEffect)((function(){Ye.fetch().then((function(e){O("student.uuid","student-".concat("".concat(e.filter((function(e){return"Student"===e.role})).length).padStart(5,"0"),"-").concat((new Date).getFullYear()))}))}),[]),Object(Pe.jsxs)("div",{className:"container py-5",children:[Object(Pe.jsx)("h3",{children:"Pre Registration Form"}),Object(Pe.jsxs)("form",{className:"form-row",onSubmit:m(q),children:[Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"first_name",children:"First Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.first_name")),{},{type:"text",id:"first_name",className:"form-control",disabled:a}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"address",children:"Address"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.address")),{},{type:"text",id:"address",className:"form-control",disabled:a}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"middle_name",children:"Middle Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.middle_name")),{},{type:"text",id:"middle_name",className:"form-control",disabled:a}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"number",children:"Phone Number"}),Object(Pe.jsx)(Te.a,{mask:"0\\999-999-9999",type:"text",id:"number",className:"form-control",disabled:a,value:B,onChange:function(e){return U(e.target.value)}})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.last_name")),{},{type:"text",id:"last_name",className:"form-control",disabled:a}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.email")),{},{type:"email",id:"email",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},b("student.gender")),{},{id:"gender",className:"form-control",disabled:a,children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),Object(Pe.jsx)("option",{value:"Male",children:"Male"}),Object(Pe.jsx)("option",{value:"Female",children:"Female"})]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),Object(Pe.jsx)(Ae.a,{value:v||void 0,id:"birthday",options:{maxDate:N()().year((new Date).getFullYear()-15).toDate()},onChange:function(e){e.length>0&&p(e[0])},className:"form-control",disabled:a})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"course_id",children:"Course"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},b("course_id")),{},{id:"course_id",className:"form-control",onChange:function(e){var t=e.target.value.toNumber(),c=null===S||void 0===S?void 0:S.find((function(e){return e.id===t}));w(c||null)},children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),null===S||void 0===S?void 0:S.filter((function(e){return e.open})).map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.description},t)}))]}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"level",children:"Year Level"}),Object(Pe.jsxs)("select",Object(j.a)(Object(j.a)({},b("level")),{},{id:"level",className:"form-control",children:[Object(Pe.jsx)("option",{children:" -- Select -- "}),Object(Pe.jsx)("option",{value:"1st",children:"1st"}),Object(Pe.jsx)("option",{value:"2nd",children:"2nd"}),Object(Pe.jsx)("option",{value:"3rd",children:"3rd"}),Object(Pe.jsx)("option",{value:"4th",children:"4th"}),Object(Pe.jsx)("option",{value:"5th",children:"5th"})]}))]}),k&&k.majors&&k.majors.length>0?Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"major_id",children:"Major"}),Object(Pe.jsx)("select",Object(j.a)(Object(j.a)({},b("major_id")),{},{id:"major_id",className:"form-control",children:null===k||void 0===k||null===(t=k.majors)||void 0===t?void 0:t.map((function(e,t){return Object(Pe.jsx)("option",{value:e.id,children:e.name},t)}))}))]}):null,Object(Pe.jsxs)("div",{className:"form-group col-12 p-2",children:[Object(Pe.jsx)("div",{className:"text-center",children:Object(Pe.jsx)("h3",{children:"Requirements"})}),Object(Pe.jsxs)("div",{className:"p-2 border rounded row",children:[0===(null===F||void 0===F?void 0:F.length)?"No Requirements":"",null===F||void 0===F?void 0:F.map((function(e,t){return Object(Pe.jsx)("div",{className:"col-12 col-md-6 col-lg-4 col-xl-3",children:Object(Pe.jsx)("div",{className:"form-group",children:Object(Pe.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(Pe.jsx)("input",{type:"checkbox",className:"custom-control-input",id:JSON.stringify(e),disabled:a,onChange:function(e){var t=e.target.value;if(E.includes(t)){var c=E.findIndex((function(e){return e===t}));E.splice(c,1)}else E.push(t);M(Object(R.a)(E))},checked:E.includes(e.name),value:e.name}),Object(Pe.jsx)("label",{className:"custom-control-label",htmlFor:JSON.stringify(e),children:e.name})]})})},t)})),Object(Pe.jsx)("div",{className:"col-12 d-flex",children:Object(Pe.jsx)("button",{className:"btn btn-".concat(i?"danger":"secondary"," btn-sm ml-auto"),onClick:function(e){e.preventDefault(),F&&(M(i?[]:F.map((function(e){return e.name}))),d(!i))},children:i?"Unselect All":"Select All"})})]})]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"fathers_name",children:"Name of Father"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.fathers_name")),{},{type:"text",id:"fathers_name",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"mothers_name",children:"Name of Mother"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.mothers_name")),{},{type:"text",id:"mothers_name",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"fathers_occupation",children:"Occupation of Father"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.fathers_occupation")),{},{type:"text",id:"fathers_occupation",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6",children:[Object(Pe.jsx)("label",{htmlFor:"mothers_occupation",children:"Occupation of Mother"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.mothers_occupation")),{},{type:"text",id:"mothers_occupation",className:"form-control"}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 col-md-6 d-none",children:[Object(Pe.jsx)("label",{htmlFor:"uuid",children:"Student Number"}),Object(Pe.jsx)("input",Object(j.a)(Object(j.a)({},b("student.uuid")),{},{type:"text",id:"uuid",className:"form-control",disabled:a}))]}),Object(Pe.jsxs)("div",{className:"form-group col-12 d-flex",children:[Object(Pe.jsx)("span",{className:"mr-auto",children:Object(Pe.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:function(e){e.preventDefault(),$.goBack()},disabled:a,children:"Return"})}),Object(Pe.jsx)("span",{className:"ml-auto",children:Object(Pe.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:a,children:"Submit"})})]})]})]})},Vt=["/js/popper.min.js","/js/moment.min.js","/js/bootstrap.min.js","/js/simplebar.min.js","/js/daterangepicker.js","/js/jquery.stickOnScroll.js","/js/tinycolor-min.js","/js/config.js","/js/d3.min.js","/js/topojson.min.js","/js/datamaps.all.min.js","/js/datamaps-zoomto.js","/js/datamaps.custom.js","/js/Chart.min.js","/js/chart-setup.js","/js/gauge.min.js","/js/jquery.sparkline.min.js","/js/apexcharts.min.js","/js/apexcharts.custom.js","/js/jquery.mask.min.js","/js/select2.min.js","/js/jquery.steps.min.js","/js/jquery.validate.min.js","/js/jquery.timepicker.js","/js/dropzone.min.js","/js/uppy.min.js","/js/quill.min.js","/js/setup-1.js","/js/uppy.js","/js/apps.js"];function Gt(){var e=v.getInstance(),t=Object(C.useMemo)((function(){return[{path:U,exact:!0,component:Tt},{path:G,component:Bt},{path:B,component:Yt},{path:J,component:qt}]}),[]),c=function(){var t=Object(I.a)(Y.a.mark((function t(){var c,s,a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.get("/auth/check");case 3:c=t.sent,s=c.data,e.set("user",s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),401===(null===(a=t.t0.response)||void 0===a?void 0:a.status)&&e.remove("user").remove("token");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(C.useEffect)((function(){var e;c();var t=Object(h.a)(),s=Vt.map((function(e){var c=document.createElement("script");return c.src=e,c.classList.add(t),c.defer=!0,c}));return(e=document.body).append.apply(e,Object(R.a)(s)),function(){$(".".concat(t)).remove()}}),[]),Object(Pe.jsx)(Ut.a,{client:new $t.a,children:Object(Pe.jsx)(T.a,{children:Object(Pe.jsx)(P.c,{children:t.map((function(e,t){return Object(C.createElement)(P.a,Object(j.a)(Object(j.a)({},e),{},{key:t}))}))})})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Jt=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,110)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),s(e),a(e),n(e),r(e)}))};c(103);E.a.render(Object(Pe.jsx)(D.a.StrictMode,{children:Object(Pe.jsx)(Gt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),Jt()}},[[104,1,2]]]);
//# sourceMappingURL=main.e5478b6c.chunk.js.map